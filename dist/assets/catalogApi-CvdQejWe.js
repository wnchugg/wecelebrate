import{w as i,am as d,g,p as w}from"./index-DAep3-17.js";const n=`https://${i}.supabase.co/functions/v1/make-server-6fcaeea3`;function r(){const a=d(),t=g();if(!a)throw new Error("Authentication required");return{Authorization:`Bearer ${w}`,"X-Access-Token":a,"X-Environment-ID":t.id,"Content-Type":"application/json"}}async function u(a){const t=new URLSearchParams;a!=null&&a.type&&t.append("type",a.type),a!=null&&a.status&&t.append("status",a.status),a!=null&&a.ownerId&&t.append("ownerId",a.ownerId);const o=`${n}/catalogs${t.toString()?"?"+t.toString():""}`,e=await fetch(o,{headers:r()});if(!e.ok){const c=await e.json();throw new Error(c.error||"Failed to fetch catalogs")}return(await e.json()).catalogs||[]}async function p(a){const t=await fetch(`${n}/catalogs/${a}`,{headers:r()});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to fetch catalog")}return(await t.json()).catalog}async function f(a){const t=await fetch(`${n}/catalogs`,{method:"POST",headers:r(),body:JSON.stringify(a)});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to create catalog")}return(await t.json()).catalog}async function l(a,t){const o=await fetch(`${n}/catalogs/${a}`,{method:"PUT",headers:r(),body:JSON.stringify(t)});if(!o.ok){const s=await o.json();throw new Error(s.error||"Failed to update catalog")}return(await o.json()).catalog}async function y(a){const t=await fetch(`${n}/catalogs/${a}`,{method:"DELETE",headers:r()});if(!t.ok){const o=await t.json();throw new Error(o.error||"Failed to delete catalog")}}async function j(a){const t=await fetch(`${n}/sites/${a}/catalog-config`,{headers:r()});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to fetch site catalog configuration")}return(await t.json()).config}async function $(a,t){const o=await fetch(`${n}/sites/${a}/catalog-config`,{method:"POST",headers:r(),body:JSON.stringify(t)});if(!o.ok){const s=await o.json();throw new Error(s.error||"Failed to create/update site catalog configuration")}return(await o.json()).config}export{p as a,j as b,f as c,y as d,$ as e,u as f,l as u};
