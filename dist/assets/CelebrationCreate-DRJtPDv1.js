import{u as T,o as O,q as _,r,j as e,n as R,t as o,p as w,w as C}from"./index-BKvtyMRF.js";import{G as i}from"./gift-CtJfH7eH.js";import{C as q}from"./calendar-BAjdUmv6.js";import{S as G}from"./send-ChIgrhaW.js";import{M as k}from"./mail-CHFpKMdT.js";const H=[{id:"confetti",name:"Confetti Celebration",icon:"ðŸŽŠ",color:"#FF6B9D",gradient:"linear-gradient(135deg, #FF6B9D 0%, #FFD93D 100%)",pattern:"confetti",description:"Bright and festive with confetti bursts"},{id:"starlight",name:"Starlight Achievement",icon:"ðŸŒŸ",color:"#6C5CE7",gradient:"linear-gradient(135deg, #6C5CE7 0%, #A29BFE 100%)",pattern:"stars",description:"Elegant purple with twinkling stars"},{id:"heartfelt",name:"Heartfelt Thanks",icon:"ðŸ’™",color:"#00B4CC",gradient:"linear-gradient(135deg, #00B4CC 0%, #FFD93D 100%)",pattern:"hearts",description:"Warm cyan to yellow gradient"},{id:"balloons",name:"Balloon Party",icon:"ðŸŽˆ",color:"#FD79A8",gradient:"linear-gradient(135deg, #FD79A8 0%, #FDCB6E 100%)",pattern:"balloons",description:"Playful pink with floating balloons"},{id:"excellence",name:"Excellence Award",icon:"âœ¨",color:"#D91C81",gradient:"linear-gradient(135deg, #D91C81 0%, #1B2A5E 100%)",pattern:"sparkles",description:"Bold magenta to blue gradient"},{id:"champion",name:"Champion Spirit",icon:"ðŸ†",color:"#1B2A5E",gradient:"linear-gradient(135deg, #1B2A5E 0%, #00B4CC 100%)",pattern:"trophy",description:"Professional blue gradient"},{id:"floral",name:"Floral Appreciation",icon:"ðŸŒ¸",color:"#FF6B9D",gradient:"linear-gradient(135deg, #FF6B9D 0%, #FFFFFF 100%)",pattern:"floral",description:"Soft pink with floral accents"},{id:"outstanding",name:"Outstanding Achievement",icon:"â­",color:"#00B4CC",gradient:"linear-gradient(135deg, #00B4CC 0%, #0066CC 100%)",pattern:"shine",description:"Dynamic blue gradient"}];function ee(){const j=T();O();const{currentSite:J}=_(),[p,x]=r.useState("select"),[s,S]=r.useState(null),[c,D]=r.useState(""),[d,F]=r.useState(""),[u,M]=r.useState("peer"),[U,E]=r.useState(null),[h,A]=r.useState(null),[$,b]=r.useState(!1),[m,v]=r.useState(""),[B,y]=r.useState(!1),[g,P]=r.useState(null),[W,N]=r.useState(!1),l={name:"Sarah Johnson",milestone:"5 Year Anniversary",date:"March 15, 2024"},I=t=>{var n;const a=(n=t.target.files)==null?void 0:n[0];if(a){E(a);const f=new FileReader;f.onloadend=()=>{A(f.result)},f.readAsDataURL(a)}},z=async()=>{if(!s||!c||!d){o.error("Please complete all required fields");return}try{N(!0);const t=await fetch("https://us-central1-make-server-6fcaeea3.cloudfunctions.net/public/celebrations",{method:"POST",headers:{"Content-Type":"application/json","X-Environment-ID":C,Authorization:`Bearer ${w}`},body:JSON.stringify({recipientId:"EMP001",recipientName:l.name,milestoneId:"anniversary-5",milestoneName:l.milestone,message:c,eCardId:s.id,eCardImage:s.gradient,from:d,fromEmail:"",visibility:"public"})});if(!t.ok)throw new Error("Failed to create celebration");const a=await t.json();if(a.success)P(a.celebration.id),o.success("Celebration created successfully!"),x("success");else throw new Error(a.error||"Failed to create celebration")}catch(t){console.error("Error creating celebration:",t),o.error(t.message||"Failed to create celebration")}finally{N(!1)}},Y=()=>{const t=g?`${window.location.origin}/celebration?id=${g}`:`${window.location.origin}/celebrate/EMP001/anniversary-5`;navigator.clipboard.writeText(t),y(!0),o.success("Link copied to clipboard!"),setTimeout(()=>y(!1),2e3)},L=async()=>{if(!m||!g){o.error("Please enter an email address");return}try{const t=await fetch(`https://us-central1-make-server-6fcaeea3.cloudfunctions.net/public/celebrations/${g}/invite`,{method:"POST",headers:{"Content-Type":"application/json","X-Environment-ID":C,Authorization:`Bearer ${w}`},body:JSON.stringify({email:m})});if(!t.ok)throw new Error("Failed to send invitation");const a=await t.json();if(a.success)o.success(`Invitation sent to ${m}`),v(""),b(!1);else throw new Error(a.error||"Failed to send invitation")}catch(t){console.error("Error sending invite:",t),o.error(t.message||"Failed to send invitation")}};return p==="select"?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-cyan-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#D91C81] to-[#1B2A5E] text-white py-8 px-4 shadow-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-3",children:[e.jsx(i,{className:"w-10 h-10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:l.name}),e.jsxs("div",{className:"flex items-center justify-center gap-3 mt-2",children:[e.jsx(q,{className:"w-5 h-5"}),e.jsxs("p",{className:"text-xl text-white/90",children:[l.milestone," â€¢ ",l.date]})]})]}),e.jsx(i,{className:"w-10 h-10"})]}),e.jsx("p",{className:"text-center text-white/80 text-sm",children:"You're invited to share your congratulations"})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-sm mb-4",children:[e.jsx(i,{className:"w-5 h-5 text-[#D91C81]"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 1 of 3"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Choose Your eCard"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Select a design that expresses your appreciation"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:H.map(t=>e.jsxs("button",{onClick:()=>{S(t),x("compose")},className:"group relative bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all transform hover:-translate-y-2 text-left",children:[e.jsxs("div",{className:"w-full h-48 rounded-xl flex flex-col items-center justify-center text-white font-bold text-2xl mb-4 overflow-hidden relative",style:{background:t.gradient},children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[t.pattern==="confetti"&&e.jsx("div",{className:"absolute inset-0",children:Array.from({length:20}).map((a,n)=>e.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,transform:`rotate(${Math.random()*360}deg)`}},n))}),t.pattern==="stars"&&e.jsx("div",{className:"absolute inset-0",children:Array.from({length:15}).map((a,n)=>e.jsx("div",{className:"absolute text-white text-xl",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:"â˜…"},n))}),t.pattern==="hearts"&&e.jsx("div",{className:"absolute inset-0",children:Array.from({length:12}).map((a,n)=>e.jsx("div",{className:"absolute text-white text-2xl",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:"â™¥"},n))})]}),e.jsx("span",{className:"text-6xl mb-3 relative z-10",children:t.icon}),e.jsx("span",{className:"text-lg relative z-10",children:t.name})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description}),e.jsx("div",{className:"absolute inset-0 rounded-2xl border-4 border-[#D91C81] opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]},t.id))}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:()=>j(-1),className:"text-gray-600 hover:text-gray-900 font-medium inline-flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),"Go Back"]})})]})]}):p==="compose"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-cyan-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-sm mb-4",children:[e.jsx(i,{className:"w-5 h-5 text-[#D91C81]"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 2 of 3"})]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Write Your Message"}),e.jsxs("p",{className:"text-lg text-gray-600",children:["For ",l.name,"'s ",l.milestone]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Your Details"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Name *"}),e.jsx("input",{type:"text",value:d,onChange:t=>F(t.target.value),placeholder:"Enter your full name",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#D91C81] focus:ring focus:ring-pink-100 transition-colors",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Relationship *"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"peer",label:"Colleague"},{value:"manager",label:"Manager"},{value:"external",label:"External"}].map(t=>e.jsx("button",{type:"button",onClick:()=>M(t.value),className:`px-4 py-3 rounded-xl font-medium transition-all ${u===t.value?"bg-[#D91C81] text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:t.label},t.value))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Message *"}),e.jsx("textarea",{value:c,onChange:t=>D(t.target.value),placeholder:"Share your congratulations and appreciation...",rows:6,maxLength:500,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#D91C81] focus:ring focus:ring-pink-100 transition-colors resize-none",required:!0}),e.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[c.length,"/500 characters"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add a Photo (Optional)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:I,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#D91C81] transition-colors file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-[#D91C81] file:text-white file:font-medium hover:file:bg-[#C01872] file:cursor-pointer"}),h&&e.jsx("img",{src:h,alt:"Preview",className:"mt-4 w-full h-40 object-cover rounded-xl"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>x("select"),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Back"}),e.jsx("button",{onClick:()=>x("preview"),disabled:!d||!c,className:"flex-1 px-6 py-3 bg-[#D91C81] text-white rounded-xl font-semibold hover:bg-[#C01872] disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Preview"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Your Card Preview"}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl",children:[e.jsxs("div",{className:"w-full h-64 rounded-xl flex flex-col items-center justify-center text-white font-bold text-2xl mb-6 relative overflow-hidden",style:{background:s==null?void 0:s.gradient},children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[(s==null?void 0:s.pattern)==="confetti"&&e.jsx("div",{className:"absolute inset-0",children:Array.from({length:30}).map((t,a)=>e.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,transform:`rotate(${Math.random()*360}deg)`}},a))}),(s==null?void 0:s.pattern)==="stars"&&e.jsx("div",{className:"absolute inset-0",children:Array.from({length:20}).map((t,a)=>e.jsx("div",{className:"absolute text-white text-2xl",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:"â˜…"},a))})]}),e.jsx("span",{className:"text-6xl mb-3 relative z-10",children:s==null?void 0:s.icon}),e.jsx("span",{className:"text-xl relative z-10",children:s==null?void 0:s.name})]}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Selected: ",e.jsx("span",{className:"font-semibold text-gray-700",children:s==null?void 0:s.name})]})]})]})]})]})}):p==="preview"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-cyan-50",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white rounded-full px-4 py-2 shadow-sm mb-4",children:[e.jsx(i,{className:"w-5 h-5 text-[#D91C81]"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 3 of 3"})]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Preview Your Message"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Here's how it will appear on the celebration wall"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden mb-8",children:[e.jsxs("div",{className:"w-full h-64 flex flex-col items-center justify-center text-white font-bold text-3xl relative overflow-hidden",style:{background:s==null?void 0:s.gradient},children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[(s==null?void 0:s.pattern)==="confetti"&&e.jsx("div",{className:"absolute inset-0",children:Array.from({length:40}).map((t,a)=>e.jsx("div",{className:"absolute w-3 h-3 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,transform:`rotate(${Math.random()*360}deg)`}},a))}),(s==null?void 0:s.pattern)==="stars"&&e.jsx("div",{className:"absolute inset-0",children:Array.from({length:25}).map((t,a)=>e.jsx("div",{className:"absolute text-white text-3xl",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:"â˜…"},a))})]}),e.jsx("span",{className:"text-7xl mb-4 relative z-10",children:s==null?void 0:s.icon}),e.jsx("span",{className:"text-2xl relative z-10",children:s==null?void 0:s.name})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed mb-6 italic",children:['"',c,'"']}),h&&e.jsx("img",{src:h,alt:"Attached",className:"w-full h-64 object-cover rounded-xl mb-6"}),e.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t border-gray-200",children:[e.jsx("div",{className:"w-12 h-12 bg-[#D91C81] rounded-full flex items-center justify-center text-white font-bold text-lg",children:d.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:d}),e.jsx("p",{className:"text-gray-600 text-sm capitalize",children:u==="peer"?"Colleague":u==="manager"?"Manager":"External Partner"})]})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>x("compose"),className:"flex-1 px-6 py-4 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Edit Message"}),e.jsxs("button",{onClick:z,className:"flex-1 px-6 py-4 bg-[#D91C81] text-white rounded-xl font-semibold hover:bg-[#C01872] transition-colors flex items-center justify-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Send Message"]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-purple-50 to-cyan-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-2xl w-full",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-12 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(i,{className:"w-12 h-12 text-green-600"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Message Sent! ðŸŽ‰"}),e.jsxs("p",{className:"text-xl text-gray-600 mb-8",children:["Your celebration message has been added to ",l.name,"'s wall."]}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-2xl p-8 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[e.jsx(i,{className:"w-6 h-6 text-[#D91C81]"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invite Others to Celebrate"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Help make this milestone even more special by inviting colleagues to share their messages too!"}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsx("button",{onClick:Y,className:"flex items-center justify-center gap-3 px-6 py-4 bg-white border-2 border-[#D91C81] text-[#D91C81] rounded-xl font-semibold hover:bg-pink-50 transition-colors",children:B?e.jsxs(e.Fragment,{children:[e.jsx(i,{className:"w-5 h-5"}),"Link Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-5 h-5"}),"Copy Link"]})}),e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center justify-center gap-3 px-6 py-4 bg-[#D91C81] text-white rounded-xl font-semibold hover:bg-[#C01872] transition-colors",children:[e.jsx(k,{className:"w-5 h-5"}),"Send Email"]})]})]}),e.jsx("button",{onClick:()=>j("/"),className:"w-full px-8 py-4 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Done"})]}),$&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Send Invitation Email"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Enter the email address of someone you'd like to invite to celebrate ",l.name,"."]}),e.jsx("input",{type:"email",value:m,onChange:t=>v(t.target.value),placeholder:"colleague@company.com",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-[#D91C81] focus:ring focus:ring-pink-100 transition-colors mb-6"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>b(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:L,disabled:!m,className:"flex-1 px-6 py-3 bg-[#D91C81] text-white rounded-xl font-semibold hover:bg-[#C01872] disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Send"})]})]})})]})})}export{ee as CelebrationCreate,ee as default};
