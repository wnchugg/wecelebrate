import{u,c as j,r as a,j as e,n as y,y as N,L as x,t as n,l as b}from"./index-DAep3-17.js";import{L as v}from"./Logo-Dxshdthc.js";import{C as w}from"./CurrencyDisplay-CFSQFkt3.js";import{u as S}from"./useDateFormat-CL4PWcmD.js";import{S as L}from"./shopping-bag-CJ5SuRu3.js";import{P as C}from"./package-BYXKoKMr.js";import{C as k}from"./calendar-R6FbzVZU.js";import{E as O}from"./eye-BXXJW7Ry.js";import"./countries-Cl11nCR2.js";function P(){const r=u(),{t:l}=j(),{formatShortDate:m}=S(),[i,g]=a.useState([]),[h,c]=a.useState(!0),[o,d]=a.useState(null);a.useEffect(()=>{(async()=>{c(!0),d(null);try{const t=sessionStorage.getItem("employee_session"),f=sessionStorage.getItem("employee_id");if(!t||!f){n.error(l("notification.error.sessionExpired")),r("/access");return}g([]),n.info(l("notification.info.orderHistoryComingSoon"))}catch(t){b.error("Failed to load orders:",t),d(t.message||"Failed to load order history"),n.error(t.message||l("notification.error.failedToLoadOrders"))}finally{c(!1)}})()},[r]);const p=s=>{const t={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};return t[s]||t.pending};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-[#D91C81] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading order history..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors","aria-label":"Back",children:e.jsx(y,{className:"w-5 h-5"})}),e.jsx("div",{className:"h-8 w-[88px]",children:e.jsx(v,{})})]}),e.jsx(N,{})]})})}),e.jsx("div",{className:"py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Order History"}),e.jsx("p",{className:"text-lg text-gray-600",children:"View all your past orders"})]}),i.length===0&&!o&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[e.jsx(L,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Orders Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You haven't placed any orders yet. Start browsing our gift catalog!"}),e.jsxs(x,{to:"/gift-selection",className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#D91C81] to-[#B71569] text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all",children:[e.jsx(C,{className:"w-5 h-5"}),"Browse Gifts"]})]}),o&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-6 text-center",children:e.jsx("p",{className:"text-red-700",children:o})}),i.length>0&&e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsx("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:e.jsx("img",{src:s.giftImageUrl,alt:s.giftName,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:s.giftName}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",s.orderNumber]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p(s.status)}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"w-4 h-4"}),m(s.createdAt)]}),e.jsxs("div",{children:["Quantity: ",s.quantity]}),e.jsxs("div",{children:["Total: ",e.jsx(w,{amount:s.totalValue})]})]}),e.jsxs(x,{to:`/order-tracking/${s.id}`,className:"inline-flex items-center gap-2 text-[#D91C81] hover:text-[#B71569] font-medium text-sm",children:[e.jsx(O,{className:"w-4 h-4"}),"View Details & Track Order"]})]})]})},s.id))})]})})]})}export{P as OrderHistory};
