import{q as L,j as e,C as v,r as m,K as U,X as F,w as q,af as z,p as I,a7 as k,L as f,B as H,x as V,g as W}from"./index-DAep3-17.js";import{g as _,s as X}from"./url-v6iX-Vwj.js";import{E as A}from"./eye-BXXJW7Ry.js";import{E as T}from"./external-link-BkWXEGDv.js";import{I as Y}from"./input-E3LMlGJB.js";import{C as B}from"./circle-alert-BJpcJige.js";import{p as J}from"./apiErrors-Br52ABxq.js";import{L as S}from"./loader-circle-DZ1z-CmB.js";import{T as K}from"./trending-up-Bu-Iu6q7.js";import{T as Q}from"./trending-down-DZT7-jj4.js";import{S as P}from"./shopping-cart-DG0hm3TK.js";import{P as N}from"./package-BYXKoKMr.js";import{C as Z}from"./clock-Cklh_US9.js";import{U as E}from"./users-BInxthQ2.js";function ee(){var r,n,a,i;const{currentSite:o}=L();if(!o)return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",style:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#D91C81] to-[#00B4CC] rounded-lg flex items-center justify-center",children:e.jsx(A,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Public Site Preview"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No site selected"})]})]})}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"âš ï¸ No site available:"})," Please select a site from the site selector or create a new site in Site Management."]})})]});const t=o.status==="active",s=_(o.id);return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",style:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#D91C81] to-[#00B4CC] rounded-lg flex items-center justify-center",children:e.jsx(A,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Public Site Preview"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View your site as customers see it"})]})]}),t&&e.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:"Live"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Site Name"}),e.jsx("p",{className:"font-semibold text-gray-900",children:o.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Domain"}),e.jsx("p",{className:"font-semibold text-gray-900",children:o.domain})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Primary Color"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:(r=o==null?void 0:o.branding)==null?void 0:r.primaryColor}}),e.jsx("span",{className:"font-mono text-xs text-gray-700",children:(n=o==null?void 0:o.branding)==null?void 0:n.primaryColor})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Validation Method"}),e.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:((i=(a=o.settings)==null?void 0:a.validationMethod)==null?void 0:i.replace("_"," "))||"Not configured"})]})]})}),e.jsx("div",{className:"flex gap-3",children:e.jsxs(v,{variant:"outline",size:"sm",onClick:()=>{window.open(s,"_blank")},className:"flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-[#D91C81] text-white rounded-lg font-semibold hover:bg-[#B71569] transition-all",children:[e.jsx(T,{className:"w-4 h-4"}),"View Public Site"]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"ðŸ’¡ Tip:"})," Changes you make to the site's branding, settings, or gift assignments will be reflected on the public site after refreshing."]}),e.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:[e.jsx("strong",{children:"ðŸ”— Public URL:"})," ",e.jsx("span",{className:"font-mono text-xs",children:s})]})]})]})]})}function R(){const[o,t]=m.useState(!1),[s,r]=m.useState(!1),[n,a]=m.useState(!1),[i,c]=m.useState(""),[h,u]=m.useState(!1);m.useEffect(()=>{const p=window.location.hostname.includes("-v2-figmaiframepreview.figma.site");if(t(p),p){const g=localStorage.getItem("figma-public-site-domain");g||r(!0),c(g||"")}},[]);const D=()=>{if(!i.trim()){alert("Please enter a valid domain");return}try{const p=`https://${new URL(i.startsWith("http")?i:`https://${i}`).hostname}`;u(!0),X(p),setTimeout(()=>{u(!1),a(!1),r(!1);const g=document.createElement("div");g.className="fixed top-4 right-4 z-50 bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2",g.innerHTML=`
          <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          <span class="font-medium">Deployed domain configured successfully!</span>
        `,document.body.appendChild(g),setTimeout(()=>g.remove(),3e3)},500)}catch{alert("Please enter a valid domain (e.g., https://your-site.figma.site or your-site.figma.site)")}};return o?!s&&i?e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Public site domain configured"}),e.jsxs("p",{className:"text-xs text-green-700 mt-0.5",children:[e.jsx("strong",{children:"Domain:"})," ",e.jsx("span",{className:"font-mono",children:i})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{variant:"ghost",size:"sm",onClick:()=>{r(!0),a(!0)},className:"text-green-700 hover:text-green-900 hover:bg-green-100",children:"Edit"}),e.jsx(v,{variant:"ghost",size:"sm",onClick:()=>r(!1),className:"text-green-700 hover:text-green-900 hover:bg-green-100",children:e.jsx(F,{className:"w-4 h-4"})})]})]})}):!s&&!i?null:e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(B,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-amber-900 mb-1",children:"Configure Your Deployed Site Domain"}),e.jsx("p",{className:"text-sm text-amber-800 mb-3",children:`You're currently in the Figma preview environment. To ensure "View Public Site" links work correctly, please enter your actual deployed site domain below.`}),n?e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-amber-900 mb-1",children:"Deployed Site URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Y,{type:"text",value:i,onChange:b=>c(b.target.value),placeholder:"https://your-site.figma.site",className:"flex-1 text-sm"}),e.jsx(v,{onClick:D,disabled:h||!i.trim(),size:"sm",className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:h?"Saving...":"Save"}),e.jsx(v,{onClick:()=>{a(!1),i||r(!1)},variant:"outline",size:"sm",children:"Cancel"})]}),e.jsxs("p",{className:"text-xs text-amber-700 mt-1",children:["Example: ",e.jsx("code",{className:"font-mono bg-amber-100 px-1 py-0.5 rounded",children:"https://top-brick-95471034.figma.site"})]})]})}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{onClick:()=>a(!0),size:"sm",className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:"Configure Now"}),e.jsx(v,{onClick:()=>r(!1),variant:"outline",size:"sm",children:"Dismiss"}),e.jsxs("a",{href:"https://help.figma.com/hc/en-us/articles/360039827134-View-and-share-your-prototypes",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-amber-700 hover:text-amber-900 underline",children:[e.jsx(T,{className:"w-3 h-3"}),"Learn more"]})]})]})]})}):null}class se{constructor(){this.isDevelopment=!1,this.isProduction=!0}formatMessage(t,s,r){const n=new Date().toISOString(),a=r?JSON.stringify(r):"";return`[${n}] [${t.toUpperCase()}] ${s} ${a}`}shouldLog(t){return this.isDevelopment?!0:this.isProduction?t==="warn"||t==="error":!0}sendToServer(t,s,r){if(!this.isProduction)return;const n={level:t,message:s,context:r,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href},a=new Blob([JSON.stringify(n)],{type:"application/json"});navigator.sendBeacon("/api/logs",a)}debug(t,s){this.shouldLog("debug")&&console.warn(this.formatMessage("debug",t,s))}info(t,s){this.shouldLog("info")&&(console.warn(this.formatMessage("info",t,s)),this.sendToServer("info",t,s))}warn(t,s){this.shouldLog("warn")&&(console.warn(this.formatMessage("warn",t,s)),this.sendToServer("warn",t,s))}error(t,s,r){if(!this.shouldLog("error"))return;const n={...r,errorName:s==null?void 0:s.name,errorMessage:s==null?void 0:s.message,errorStack:s==null?void 0:s.stack};console.error(this.formatMessage("error",t,n),s),this.sendToServer("error",t,n)}apiRequest(t,s,r){this.debug(`API Request: ${t} ${s}`,{...r,action:"api_request",resource:s})}apiResponse(t,s,r,n,a){const i=r>=400?"warn":"debug",c=`API Response: ${t} ${s} - ${r} (${n}ms)`;i==="warn"?this.warn(c,{...a,action:"api_response",resource:s,metadata:{status:r,duration:n}}):this.debug(c,{...a,action:"api_response",resource:s,metadata:{status:r,duration:n}})}apiError(t,s,r,n){this.error(`API Error: ${t} ${s}`,r,{...n,action:"api_error",resource:s})}userAction(t,s,r){this.info(`User Action: ${t}`,{...r,action:t,resource:s})}authEvent(t,s,r){this.info(`Auth Event: ${t}`,{...r,userId:s,action:"auth",resource:t})}performanceMetric(t,s,r){this.debug(`Performance: ${t} = ${s}ms`,{...r,action:"performance",metadata:{metric:t,value:s}})}async measure(t,s,r){const n=performance.now();try{const a=await s(),i=performance.now()-n;return this.performanceMetric(t,i,r),a}catch(a){const i=performance.now()-n;throw this.error(`${t} failed after ${i}ms`,a,r),a}}}const d=new se,{debug:ye,info:Ne,warn:we,error:Se,apiRequest:De,apiResponse:Ce,apiError:$e,userAction:Pe,authEvent:Ee,performanceMetric:Re,measure:ke}=d;class te{constructor(){this.config={baseUrl:`https://${q}.supabase.co/functions/v1/make-server-6fcaeea3`,timeout:3e4,maxRetries:2,retryDelay:1e3}}getHeaders(t="development"){const s=z();return s||d.warn("No access token found - request may fail",{service:"DashboardService"}),{Authorization:`Bearer ${I}`,"X-Access-Token":s||"","X-Environment-ID":t,"Content-Type":"application/json"}}async fetchWithTimeout(t,s,r=this.config.timeout){const n=new AbortController,a=setTimeout(()=>n.abort(),r);try{const i=await fetch(t,{...s,signal:n.signal});return clearTimeout(a),i}catch(i){throw clearTimeout(a),i.name==="AbortError"?new Error(`Request timeout after ${r}ms`):i}}async fetchWithRetry(t,s,r=this.config.maxRetries){var a;let n=null;for(let i=0;i<=r;i++)try{d.debug(`Request attempt ${i+1}/${r+1}`,{service:"DashboardService",url:t});const c=await this.fetchWithTimeout(t,s);if(!c.ok){const u=await c.json().catch(()=>({}));throw new Error(u.error||`HTTP ${c.status}: ${c.statusText}`)}const h=await c.json();if(!h.success)throw new Error(h.error||"API request failed");return d.debug("Request successful",{service:"DashboardService",url:t}),h}catch(c){if(n=c,d.error(`Request failed (attempt ${i+1}/${r+1})`,{service:"DashboardService",error:c}),(a=c.message)!=null&&a.includes("HTTP 4"))throw c;if(i<r){const h=this.config.retryDelay*Math.pow(2,i);d.debug(`Retrying after ${h}ms`,{service:"DashboardService"}),await new Promise(u=>setTimeout(u,h))}}throw n||new Error("Request failed after retries")}async getStats(t,s="30d",r="development"){d.debug("Fetching dashboard stats",{service:"DashboardService",siteId:t,timeRange:s});const n=`${this.config.baseUrl}/dashboard/stats/${t}?timeRange=${s}`;try{const a=await this.fetchWithRetry(n,{method:"GET",headers:this.getHeaders(r)});return d.debug("Stats fetched successfully",{service:"DashboardService",stats:a.stats}),a.stats}catch(a){return console.error("[DashboardService] Failed to fetch stats:",a),{totalOrders:0,activeEmployees:0,giftsAvailable:0,pendingShipments:0,previousOrders:0,previousActiveEmployees:0,previousGiftsAvailable:0,previousPendingShipments:0,orderGrowth:0,employeeGrowth:0,giftsChange:0,pendingChange:0}}}async getRecentOrders(t,s=5,r,n="development"){d.debug("Fetching recent orders",{service:"DashboardService",siteId:t,limit:s,status:r||"all"});let a=`${this.config.baseUrl}/dashboard/recent-orders/${t}?limit=${s}`;r&&(a+=`&status=${r}`);try{const i=await this.fetchWithRetry(a,{method:"GET",headers:this.getHeaders(n)});return d.debug("Recent orders fetched",{service:"DashboardService",count:i.orders.length}),i.orders}catch(i){return console.error("[DashboardService] Failed to fetch recent orders:",i),[]}}async getPopularGifts(t,s=5,r="30d",n="development"){d.debug("Fetching popular gifts",{service:"DashboardService",siteId:t,limit:s,timeRange:r});const a=`${this.config.baseUrl}/dashboard/popular-gifts/${t}?limit=${s}&timeRange=${r}`;try{const i=await this.fetchWithRetry(a,{method:"GET",headers:this.getHeaders(n)});return d.debug("Popular gifts fetched",{service:"DashboardService",count:i.gifts.length}),i.gifts}catch(i){return console.error("[DashboardService] Failed to fetch popular gifts:",i),[]}}async getDashboardData(t,s="30d",r="development"){d.debug("Fetching all dashboard data",{service:"DashboardService",siteId:t});try{const[n,a,i]=await Promise.all([this.getStats(t,s,r),this.getRecentOrders(t,5,void 0,r),this.getPopularGifts(t,5,s,r)]);return d.debug("All dashboard data fetched successfully",{service:"DashboardService"}),{stats:n,recentOrders:a,popularGifts:i}}catch(n){throw console.error("[DashboardService] Failed to fetch dashboard data:",n),n}}updateConfig(t){this.config={...this.config,...t},d.debug("Configuration updated",{service:"DashboardService",config:this.config})}}const re=new te,ae=o=>{switch(o){case"pending":return"bg-amber-100 text-amber-800 border-amber-200";case"confirmed":return"bg-blue-100 text-blue-800 border-blue-200";case"shipped":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"delivered":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};function Ae(){const{currentSite:o,sites:t,isLoading:s}=L(),[r,n]=m.useState("30d"),[a,i]=m.useState(null),[c,h]=m.useState([]),[u,D]=m.useState([]),[b,p]=m.useState(!0),[g,j]=m.useState(null),[C,$]=m.useState(!1),w=async(l=!0)=>{if(!(o!=null&&o.id)){console.warn("[Dashboard] No current site selected"),!s&&t.length>0?j("No site selected. Please select a site from the dropdown."):!s&&t.length===0&&j("No sites available. Please create a site first."),p(!1),$(!1);return}try{l?p(!0):$(!0),j(null),console.warn("[Dashboard] Fetching data for site:",o.id,"timeRange:",r);const y=W(),x=await re.getDashboardData(o.id,r,y.id);console.warn("[Dashboard] Data fetched successfully:",x),i(x.stats),h(x.recentOrders),D(x.popularGifts)}catch(y){console.error("[Dashboard] Error fetching dashboard data:",y);const x=J(y);x.includes("401")||x.includes("Unauthorized")?j("Authentication required. Please log in again."):x.includes("403")||x.includes("Forbidden")?j("Access denied. You do not have permission to view this dashboard."):j(x)}finally{p(!1),$(!1)}};m.useEffect(()=>{w()},[o==null?void 0:o.id,r]),m.useEffect(()=>{const l=setInterval(()=>{console.warn("[Dashboard] Auto-refreshing data..."),w(!1)},3e5);return()=>clearInterval(l)},[o==null?void 0:o.id,r]);const G=()=>{console.warn("[Dashboard] Manual refresh triggered"),w(!1)},M=[{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"},{value:"1y",label:"Last year"}],O=a?[{name:"Total Orders",value:a.totalOrders.toLocaleString(),change:`${a.orderGrowth>=0?"+":""}${a.orderGrowth.toFixed(1)}%`,trend:a.orderGrowth>=0?"up":"down",icon:P,color:"bg-blue-500"},{name:"Active Users",value:a.activeEmployees.toLocaleString(),change:`${a.employeeGrowth>=0?"+":""}${a.employeeGrowth.toFixed(1)}%`,trend:a.employeeGrowth>=0?"up":"down",icon:E,color:"bg-[#D91C81]"},{name:"Gifts Available",value:a.giftsAvailable.toLocaleString(),change:a.giftsChange>=0?`+${a.giftsChange}`:`${a.giftsChange}`,trend:a.giftsChange>=0?"up":"down",icon:N,color:"bg-[#00B4CC]"},{name:"Pending Shipments",value:a.pendingShipments.toLocaleString(),change:`${a.pendingChange>=0?"+":""}${a.pendingChange.toFixed(1)}%`,trend:a.pendingChange>=0?"up":"down",icon:N,color:"bg-amber-500"}]:[{name:"Total Orders",value:"0",change:"0%",trend:"up",icon:P,color:"bg-blue-500"},{name:"Active Users",value:"0",change:"0%",trend:"up",icon:E,color:"bg-[#D91C81]"},{name:"Gifts Available",value:"0",change:"0",trend:"up",icon:N,color:"bg-[#00B4CC]"},{name:"Pending Shipments",value:"0",change:"0%",trend:"up",icon:N,color:"bg-amber-500"}];return!s||o!==null?g&&!a?e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Site Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor your site's performance and activity"})]})}),e.jsx("div",{className:"flex items-center justify-center py-32",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx(B,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-6",children:g}),e.jsxs("button",{onClick:()=>w(),className:"inline-flex items-center gap-2 px-4 py-2 bg-[#D91C81] text-white rounded-lg hover:bg-[#B71569] transition-colors",children:[e.jsx(k,{className:"w-4 h-4"}),"Retry"]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Site Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor your site's performance and activity"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("select",{value:r,onChange:l=>n(l.target.value),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm focus:outline-none focus:ring-2 focus:ring-[#D91C81]",children:M.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))}),e.jsxs("button",{onClick:G,disabled:C,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh data",children:[e.jsx(k,{className:`w-4 h-4 ${C?"animate-spin":""}`}),C?"Refreshing...":"Refresh"]}),e.jsxs(f,{to:"/admin/site-configuration",className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(H,{className:"w-4 h-4"}),"Settings"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:O.map(l=>{const y=l.icon;return e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 relative",style:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[b&&e.jsx("div",{className:"absolute inset-0 bg-white/50 rounded-xl flex items-center justify-center",children:e.jsx(S,{className:"w-6 h-6 text-[#D91C81] animate-spin"})}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${l.color} rounded-lg flex items-center justify-center`,children:e.jsx(y,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${l.trend==="up"?"text-green-600":"text-red-600"}`,children:[l.trend==="up"?e.jsx(K,{className:"w-4 h-4"}):e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:l.change})]})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:l.value}),e.jsx("p",{className:"text-sm text-gray-600",children:l.name})]},l.name)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(ee,{}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 relative",style:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Recent Orders"}),e.jsx(f,{to:"/admin/orders",className:"text-sm text-[#D91C81] hover:text-[#B71569] font-medium",children:"View all â†’"})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:b?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(S,{className:"w-8 h-8 text-[#D91C81] animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading orders..."})]}):c.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(P,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No recent orders"})]}):c.map(l=>e.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:l.orderNumber}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${ae(l.status)}`,children:l.status})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:l.employeeEmail}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-900 font-medium",children:l.giftName}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(l.orderDate).toLocaleDateString()})]})]},l.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 relative",style:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Popular Gifts"}),e.jsx(f,{to:"/admin/analytics",className:"text-sm text-[#D91C81] hover:text-[#B71569] font-medium",children:"View analytics â†’"})]})}),e.jsx("div",{className:"p-6 space-y-4",children:b?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(S,{className:"w-8 h-8 text-[#D91C81] animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Loading gifts..."})]}):u.length===0?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(N,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No popular gifts data"})]}):u.map(l=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.giftName}),e.jsxs("span",{className:"text-sm text-gray-600",children:[l.orderCount," orders"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#D91C81] h-2 rounded-full transition-all",style:{width:`${l.percentage}%`}})})]},l.giftId))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",style:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(f,{to:"/admin/gifts",className:"flex items-center gap-3 p-4 rounded-lg border-2 border-gray-200 hover:border-[#D91C81] hover:bg-pink-50 transition-all group",children:[e.jsx(N,{className:"w-8 h-8 text-[#D91C81]"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-[#D91C81]",children:"Add New Gift"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Expand catalog"})]})]}),e.jsxs(f,{to:"/admin/orders",className:"flex items-center gap-3 p-4 rounded-lg border-2 border-gray-200 hover:border-[#00B4CC] hover:bg-cyan-50 transition-all group",children:[e.jsx(Z,{className:"w-8 h-8 text-[#00B4CC]"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-[#00B4CC]",children:"Process Orders"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Review pending"})]})]}),e.jsxs(f,{to:"/admin/site-configuration?tab=access",className:"flex items-center gap-3 p-4 rounded-lg border-2 border-gray-200 hover:border-[#1B2A5E] hover:bg-blue-50 transition-all group",children:[e.jsx(E,{className:"w-8 h-8 text-[#1B2A5E]"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-[#1B2A5E]",children:"Manage Access"}),e.jsx("p",{className:"text-xs text-gray-600",children:"User permissions"})]})]}),e.jsxs(f,{to:"/admin/site-configuration",className:"flex items-center gap-3 p-4 rounded-lg border-2 border-gray-200 hover:border-amber-500 hover:bg-amber-50 transition-all group",children:[e.jsx(V,{className:"w-8 h-8 text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 group-hover:text-amber-500",children:"Site Settings"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Configure portal"})]})]})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(R,{}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Site Dashboard"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor your site's performance and activity"})]})}),e.jsx("div",{className:"flex items-center justify-center py-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"w-12 h-12 text-[#D91C81] animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading sites..."})]})})]})}export{Ae as Dashboard};
