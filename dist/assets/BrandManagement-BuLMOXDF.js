import{c as P,r as u,j as e,B as C,C as j,q as F,S as T,t as N}from"./index-DAep3-17.js";import{B as I}from"./badge-CKAfVDe6.js";import{D as L,a as M,b as O,c as U,d as q,e as $}from"./dialog-DxmycFb0.js";import{I as g}from"./input-E3LMlGJB.js";import{L as o}from"./label-D7rDMfrx.js";import{S as z}from"./switch-B0fN3YBd.js";import{T as Q}from"./textarea-vcSPiHlY.js";import{P as H}from"./phone-input-DtvemTEQ.js";import{P as R}from"./palette-DwRAajaX.js";import{P as S}from"./plus-U3aaopYz.js";import{C as G}from"./circle-check-big-Dewj6UrC.js";import{T as J}from"./tag-eYS7S_F3.js";import{E as K}from"./eye-BXXJW7Ry.js";import{S as V}from"./square-pen-Bj3YdsC1.js";import{T as W}from"./trash-2-orf3MXe6.js";import"./index-BBIAgE77.js";import"./index-Dxauqy8w.js";import"./index-CH-6Jnw9.js";import"./index-NQBsc09o.js";import"./index-GxwXKa5n.js";import"./index-CE6KxwT7.js";import"./index-7D9TSwIG.js";import"./index-C8gtVD-n.js";import"./index-CcwUd-PA.js";function X({open:c,onClose:p,brand:i,onSave:b}){const{t:f}=P(),[r,t]=u.useState({id:"",name:"",clientId:"",clientName:"",description:"",logo:"",primaryColor:"#D91C81",secondaryColor:"#1B2A5E",tertiaryColor:"#00B4CC",isActive:!0,createdAt:"",updatedAt:""});u.useEffect(()=>{t(i||{id:`brand-${Date.now()}`,name:"",clientId:`client-${Date.now()}`,clientName:"",description:"",logo:"",primaryColor:"#D91C81",secondaryColor:"#1B2A5E",tertiaryColor:"#00B4CC",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})},[i,c]);const n=(a,h)=>{t(l=>({...l,[a]:h}))},d=(a,h)=>{t(l=>({...l,[a]:h}))},x=()=>{!r.name||!r.clientName||(b({...r,updatedAt:new Date().toISOString()}),p())};return e.jsx(L,{open:c,onOpenChange:p,children:e.jsxs(M,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(O,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-[#D91C81]"}),i?"Edit Brand":"Create New Brand"]}),e.jsx(q,{children:i?"Update the brand details and configuration.":"Create a new brand for your client with custom branding and settings."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(o,{htmlFor:"name",children:["Brand Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:"name",value:r.name,onChange:a=>n("name",a.target.value),placeholder:"Acme Enterprise"})]}),e.jsxs("div",{children:[e.jsxs(o,{htmlFor:"clientName",children:["Client Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(g,{id:"clientName",value:r.clientName,onChange:a=>n("clientName",a.target.value),placeholder:"Acme Corporation"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(Q,{id:"description",value:r.description,onChange:a=>n("description",a.target.value),placeholder:"Brief description of this brand...",rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"contactEmail",children:"Contact Email"}),e.jsx(g,{id:"contactEmail",type:"email",value:r.contactEmail,onChange:a=>n("contactEmail",a.target.value),placeholder:"contact@example.com"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"contactPhone",children:"Contact Phone"}),e.jsx(H,{id:"contactPhone",value:r.contactPhone,onChange:a=>n("contactPhone",a),defaultCountry:"US",placeholder:f("form.enterPhone")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-[#D91C81]"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Brand Colors"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"primaryColor",children:"Primary Color"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{id:"primaryColor",type:"color",value:r.primaryColor,onChange:a=>d("primaryColor",a.target.value),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),e.jsx(g,{type:"text",value:r.primaryColor,onChange:a=>d("primaryColor",a.target.value),className:"flex-1"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"secondaryColor",children:"Secondary Color"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{id:"secondaryColor",type:"color",value:r.secondaryColor,onChange:a=>d("secondaryColor",a.target.value),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),e.jsx(g,{type:"text",value:r.secondaryColor,onChange:a=>d("secondaryColor",a.target.value),className:"flex-1"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"tertiaryColor",children:"Tertiary Color"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{id:"tertiaryColor",type:"color",value:r.tertiaryColor,onChange:a=>d("tertiaryColor",a.target.value),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),e.jsx(g,{type:"text",value:r.tertiaryColor,onChange:a=>d("tertiaryColor",a.target.value),className:"flex-1"})]})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Brand Color Preview"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"w-full h-16 rounded-lg mb-2 shadow-sm",style:{backgroundColor:r.primaryColor}}),e.jsx("p",{className:"text-xs text-gray-600",children:"Primary"})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"w-full h-16 rounded-lg mb-2 shadow-sm",style:{backgroundColor:r.secondaryColor}}),e.jsx("p",{className:"text-xs text-gray-600",children:"Secondary"})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"w-full h-16 rounded-lg mb-2 shadow-sm",style:{backgroundColor:r.tertiaryColor}}),e.jsx("p",{className:"text-xs text-gray-600",children:"Tertiary"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-base font-semibold",children:"Active Brand"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Make this brand available for site configuration"})]}),e.jsx(z,{checked:r.isActive,onCheckedChange:a=>n("isActive",a)})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Brand Preview"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center text-white font-bold text-2xl shadow-sm",style:{backgroundColor:r.primaryColor},children:r.name?r.name.charAt(0):"?"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:r.name||"Brand Name"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.clientName||"Client Name"}),r.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("div",{className:"w-8 h-8 rounded border-2 border-white shadow-sm",style:{backgroundColor:r.primaryColor}}),e.jsx("div",{className:"w-8 h-8 rounded border-2 border-white shadow-sm",style:{backgroundColor:r.secondaryColor}}),e.jsx("div",{className:"w-8 h-8 rounded border-2 border-white shadow-sm",style:{backgroundColor:r.tertiaryColor}})]})]})]})]})]}),e.jsxs($,{children:[e.jsx(j,{variant:"outline",onClick:p,children:"Cancel"}),e.jsx(j,{onClick:x,className:"bg-[#D91C81] hover:bg-[#B01669] text-white",disabled:!r.name||!r.clientName,children:i?"Update Brand":"Create Brand"})]})]})})}function fe(){const{brands:c,sites:p,addBrand:i,updateBrand:b,deleteBrand:f,getSitesByBrand:r}=F(),[t,n]=u.useState(""),[d,x]=u.useState(!1),[a,h]=u.useState(null),[l,D]=u.useState("all"),w=Array.from(new Set(c.map(s=>s.clientName))).sort(),v=c.filter(s=>{const m=s.name.toLowerCase().includes(t.toLowerCase())||s.clientName.toLowerCase().includes(t.toLowerCase()),y=l==="all"||s.clientName===l;return m&&y}),B=()=>{h(null),x(!0)},k=s=>{h(s),x(!0)},A=s=>{const m=r(s);if(m.length>0){N.error(`Cannot delete brand with ${m.length} active site(s)`);return}confirm("Are you sure you want to delete this brand?")&&(f(s),N.success("Brand deleted successfully"))},E=s=>{a?(b(s.id,s),N.success("Brand updated successfully")):(i(s),N.success("Brand created successfully")),x(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Brand Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage client brands and their configurations"})]}),e.jsxs(j,{onClick:B,className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Create Brand"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(C,{className:"w-8 h-8 text-[#D91C81]"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Brands"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(G,{className:"w-8 h-8 text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.filter(s=>s.isActive).length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Brands"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(J,{className:"w-8 h-8 text-[#00B4CC]"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Unique Clients"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(K,{className:"w-8 h-8 text-[#1B2A5E]"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.filter(s=>s.brandId).length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Sites with Brands"})]})]}),e.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Brands"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by brand or client name...",value:t,onChange:s=>n(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter by Client"}),e.jsxs("select",{value:l,onChange:s=>D(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",children:[e.jsx("option",{value:"all",children:"All Clients"}),w.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["All Brands (",v.length,")"]})}),v.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(C,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"No brands found"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:t||l!=="all"?"Try adjusting your filters":"Create your first brand to get started"}),!t&&l==="all"&&e.jsxs(j,{onClick:B,className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Create Brand"]})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:v.map(s=>{const m=r(s.id);return e.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center text-white font-bold text-2xl shadow-sm",style:{backgroundColor:s.primaryColor},children:s.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.clientName}),s.description&&e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:s.primaryColor}}),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:s.secondaryColor}}),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:s.tertiaryColor}})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>k(s),children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>A(s.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(W,{className:"w-4 h-4"})})]})]}),m.length>0&&e.jsxs("div",{className:"mt-4 ml-15 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Associated Sites:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(y=>e.jsx(I,{className:"bg-blue-50 text-blue-700 border border-blue-200",children:y.name},y.id))})]})]},s.id)})})]}),e.jsx(X,{open:d,onClose:()=>x(!1),brand:a,onSave:E})]})}export{fe as BrandManagement};
