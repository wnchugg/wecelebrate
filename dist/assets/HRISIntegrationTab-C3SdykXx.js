import{g as he,r as i,w as xe,p as y,l as g,j as e,D as ue,C as m,a5 as ye,x as ge,T as je}from"./index-Cwl2suO6.js";import{S as F}from"./switch-DyyYmFst.js";import{I as c}from"./input-Bmz4_sRV.js";import{L as l}from"./label-DUKx7TRE.js";import{B as O}from"./badge-CVvH5yJO.js";import{s as j,a as E}from"./errorHandling-zZ-_R609.js";import{P as q}from"./plus-BEp39JcG.js";import{C as z}from"./circle-check-big-DqFW6Yzj.js";import{C as fe}from"./circle-x-CkzBQSmo.js";import{C as ve}from"./clock-BWW0STCM.js";import{A as Ne}from"./activity-BudtXiGE.js";import{C as K}from"./calendar-DYUvDC7j.js";const X=[{id:"workday",name:"Workday",description:"Enterprise-grade HR, payroll, and financial management",authTypes:["oauth","api_key"],supportsRealtime:!0},{id:"bamboohr",name:"BambooHR",description:"All-in-one HR software for small and medium businesses",authTypes:["api_key"],supportsRealtime:!0},{id:"adp",name:"ADP Workforce Now",description:"Comprehensive payroll and HR solutions",authTypes:["oauth","api_key"],supportsRealtime:!0},{id:"namely",name:"Namely",description:"Modern HR platform with integrated payroll",authTypes:["api_key"],supportsRealtime:!1},{id:"rippling",name:"Rippling",description:"Employee management platform",authTypes:["oauth","api_key"],supportsRealtime:!0},{id:"gusto",name:"Gusto",description:"Payroll, benefits, and HR in one place",authTypes:["api_key"],supportsRealtime:!1},{id:"sftp",name:"SFTP File Transfer",description:"Import employee data via secure file transfer",authTypes:["sftp"],supportsRealtime:!1}],W={employeeId:"employee_id",firstName:"first_name",lastName:"last_name",email:"email",department:"department",jobTitle:"job_title",startDate:"hire_date",status:"employment_status"};function Be({client:o,sites:H,onSyncComplete:R}){const p=he(),[N,G]=i.useState([]),[D,J]=i.useState([]),[V,U]=i.useState(!0),[h,b]=i.useState("connections"),[Y,S]=i.useState(!1),[be,Se]=i.useState(!1),[Ce,we]=i.useState(!1),[d,P]=i.useState(null),[x,C]=i.useState(null),[Ie,Te]=i.useState(null),[w,I]=i.useState("client"),[T,f]=i.useState([]),[t,r]=i.useState({displayName:"",providerId:"",authType:"api_key",apiUrl:"",apiKey:"",username:"",password:"",clientId:"",clientSecret:"",tenantId:"",sftpHost:"",sftpPort:"22",sftpUsername:"",sftpPassword:"",sftpPath:"",syncFrequency:"daily",syncTime:"02:00",autoImport:!0,updateExisting:!0,deactivateMissing:!1,notifyOnSync:!0}),[Q,A]=i.useState(W),u=`https://${xe}.supabase.co/functions/v1/make-server-6fcaeea3`;i.useEffect(()=>{v(),$()},[o.id]);const v=async()=>{try{U(!0);const s=await fetch(`${u}/hris/connections?clientId=${o.id}`,{headers:{Authorization:`Bearer ${y}`,"X-Environment-ID":p.id}});if(!s.ok)throw new Error(`Failed to load HRIS connections: ${s.status}`);const a=await s.json();G(a.connections||[])}catch(s){g.error("Error loading HRIS connections:",s),j("Failed to load HRIS connections")}finally{U(!1)}},$=async()=>{try{const s=await fetch(`${u}/hris/sync-history?clientId=${o.id}`,{headers:{Authorization:`Bearer ${y}`,"X-Environment-ID":p.id}});if(s.ok){const a=await s.json();J(a.history||[])}}catch(s){g.error("Error loading sync history:",s)}},Z=s=>{C(s),r({...t,displayName:`${o.name} - ${s.name}`,providerId:s.id,authType:s.authTypes[0]}),A(W),I("client"),f([]),S(!0)},ee=s=>{P(s),C(X.find(pe=>pe.id===s.provider)||null),I("client"),f([]);const a=s.credentials;let n="",k="",M="",_="",B="",L="";const ie="",le="",ce="22",de="",oe="",me="";a.type==="api_key"?(k=a.apiKey,n=a.apiSecret||""):a.type==="oauth"?(B=a.clientId,L=a.clientSecret,n=a.accessToken||""):a.type==="basic_auth"&&(M=a.username,_=a.password),r({displayName:s.provider,providerId:s.provider,authType:s.authType,apiUrl:n,apiKey:k,username:M,password:_,clientId:B,clientSecret:L,tenantId:ie,sftpHost:le,sftpPort:ce,sftpUsername:de,sftpPassword:oe,sftpPath:me,syncFrequency:s.syncSchedule.frequency,syncTime:s.syncSchedule.time,autoImport:s.syncSchedule.enabled,updateExisting:!1,deactivateMissing:!1,notifyOnSync:!1}),A(s.fieldMapping),S(!0)},se=async()=>{try{const s={};t.authType==="api_key"?(s.apiUrl=t.apiUrl,s.apiKey=t.apiKey):t.authType==="oauth"?(s.apiUrl=t.apiUrl,s.clientId=t.clientId,s.clientSecret=t.clientSecret,s.tenantId=t.tenantId):t.authType==="basic"?(s.apiUrl=t.apiUrl,s.username=t.username,s.password=t.password):t.authType==="sftp"&&(s.sftpHost=t.sftpHost,s.sftpPort=t.sftpPort,s.sftpUsername=t.sftpUsername,s.sftpPassword=t.sftpPassword,s.sftpPath=t.sftpPath);const a={id:d==null?void 0:d.id,clientId:o.id,providerId:t.providerId,providerName:(x==null?void 0:x.name)||"",displayName:t.displayName,authType:t.authType,credentials:s,fieldMapping:Q,syncSchedule:{enabled:t.syncFrequency!=="manual",frequency:t.syncFrequency,time:t.syncTime},syncConfig:{autoImport:t.autoImport,updateExisting:t.updateExisting,deactivateMissing:t.deactivateMissing,notifyOnSync:t.notifyOnSync}};if(w==="client"?(a.siteId=null,a.siteIds=[]):a.siteIds=T,!(await fetch(`${u}/hris/connections${d?`/${d.id}`:""}`,{method:d?"PUT":"POST",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json","X-Environment-ID":p.id},body:JSON.stringify(a)})).ok)throw new Error(`Failed to ${d?"update":"create"} connection`);E(`HRIS connection ${d?"updated":"created"} successfully`),S(!1),P(null),C(null),v()}catch(s){g.error("Error saving HRIS connection:",s),j(`Failed to ${d?"update":"create"} connection`)}},te=async s=>{try{const n=await(await fetch(`${u}/hris/connections/${s}/test`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"X-Environment-ID":p.id}})).json();n.success?E("Connection test successful"):j(`Connection test failed: ${n.error}`),v()}catch(a){g.error("Error testing connection:",a),j("Failed to test connection")}},ae=async s=>{try{if(!(await fetch(`${u}/hris/connections/${s}/sync`,{method:"POST",headers:{Authorization:`Bearer ${y}`,"X-Environment-ID":p.id}})).ok)throw new Error("Failed to start sync");E("Sync started successfully"),setTimeout(()=>{$(),v(),R&&R()},2e3)}catch(a){g.error("Error starting sync:",a),j("Failed to start sync")}},re=async s=>{if(confirm("Are you sure you want to delete this HRIS connection?"))try{if(!(await fetch(`${u}/hris/connections/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${y}`,"X-Environment-ID":p.id}})).ok)throw new Error("Failed to delete connection");E("HRIS connection deleted successfully"),v()}catch(a){g.error("Error deleting connection:",a),j("Failed to delete connection")}},ne=s=>"All Sites (Client-Level)";return V?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#D91C81] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading HRIS integrations..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#1B2A5E] mb-2",children:"HRIS Integration"}),e.jsxs("p",{className:"text-gray-600",children:["Connect and sync employee data from your HR information system for ",o.name]})]})})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex gap-4 px-6",children:[e.jsxs("button",{onClick:()=>b("connections"),className:`px-4 py-3 border-b-2 font-medium text-sm transition-colors ${h==="connections"?"border-[#D91C81] text-[#D91C81]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["Connections (",N.length,")"]}),e.jsx("button",{onClick:()=>b("providers"),className:`px-4 py-3 border-b-2 font-medium text-sm transition-colors ${h==="providers"?"border-[#D91C81] text-[#D91C81]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Available Providers"}),e.jsxs("button",{onClick:()=>b("history"),className:`px-4 py-3 border-b-2 font-medium text-sm transition-colors ${h==="history"?"border-[#D91C81] text-[#D91C81]":"border-transparent text-gray-600 hover:text-gray-900"}`,children:["Sync History (",D.length,")"]})]})}),e.jsxs("div",{className:"p-6",children:[h==="connections"&&e.jsx("div",{className:"space-y-4",children:N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ue,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No HRIS Connections"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Connect your HR system to automatically sync employee data for ",o.name]}),e.jsxs(m,{onClick:()=>b("providers"),className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Browse Providers"]})]}):e.jsx("div",{className:"space-y-4",children:N.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:border-[#D91C81] transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[s.provider," Connection"]}),e.jsxs(O,{variant:s.status==="active"?"success":s.status==="error"?"destructive":"secondary",children:[s.status==="active"&&e.jsx(z,{className:"w-3 h-3 mr-1"}),s.status==="error"&&e.jsx(fe,{className:"w-3 h-3 mr-1"}),s.status==="inactive"&&e.jsx(ve,{className:"w-3 h-3 mr-1"}),s.status]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Provider: ",s.provider," â€¢ Auth: ",s.authType]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Scope: ",ne()]}),s.lastSync&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Last sync: ",new Date(s.lastSync).toLocaleString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{size:"sm",variant:"outline",onClick:()=>te(s.id),children:"Test"}),e.jsx(m,{size:"sm",variant:"outline",onClick:()=>ae(s.id),children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx(m,{size:"sm",variant:"outline",onClick:()=>ee(s),children:e.jsx(ge,{className:"w-4 h-4"})}),e.jsx(m,{size:"sm",variant:"outline",onClick:()=>re(s.id),className:"text-red-600 hover:text-red-700",children:"Delete"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Sync Schedule"}),e.jsxs("p",{className:"font-medium",children:[s.syncSchedule.frequency," @ ",s.syncSchedule.time]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Auto Import"}),e.jsx("p",{className:"font-medium",children:s.syncConfig.autoImport?"Enabled":"Disabled"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Update Existing"}),e.jsx("p",{className:"font-medium",children:s.syncConfig.updateExisting?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Next Sync"}),e.jsx("p",{className:"font-medium",children:s.syncSchedule.nextSync?new Date(s.syncSchedule.nextSync).toLocaleString():"Manual only"})]})]})]},s.id))})}),h==="providers"&&e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:X.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:border-[#D91C81] transition-colors",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description})]})}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(z,{className:"w-4 h-4 text-green-600"}),"Auth: ",s.authTypes.join(", ")]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:s.supportsRealtime?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"w-4 h-4 text-green-600"}),"Real-time sync supported"]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-4 h-4 text-gray-400"}),"Scheduled sync only"]})})]}),e.jsxs(m,{onClick:()=>Z(s),className:"w-full bg-[#D91C81] hover:bg-[#B01669] text-white",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Connect"]})]},s.id))}),h==="history"&&e.jsx("div",{className:"space-y-4",children:D.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(K,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Sync History"}),e.jsx("p",{className:"text-gray-600",children:"Sync history will appear here after you run your first sync"})]}):D.map(s=>{const a=N.find(n=>n.id===s.connectionId);return e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:(a==null?void 0:a.displayName)||"Unknown Connection"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(s.startTime).toLocaleString(),s.endTime&&` - ${new Date(s.endTime).toLocaleString()}`]})]}),e.jsx(O,{variant:s.status==="completed"?"success":s.status==="failed"?"destructive":s.status==="partial"?"warning":"secondary",children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Processed"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.recordsProcessed})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),e.jsx("p",{className:"text-lg font-semibold text-green-600",children:s.recordsCreated})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Updated"}),e.jsx("p",{className:"text-lg font-semibold text-blue-600",children:s.recordsUpdated})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Skipped"}),e.jsx("p",{className:"text-lg font-semibold text-gray-600",children:s.recordsSkipped})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Failed"}),e.jsx("p",{className:"text-lg font-semibold text-red-600",children:s.recordsFailed})]})]}),s.errors&&s.errors.length>0&&e.jsx("div",{className:"mt-4 p-4 bg-red-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-red-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-red-900 mb-2",children:"Errors:"}),e.jsx("ul",{className:"space-y-1",children:s.errors.slice(0,3).map((n,k)=>e.jsxs("li",{className:"text-sm text-red-800",children:[n.field,": ",n.message,n.recordId&&` (${n.recordId})`]},k))}),s.errors.length>3&&e.jsxs("p",{className:"text-sm text-red-800 mt-1",children:["... and ",s.errors.length-3," more errors"]})]})]})})]},s.id)})})]})]}),Y&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("h2",{className:"text-xl font-bold text-[#1B2A5E]",children:[d?"Edit":"Create"," HRIS Connection"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[x.name," - ",o.name]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"displayName",children:"Display Name"}),e.jsx(c,{id:"displayName",value:t.displayName,onChange:s=>r({...t,displayName:s.target.value}),placeholder:"e.g., TechCorp - Workday"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsx(l,{className:"mb-3 block",children:"Connection Scope"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"scope",checked:w==="client",onChange:()=>{I("client"),f([])},className:"mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Client Level (All Sites)"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["This connection will apply to all sites under ",o.name]})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"scope",checked:w==="sites",onChange:()=>I("sites"),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Specific Sites"}),e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Select which sites should use this connection"}),w==="sites"&&e.jsx("div",{className:"space-y-2 ml-6",children:H.length===0?e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No sites available"}):H.map(s=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:T.includes(s.id),onChange:a=>{a.target.checked?f([...T,s.id]):f(T.filter(n=>n!==s.id))}}),e.jsx("span",{className:"text-sm text-gray-700",children:s.name}),!s.isActive&&e.jsx("span",{className:"text-xs text-gray-500",children:"(Inactive)"})]},s.id))})]})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"authType",children:"Authentication Type"}),e.jsx("select",{id:"authType",value:t.authType,onChange:s=>r({...t,authType:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",children:x.authTypes.map(s=>e.jsx("option",{value:s,children:s.toUpperCase().replace("_"," ")},s))})]}),t.authType==="api_key"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"apiUrl",children:"API URL"}),e.jsx(c,{id:"apiUrl",value:t.apiUrl,onChange:s=>r({...t,apiUrl:s.target.value}),placeholder:"https://api.provider.com/v1"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"apiKey",children:"API Key"}),e.jsx(c,{id:"apiKey",type:"password",value:t.apiKey,onChange:s=>r({...t,apiKey:s.target.value}),placeholder:"Enter API key"})]})]}),t.authType==="oauth"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"apiUrl",children:"API URL"}),e.jsx(c,{id:"apiUrl",value:t.apiUrl,onChange:s=>r({...t,apiUrl:s.target.value}),placeholder:"https://api.provider.com/v1"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"clientId",children:"Client ID"}),e.jsx(c,{id:"clientId",value:t.clientId,onChange:s=>r({...t,clientId:s.target.value}),placeholder:"Enter OAuth client ID"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"clientSecret",children:"Client Secret"}),e.jsx(c,{id:"clientSecret",type:"password",value:t.clientSecret,onChange:s=>r({...t,clientSecret:s.target.value}),placeholder:"Enter OAuth client secret"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"tenantId",children:"Tenant ID (Optional)"}),e.jsx(c,{id:"tenantId",value:t.tenantId,onChange:s=>r({...t,tenantId:s.target.value}),placeholder:"Enter tenant ID if required"})]})]}),t.authType==="sftp"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"sftpHost",children:"SFTP Host"}),e.jsx(c,{id:"sftpHost",value:t.sftpHost,onChange:s=>r({...t,sftpHost:s.target.value}),placeholder:"sftp.provider.com"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"sftpUsername",children:"Username"}),e.jsx(c,{id:"sftpUsername",value:t.sftpUsername,onChange:s=>r({...t,sftpUsername:s.target.value}),placeholder:"Enter SFTP username"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"sftpPassword",children:"Password"}),e.jsx(c,{id:"sftpPassword",type:"password",value:t.sftpPassword,onChange:s=>r({...t,sftpPassword:s.target.value}),placeholder:"Enter SFTP password"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"sftpPath",children:"File Path"}),e.jsx(c,{id:"sftpPath",value:t.sftpPath,onChange:s=>r({...t,sftpPath:s.target.value}),placeholder:"/exports/employees.csv"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Sync Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"syncFrequency",children:"Sync Frequency"}),e.jsxs("select",{id:"syncFrequency",value:t.syncFrequency,onChange:s=>r({...t,syncFrequency:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",children:[e.jsx("option",{value:"manual",children:"Manual Only"}),e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),t.syncFrequency!=="manual"&&e.jsxs("div",{children:[e.jsx(l,{htmlFor:"syncTime",children:"Sync Time"}),e.jsx(c,{id:"syncTime",type:"time",value:t.syncTime,onChange:s=>r({...t,syncTime:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-3 mt-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(F,{checked:t.autoImport,onCheckedChange:s=>r({...t,autoImport:s})}),e.jsx("span",{className:"text-sm text-gray-700",children:"Auto-import employees"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(F,{checked:t.updateExisting,onCheckedChange:s=>r({...t,updateExisting:s})}),e.jsx("span",{className:"text-sm text-gray-700",children:"Update existing employees"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(F,{checked:t.deactivateMissing,onCheckedChange:s=>r({...t,deactivateMissing:s})}),e.jsx("span",{className:"text-sm text-gray-700",children:"Deactivate employees not found in HRIS"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(F,{checked:t.notifyOnSync,onCheckedChange:s=>r({...t,notifyOnSync:s})}),e.jsx("span",{className:"text-sm text-gray-700",children:"Send notification after sync"})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3 justify-end",children:[e.jsx(m,{variant:"outline",onClick:()=>{S(!1),P(null),C(null)},children:"Cancel"}),e.jsxs(m,{onClick:se,className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:[d?"Update":"Create"," Connection"]})]})]})})]})}export{Be as H};
