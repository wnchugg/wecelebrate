import{r as g,j as e,B as C,C as j,q as P,S as F,t as N}from"./index-Cwl2suO6.js";import{B as T}from"./badge-CVvH5yJO.js";import{D as I,a as M,b as L,c as O,d as q,e as U}from"./dialog-DeDwcaLz.js";import{I as m}from"./input-Bmz4_sRV.js";import{L as l}from"./label-DUKx7TRE.js";import{S as $}from"./switch-DyyYmFst.js";import{T as z}from"./textarea-Dy-9vXu1.js";import{P as Q}from"./palette-DIUCNSZ0.js";import{P as S}from"./plus-BEp39JcG.js";import{C as H}from"./circle-check-big-DqFW6Yzj.js";import{T as R}from"./tag-Dq8idblv.js";import{E as G}from"./eye-Bh609TOw.js";import{S as J}from"./square-pen-BWrye9pe.js";import{T as K}from"./trash-2-CrhnqiEh.js";import"./index-BxnLrgNs.js";import"./index-DpDF7sJH.js";import"./index-nyi8sqE4.js";import"./index-CBuo_XT6.js";import"./index-CW1p-fle.js";import"./index-boiny7SK.js";import"./index-68TPYAPy.js";function V({open:d,onClose:u,brand:o,onSave:b}){const[r,n]=g.useState({id:"",name:"",clientId:"",clientName:"",description:"",logo:"",primaryColor:"#D91C81",secondaryColor:"#1B2A5E",tertiaryColor:"#00B4CC",isActive:!0,createdAt:"",updatedAt:""});g.useEffect(()=>{n(o||{id:`brand-${Date.now()}`,name:"",clientId:`client-${Date.now()}`,clientName:"",description:"",logo:"",primaryColor:"#D91C81",secondaryColor:"#1B2A5E",tertiaryColor:"#00B4CC",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})},[o,d]);const t=(a,x)=>{n(h=>({...h,[a]:x}))},i=(a,x)=>{n(h=>({...h,[a]:x}))},v=()=>{!r.name||!r.clientName||(b({...r,updatedAt:new Date().toISOString()}),u())};return e.jsx(I,{open:d,onOpenChange:u,children:e.jsxs(M,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(L,{children:[e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-[#D91C81]"}),o?"Edit Brand":"Create New Brand"]}),e.jsx(q,{children:o?"Update the brand details and configuration.":"Create a new brand for your client with custom branding and settings."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(l,{htmlFor:"name",children:["Brand Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"name",value:r.name,onChange:a=>t("name",a.target.value),placeholder:"Acme Enterprise"})]}),e.jsxs("div",{children:[e.jsxs(l,{htmlFor:"clientName",children:["Client Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"clientName",value:r.clientName,onChange:a=>t("clientName",a.target.value),placeholder:"Acme Corporation"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(z,{id:"description",value:r.description,onChange:a=>t("description",a.target.value),placeholder:"Brief description of this brand...",rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"contactEmail",children:"Contact Email"}),e.jsx(m,{id:"contactEmail",type:"email",value:r.contactEmail,onChange:a=>t("contactEmail",a.target.value),placeholder:"contact@example.com"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"contactPhone",children:"Contact Phone"}),e.jsx(m,{id:"contactPhone",type:"tel",value:r.contactPhone,onChange:a=>t("contactPhone",a.target.value),placeholder:"(555) 123-4567"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-[#D91C81]"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Brand Colors"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"primaryColor",children:"Primary Color"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{id:"primaryColor",type:"color",value:r.primaryColor,onChange:a=>i("primaryColor",a.target.value),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),e.jsx(m,{type:"text",value:r.primaryColor,onChange:a=>i("primaryColor",a.target.value),className:"flex-1"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"secondaryColor",children:"Secondary Color"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{id:"secondaryColor",type:"color",value:r.secondaryColor,onChange:a=>i("secondaryColor",a.target.value),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),e.jsx(m,{type:"text",value:r.secondaryColor,onChange:a=>i("secondaryColor",a.target.value),className:"flex-1"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"tertiaryColor",children:"Tertiary Color"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{id:"tertiaryColor",type:"color",value:r.tertiaryColor,onChange:a=>i("tertiaryColor",a.target.value),className:"w-12 h-10 border border-gray-300 rounded-lg cursor-pointer"}),e.jsx(m,{type:"text",value:r.tertiaryColor,onChange:a=>i("tertiaryColor",a.target.value),className:"flex-1"})]})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Brand Color Preview"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"w-full h-16 rounded-lg mb-2 shadow-sm",style:{backgroundColor:r.primaryColor}}),e.jsx("p",{className:"text-xs text-gray-600",children:"Primary"})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"w-full h-16 rounded-lg mb-2 shadow-sm",style:{backgroundColor:r.secondaryColor}}),e.jsx("p",{className:"text-xs text-gray-600",children:"Secondary"})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"w-full h-16 rounded-lg mb-2 shadow-sm",style:{backgroundColor:r.tertiaryColor}}),e.jsx("p",{className:"text-xs text-gray-600",children:"Tertiary"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-base font-semibold",children:"Active Brand"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Make this brand available for site configuration"})]}),e.jsx($,{checked:r.isActive,onCheckedChange:a=>t("isActive",a)})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Brand Preview"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center text-white font-bold text-2xl shadow-sm",style:{backgroundColor:r.primaryColor},children:r.name?r.name.charAt(0):"?"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:r.name||"Brand Name"}),e.jsx("p",{className:"text-sm text-gray-600",children:r.clientName||"Client Name"}),r.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:r.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("div",{className:"w-8 h-8 rounded border-2 border-white shadow-sm",style:{backgroundColor:r.primaryColor}}),e.jsx("div",{className:"w-8 h-8 rounded border-2 border-white shadow-sm",style:{backgroundColor:r.secondaryColor}}),e.jsx("div",{className:"w-8 h-8 rounded border-2 border-white shadow-sm",style:{backgroundColor:r.tertiaryColor}})]})]})]})]})]}),e.jsxs(U,{children:[e.jsx(j,{variant:"outline",onClick:u,children:"Cancel"}),e.jsx(j,{onClick:v,className:"bg-[#D91C81] hover:bg-[#B01669] text-white",disabled:!r.name||!r.clientName,children:o?"Update Brand":"Create Brand"})]})]})})}function ue(){const{brands:d,sites:u,addBrand:o,updateBrand:b,deleteBrand:r,getSitesByBrand:n}=P(),[t,i]=g.useState(""),[v,a]=g.useState(!1),[x,h]=g.useState(null),[p,D]=g.useState("all"),w=Array.from(new Set(d.map(s=>s.clientName))).sort(),f=d.filter(s=>{const c=s.name.toLowerCase().includes(t.toLowerCase())||s.clientName.toLowerCase().includes(t.toLowerCase()),y=p==="all"||s.clientName===p;return c&&y}),B=()=>{h(null),a(!0)},k=s=>{h(s),a(!0)},A=s=>{const c=n(s);if(c.length>0){N.error(`Cannot delete brand with ${c.length} active site(s)`);return}confirm("Are you sure you want to delete this brand?")&&(r(s),N.success("Brand deleted successfully"))},E=s=>{x?(b(s.id,s),N.success("Brand updated successfully")):(o(s),N.success("Brand created successfully")),a(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Brand Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage client brands and their configurations"})]}),e.jsxs(j,{onClick:B,className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Create Brand"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(C,{className:"w-8 h-8 text-[#D91C81]"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Brands"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(H,{className:"w-8 h-8 text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(s=>s.isActive).length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active Brands"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(R,{className:"w-8 h-8 text-[#00B4CC]"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Unique Clients"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(G,{className:"w-8 h-8 text-[#1B2A5E]"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.filter(s=>s.brandId).length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Sites with Brands"})]})]}),e.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Brands"}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by brand or client name...",value:t,onChange:s=>i(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter by Client"}),e.jsxs("select",{value:p,onChange:s=>D(s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",children:[e.jsx("option",{value:"all",children:"All Clients"}),w.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["All Brands (",f.length,")"]})}),f.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(C,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"No brands found"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:t||p!=="all"?"Try adjusting your filters":"Create your first brand to get started"}),!t&&p==="all"&&e.jsxs(j,{onClick:B,className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Create Brand"]})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:f.map(s=>{const c=n(s.id);return e.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center text-white font-bold text-2xl shadow-sm",style:{backgroundColor:s.primaryColor},children:s.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.clientName}),s.description&&e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:s.primaryColor}}),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:s.secondaryColor}}),e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:s.tertiaryColor}})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>k(s),children:e.jsx(J,{className:"w-4 h-4"})}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>A(s.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(K,{className:"w-4 h-4"})})]})]}),c.length>0&&e.jsxs("div",{className:"mt-4 ml-15 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Associated Sites:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(y=>e.jsx(T,{className:"bg-blue-50 text-blue-700 border border-blue-200",children:y.name},y.id))})]})]},s.id)})})]}),e.jsx(V,{open:v,onClose:()=>a(!1),brand:x,onSave:E})]})}export{ue as BrandManagement};
