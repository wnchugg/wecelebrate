import{r as l,j as e,a7 as h,w as u,p as j,t as f}from"./index-dV4Uttrq.js";import{U as p}from"./users-DibFapgP.js";import{C as N}from"./circle-check-big-BTbhA0uw.js";import{C as c}from"./copy-CVf0oSKj.js";import{C as v}from"./circle-alert-DNo9lQw-.js";function B(){const[t,o]=l.useState(!0),[n,g]=l.useState([]),[a,d]=l.useState(null),m=async()=>{o(!0),d(null);try{const s=`https://${u}.supabase.co/functions/v1/make-server-6fcaeea3`,r=await fetch(`${s}/dev/list-admins`,{headers:{Authorization:`Bearer ${j}`}}),x=await r.json();r.ok?g(x.admins||[]):d(x.error||"Failed to fetch admin accounts")}catch(s){d(s.message||"Network error")}finally{o(!1)}};l.useEffect(()=>{m()},[]);const i=s=>{navigator.clipboard.writeText(s),f.success("Copied to clipboard!")},b=s=>{switch(s){case"super_admin":return"bg-purple-100 text-purple-700 border-purple-300";case"admin":return"bg-blue-100 text-blue-700 border-blue-300";case"manager":return"bg-green-100 text-green-700 border-green-300";case"client_admin":return"bg-orange-100 text-orange-700 border-orange-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1B2A5E] via-[#D91C81] to-[#00B4CC] flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#D91C81] to-[#B71569] p-6",children:e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx(p,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Admin Accounts"}),e.jsx("p",{className:"text-white/90 text-sm",children:"Available admin accounts for testing and development"})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-emerald-50 to-emerald-100 border-2 border-emerald-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(N,{className:"w-6 h-6 text-emerald-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-emerald-900 mb-2",children:"Default Super Admin Account"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between bg-white/50 rounded px-3 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Email:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-emerald-700 font-mono",children:"admin@example.com"}),e.jsx("button",{onClick:()=>i("admin@example.com"),className:"p-1 hover:bg-emerald-200 rounded transition-colors",children:e.jsx(c,{className:"w-4 h-4 text-emerald-600"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white/50 rounded px-3 py-2",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Password:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-emerald-700 font-mono",children:"Admin123!"}),e.jsx("button",{onClick:()=>i("Admin123!"),className:"p-1 hover:bg-emerald-200 rounded transition-colors",children:e.jsx(c,{className:"w-4 h-4 text-emerald-600"})})]})]})]})]})]})}),e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"All Admin Accounts"}),e.jsxs("button",{onClick:m,disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-[#D91C81] text-white rounded-lg hover:bg-[#B71569] transition-colors disabled:opacity-50",children:[e.jsx(h,{className:`w-4 h-4 ${t?"animate-spin":""}`}),"Refresh"]})]}),a&&e.jsx("div",{className:"mb-4 bg-red-50 border-2 border-red-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(v,{className:"w-6 h-6 text-red-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-red-900 mb-1",children:"Error"}),e.jsx("p",{className:"text-sm text-red-700",children:a})]})]})}),t&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(h,{className:"w-8 h-8 text-[#D91C81] animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Loading admin accounts..."})]}),!t&&!a&&n.length>0&&e.jsx("div",{className:"space-y-3",children:n.map((s,r)=>e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:s.username}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${b(s.role)}`,children:s.role})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{children:s.email}),e.jsx("button",{onClick:()=>i(s.email),className:"p-1 hover:bg-gray-200 rounded transition-colors",children:e.jsx(c,{className:"w-3 h-3 text-gray-500"})})]})]})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(s.created).toLocaleString()]})]},r))}),!t&&!a&&n.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(p,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No admin accounts found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"The database may need to be seeded"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center",children:e.jsx("a",{href:"/admin/login",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[#D91C81] to-[#B71569] text-white rounded-lg hover:shadow-lg transition-all",children:"Go to Login Page"})})]})]})})}export{B as default};
