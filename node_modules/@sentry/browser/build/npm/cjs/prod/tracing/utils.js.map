{"version":3,"file":"utils.js","sources":["../../../../../src/tracing/utils.ts"],"sourcesContent":["import { WINDOW } from '../helpers';\n\n/**\n * Checks if the baggage header has Sentry values.\n */\nexport function baggageHeaderHasSentryValues(baggageHeader: string): boolean {\n  return baggageHeader.split(',').some(value => value.trim().startsWith('sentry-'));\n}\n\n/**\n * Gets the full URL from a given URL string.\n */\nexport function getFullURL(url: string): string | undefined {\n  try {\n    // By adding a base URL to new URL(), this will also work for relative urls\n    // If `url` is a full URL, the base URL is ignored anyhow\n    const parsed = new URL(url, WINDOW.location.origin);\n    return parsed.href;\n  } catch {\n    return undefined;\n  }\n}\n\n/**\n * Checks if the entry is a PerformanceResourceTiming.\n */\nexport function isPerformanceResourceTiming(entry: PerformanceEntry): entry is PerformanceResourceTiming {\n  return (\n    entry.entryType === 'resource' &&\n    'initiatorType' in entry &&\n    typeof (entry as PerformanceResourceTiming).nextHopProtocol === 'string' &&\n    (entry.initiatorType === 'fetch' || entry.initiatorType === 'xmlhttprequest')\n  );\n}\n\n/**\n * Creates a Headers object from a record of string key-value pairs, and returns undefined if it fails.\n */\nexport function createHeadersSafely(headers: Record<string, string> | undefined): Headers | undefined {\n  try {\n    return new Headers(headers);\n  } catch {\n    // noop\n    return undefined;\n  }\n}\n"],"names":["WINDOW"],"mappings":";;;;AAEA;AACA;AACA;AACO,SAAS,4BAA4B,CAAC,aAAa,EAAmB;AAC7E,EAAE,OAAO,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAA,IAAS,KAAK,CAAC,IAAI,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;AACnF;;AAEA;AACA;AACA;AACO,SAAS,UAAU,CAAC,GAAG,EAA8B;AAC5D,EAAE,IAAI;AACN;AACA;AACA,IAAI,MAAM,MAAA,GAAS,IAAI,GAAG,CAAC,GAAG,EAAEA,cAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;AACvD,IAAI,OAAO,MAAM,CAAC,IAAI;AACtB,EAAE,EAAE,MAAM;AACV,IAAI,OAAO,SAAS;AACpB,EAAE;AACF;;AAEA;AACA;AACA;AACO,SAAS,2BAA2B,CAAC,KAAK,EAAwD;AACzG,EAAE;AACF,IAAI,KAAK,CAAC,SAAA,KAAc,UAAA;AACxB,IAAI,eAAA,IAAmB,KAAA;AACvB,IAAI,OAAO,CAAC,KAAA,GAAoC,eAAA,KAAoB,QAAA;AACpE,KAAK,KAAK,CAAC,aAAA,KAAkB,OAAA,IAAW,KAAK,CAAC,aAAA,KAAkB,gBAAgB;AAChF;AACA;;AAEA;AACA;AACA;AACO,SAAS,mBAAmB,CAAC,OAAO,EAA2D;AACtG,EAAE,IAAI;AACN,IAAI,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC;AAC/B,EAAE,EAAE,MAAM;AACV;AACA,IAAI,OAAO,SAAS;AACpB,EAAE;AACF;;;;;;;"}