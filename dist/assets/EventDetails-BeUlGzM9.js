import{m as V,a as W,r as d,j as e,L as p,C as i,n as L,J as R,t as m}from"./index-BKvtyMRF.js";import{g as $,a as U}from"./mockData-DkFCiQ28.js";import{C as u,d as w}from"./card-KyfzLPkM.js";import{B as M}from"./badge-fCMJuODf.js";import{P as C}from"./progress-CkU_ZXin.js";import{D as Z,a as q,b as P,c as O,d as _,e as K}from"./dialog-BIJ-BuVi.js";import{T as Q,a as ee,b as H,c as k}from"./tabs-HzU04PA3.js";import{I as D}from"./input-XMjpIdYt.js";import{L as F}from"./label-CRHX_cOx.js";import{C as S}from"./calendar-BAjdUmv6.js";import{U as T}from"./users-BPWS-E-S.js";import{H as G}from"./heart-B5bE33N6.js";import{G as E}from"./gift-CtJfH7eH.js";import{D as se}from"./dollar-sign-DH2Vbvos.js";import{f as A}from"./format-DNwwlEmA.js";import"./index-t-lLpVjF.js";import"./index-D201AfFu.js";import"./index--4DTH92R.js";import"./index-CUUZYaPo.js";import"./index-CNg4qwZg.js";import"./index-SxyIJ1cc.js";import"./index-CD6Lv_G-.js";import"./index-DdNVhrzg.js";import"./en-US-wfBU2YNu.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ae=V("share-2",te);function De(){var v;const{eventId:c}=W(),[r,f]=d.useState(null),[l,j]=d.useState(""),[x,g]=d.useState(""),[J,o]=d.useState(!1),t=c?$(c):void 0,n=c?U(c):[];if(!t)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Event Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The event you're looking for doesn't exist."}),e.jsx(p,{to:"/events",children:e.jsx(i,{children:"Browse Events"})})]})});const b=Math.round(t.fundedAmount/t.goalAmount*100),Y={wedding:"bg-pink-100 text-pink-700 border-pink-200",birthday:"bg-blue-100 text-blue-700 border-blue-200","baby-shower":"bg-purple-100 text-purple-700 border-purple-200",anniversary:"bg-rose-100 text-rose-700 border-rose-200",graduation:"bg-green-100 text-green-700 border-green-200",other:"bg-gray-100 text-gray-700 border-gray-200"},z={wedding:"Wedding",birthday:"Birthday","baby-shower":"Baby Shower",anniversary:"Anniversary",graduation:"Graduation",other:"Celebration"},I={1:"https://images.unsplash.com/photo-1655490162630-175929877280?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3ZWRkaW5nJTIwY291cGxlJTIwY2VsZWJyYXRpb258ZW58MXx8fHwxNzY5ODA2ODYyfDA&ixlib=rb-4.1.0&q=80&w=1080",2:"https://images.unsplash.com/photo-1650584997985-e713a869ee77?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiaXJ0aGRheSUyMHBhcnR5JTIwY2VsZWJyYXRpb258ZW58MXx8fHwxNzY5NzUxNjkyfDA&ixlib=rb-4.1.0&q=80&w=1080",3:"https://images.unsplash.com/photo-1765317270424-923630242acc?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiYWJ5JTIwc2hvd2VyJTIwY3V0ZXxlbnwxfHx8fDE3Njk4MDY4NjN8MA&ixlib=rb-4.1.0&q=80&w=1080",4:"https://images.unsplash.com/photo-1765248626449-3e2ad01da3fa?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhbm5pdmVyc2FyeSUyMGNvdXBsZSUyMGNlbGVicmF0aW9ufGVufDF8fHx8MTc2OTgwNjg2NHww&ixlib=rb-4.1.0&q=80&w=1080",5:"https://images.unsplash.com/photo-1653250198948-1405af521dbb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxncmFkdWF0aW9uJTIwc3R1ZGVudCUyMGNlbGVicmF0aW9ufGVufDF8fHx8MTc2OTgwNjg2NHww&ixlib=rb-4.1.0&q=80&w=1080",6:"https://images.unsplash.com/photo-1710883727450-d3a0ab1bbbe3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxuZXclMjBob3VzZSUyMGhvbWUlMjBpbnRlcmlvcnxlbnwxfHx8fDE3Njk4MDY4NjR8MA&ixlib=rb-4.1.0&q=80&w=1080"},N=s=>{f(s),o(!0)},B=()=>{if(!l||parseFloat(l)<=0){m.error("Please enter a valid contribution amount");return}if(!x.trim()){m.error("Please enter your name");return}const s=JSON.parse(localStorage.getItem("jala-cart")||"[]"),a=n.find(h=>h.id===r);a&&(s.push({giftId:r,amount:parseFloat(l),contributorName:x.trim(),eventTitle:t.title,giftName:a.name}),localStorage.setItem("jala-cart",JSON.stringify(s)),window.dispatchEvent(new Event("cart-updated")),m.success(`Added $${l} to ${a.name} to your cart!`)),o(!1),j(""),g(""),f(null)},X=()=>{navigator.clipboard.writeText(window.location.href),m.success("Link copied to clipboard!")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"relative h-[300px] md:h-[400px] bg-gray-900",children:[e.jsx("img",{src:I[t.id],alt:t.title,className:"w-full h-full object-cover opacity-70"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs(p,{to:"/events",className:"inline-flex items-center gap-2 text-white/80 hover:text-white mb-4 transition-colors",children:[e.jsx(L,{className:"h-4 w-4"}),"Back to Events"]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{className:`${Y[t.type]} border mb-2`,children:z[t.type]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-white/90",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),A(new Date(t.date),"MMMM d, yyyy")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),t.hosts.join(" & ")]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"secondary",size:"sm",onClick:X,className:"bg-white/20 hover:bg-white/30 text-white border-white/20",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsxs(i,{variant:"secondary",size:"sm",className:"bg-white/20 hover:bg-white/30 text-white border-white/20",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})]})})]}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs(Q,{defaultValue:"gifts",className:"w-full",children:[e.jsxs(ee,{className:"grid w-full grid-cols-2",children:[e.jsx(H,{value:"gifts",children:"Gift Registry"}),e.jsx(H,{value:"about",children:"About Event"})]}),e.jsx(k,{value:"gifts",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:n.map(s=>{const a=Math.round(s.funded/s.price*100),h=Math.max(0,s.price-s.funded),y=a>=100;return e.jsx(u,{className:"overflow-hidden hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("div",{className:"sm:w-48 h-48 sm:h-auto bg-gray-100 flex-shrink-0",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx(E,{className:"h-12 w-12 text-purple-300"})})}),e.jsxs("div",{className:"flex-1 p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.description}),e.jsx(M,{variant:"outline",className:"text-xs",children:s.category})]}),e.jsx("div",{className:"text-right ml-4",children:e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",s.price.toFixed(2)]})})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[s.contributors," ",s.contributors===1?"contributor":"contributors"]}),e.jsxs("span",{className:"font-semibold text-purple-600",children:[a,"% funded"]})]}),e.jsx(C,{value:a,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["$",s.funded.toFixed(2)," raised"]}),!y&&e.jsxs("span",{children:["$",h.toFixed(2)," remaining"]})]})]}),e.jsx("div",{className:"mt-4",children:y?e.jsxs(i,{variant:"outline",className:"w-full",disabled:!0,children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Fully Funded"]}):e.jsxs(i,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>N(s.id),children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Contribute"]})})]})]})},s.id)})})}),e.jsx(k,{value:"about",className:"mt-6",children:e.jsx(u,{children:e.jsxs(w,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"About This Event"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:t.description}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100",children:e.jsx(S,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Event Date"}),e.jsx("div",{className:"font-medium",children:A(new Date(t.date),"EEEE, MMMM d, yyyy")})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-pink-100",children:e.jsx(T,{className:"h-5 w-5 text-pink-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Hosted By"}),e.jsx("div",{className:"font-medium",children:t.hosts.join(" & ")})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-rose-100",children:e.jsx(E,{className:"h-5 w-5 text-rose-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Registry Items"}),e.jsxs("div",{className:"font-medium",children:[t.giftCount," gifts"]})]})]})]})]})})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(u,{className:"sticky top-24",children:e.jsxs(w,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Funding Progress"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[e.jsxs("span",{className:"text-3xl font-bold text-purple-600",children:["$",t.fundedAmount.toLocaleString()]}),e.jsxs("span",{className:"text-gray-500",children:["of $",t.goalAmount.toLocaleString()]})]}),e.jsx(C,{value:b,className:"h-3"}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[b,"% funded"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.giftCount}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gift Items"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.reduce((s,a)=>s+a.contributors,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Contributors"})]})]}),e.jsxs("div",{className:"pt-4 border-t space-y-3",children:[e.jsx(p,{to:"/cart",children:e.jsx(i,{className:"w-full",variant:"outline",children:"View Cart"})}),e.jsxs(i,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>{const s=n.find(a=>a.funded<a.price);s&&N(s.id)},children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Contribute Now"]})]})]})]})})})]})}),e.jsx(Z,{open:J,onOpenChange:o,children:e.jsxs(q,{children:[e.jsxs(P,{children:[e.jsx(O,{children:"Contribute to Gift"}),e.jsx(_,{children:r&&((v=n.find(s=>s.id===r))==null?void 0:v.name)})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"name",children:"Your Name"}),e.jsx(D,{id:"name",placeholder:"Enter your name",value:x,onChange:s=>g(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{htmlFor:"amount",children:"Contribution Amount ($)"}),e.jsx(D,{id:"amount",type:"number",min:"1",step:"0.01",placeholder:"0.00",value:l,onChange:s=>j(s.target.value)}),r&&e.jsxs("p",{className:"text-sm text-gray-600",children:["$",(n.find(s=>s.id===r).price-n.find(s=>s.id===r).funded).toFixed(2)," ","remaining"]})]})]}),e.jsxs(K,{children:[e.jsx(i,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(i,{onClick:B,children:"Add to Cart"})]})]})})]})}export{De as EventDetails};
