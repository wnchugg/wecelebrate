import{m as Re,r as x,j as e,C as h,t as c,l as Z,at as W,q as Te,G as Ve,S as le}from"./index-Cwl2suO6.js";import{E as ce}from"./exceljs.min-DVdwevPV.js";import{s as Be,p as Ue}from"./fileSecurityHelpers-CSk_xi4i.js";import{D as Se,a as ke,b as Ee,c as Fe,d as Ie,e as Ae}from"./dialog-DeDwcaLz.js";import{B as O}from"./badge-CVvH5yJO.js";import{T as $e,a as qe,b as ue,c as ge}from"./tabs-CDWU_APU.js";import{A as me,b as xe}from"./alert-BNf5-jqb.js";import{U as Je}from"./users-FL7a-Yux.js";import{U as X}from"./upload-BD4ySa9p.js";import{D as Y}from"./download-BLrmjuRA.js";import{F as Ke}from"./file-spreadsheet-Ci41K4yN.js";import{C as Pe}from"./circle-check-big-DqFW6Yzj.js";import{C as Me}from"./circle-x-CkzBQSmo.js";import{C as fe}from"./circle-alert-GQfJtxRP.js";import{F as _e}from"./file-text-CLU78OKC.js";import{L as he}from"./loader-circle-Cneib8HD.js";import{I as R}from"./input-Bmz4_sRV.js";import{L as b}from"./label-DUKx7TRE.js";import{S as re}from"./switch-DyyYmFst.js";import{S as je,a as ye,b as be,c as Ne,d as U}from"./select-CohShCMY.js";import{S as G}from"./server-DDrEtXX0.js";import{K as Oe}from"./key-GCz_6h9f.js";import{E as Xe}from"./eye-off-Xtc09Bzc.js";import{E as We}from"./eye-Bh609TOw.js";import{C as ve}from"./clock-BWW0STCM.js";import{S as He}from"./shield-D2ZDyDg1.js";import{T as we}from"./test-tube-D3WdH-3Y.js";import{M as ie}from"./mail-57hnyO2F.js";import{I as Ce}from"./id-card-GSS9_Zf5.js";import{C as De}from"./credit-card-CwHpgl_2.js";import{Z as ze}from"./zap-C74sPpju.js";import{P as oe}from"./plus-BEp39JcG.js";import{S as ne}from"./square-pen-BWrye9pe.js";import{T as de}from"./trash-2-CrhnqiEh.js";import"./index-BxnLrgNs.js";import"./index-DpDF7sJH.js";import"./index-nyi8sqE4.js";import"./index-CBuo_XT6.js";import"./index-CW1p-fle.js";import"./index-boiny7SK.js";import"./index-8AlWhSN2.js";import"./index-fvr49HQo.js";import"./index-68TPYAPy.js";import"./index-BdQq_4o_.js";import"./chevron-up-DWUFsM7p.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ye=Re("folder",Ze);function Ge({open:l,onClose:f,validationType:i,onImport:d}){const[t,A]=x.useState(!1),[g,T]=x.useState([]),[j,$]=x.useState({valid:0,errors:0,duplicates:0}),C=x.useRef(null),D=async a=>{var y;const o=(y=a.target.files)==null?void 0:y[0];if(o){A(!0);try{const P=await o.arrayBuffer(),M=new ce.Workbook;await M.xlsx.load(P);let S=M.getWorksheet(1).getSheetValues();S=Be(S);const E=Ue(o,S,{maxSizeMB:5,allowedExtensions:[".csv",".xlsx",".xls"],maxRows:1e4,maxCellLength:500});if(!E.isValid){c.error(`Security validation failed: ${E.errors.join(", ")}`),Z.error("File security check failed:",E.errors);return}E.warnings.length>0&&Z.warn("File security warnings:",E.warnings);const m=S.slice(1).filter(r=>Array.isArray(r)&&r.length>0).map((r,ae)=>{const k=r,u={id:`temp-${ae}`,email:k[1]||"",employeeId:k[2]||"",firstName:k[3]||"",lastName:k[4]||"",department:k[5]||"",serialCard:k[6]||"",status:"valid"};return(i==="email"||i==="magicLink")&&(!u.email||!N(u.email))&&(u.status="error",u.errorMessage="Invalid or missing email address"),i==="employeeId"&&(u.employeeId||(u.status="error",u.errorMessage="Missing employee ID"),(!u.email||!N(u.email))&&(u.status="error",u.errorMessage="Invalid or missing email address")),i==="serialCard"&&(u.serialCard||(u.status="error",u.errorMessage="Missing serial card number")),u}),w=new Set,F=new Set,H=new Set;m.forEach(r=>{r.email&&w.has(r.email.toLowerCase())?(r.status="duplicate",r.errorMessage="Duplicate email address"):r.email&&w.add(r.email.toLowerCase()),r.employeeId&&F.has(r.employeeId)?(r.status="duplicate",r.errorMessage="Duplicate employee ID"):r.employeeId&&F.add(r.employeeId),r.serialCard&&H.has(r.serialCard)?(r.status="duplicate",r.errorMessage="Duplicate serial card"):r.serialCard&&H.add(r.serialCard)});const Q=m.filter(r=>r.status==="valid").length,ee=m.filter(r=>r.status==="error").length,se=m.filter(r=>r.status==="duplicate").length;T(m),$({valid:Q,errors:ee,duplicates:se}),c.success(`Processed ${m.length} records`)}catch(P){Z.error("Import error:",P),c.error("Failed to process file. Please check the format.")}finally{A(!1)}}},N=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),v=()=>{const a=g.filter(o=>o.status==="valid");d(a),c.success(`Imported ${a.length} employee records`),p()},p=()=>{T([]),$({valid:0,errors:0,duplicates:0}),C.current&&(C.current.value=""),f()},q=async()=>{let a=[];i==="email"||i==="magicLink"?a=[{Email:"john.doe@company.com","First Name":"John","Last Name":"Doe",Department:"Sales"},{Email:"jane.smith@company.com","First Name":"Jane","Last Name":"Smith",Department:"Marketing"}]:i==="employeeId"?a=[{"Employee ID":"EMP001",Email:"john.doe@company.com","First Name":"John","Last Name":"Doe",Department:"Sales"},{"Employee ID":"EMP002",Email:"jane.smith@company.com","First Name":"Jane","Last Name":"Smith",Department:"Marketing"}]:i==="serialCard"&&(a=[{"Serial Card":"CARD-ABC123XYZ",Email:"john.doe@company.com","First Name":"John","Last Name":"Doe",Department:"Sales"},{"Serial Card":"CARD-DEF456UVW",Email:"jane.smith@company.com","First Name":"Jane","Last Name":"Smith",Department:"Marketing"}]);try{const o=new ce.Workbook,y=o.addWorksheet("Employees");if(a.length>0){const S=Object.keys(a[0]);y.addRow(S),a.forEach(m=>{y.addRow(Object.values(m))});const E=y.getRow(1);E.font={bold:!0},E.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFD91C81"}}}const P=await o.xlsx.writeBuffer(),M=new Blob([P],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),L=document.createElement("a");L.href=URL.createObjectURL(M),L.download=`employee_import_template_${i}.xlsx`,L.click(),c.success("Template downloaded")}catch(o){Z.error("Template download error:",o),c.error("Failed to download template")}},V=()=>{switch(i){case"email":return"Email Address";case"employeeId":return"Employee ID";case"serialCard":return"Serial Card";case"magicLink":return"Email Address";default:return"Identifier"}};return e.jsx(Se,{open:l,onOpenChange:p,children:e.jsxs(ke,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ee,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5 text-[#D91C81]"}),"Import Employee Data"]}),e.jsxs(Ie,{children:["Upload a CSV or Excel file to import employee records for ",V()," validation"]})]}),e.jsxs($e,{defaultValue:"upload",className:"mt-4",children:[e.jsxs(qe,{className:"grid w-full grid-cols-2",children:[e.jsx(ue,{value:"upload",children:"Upload File"}),e.jsx(ue,{value:"instructions",children:"Instructions"})]}),e.jsxs(ge,{value:"upload",className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-[#D91C81] transition-colors",children:[e.jsx("input",{ref:C,type:"file",accept:".csv,.xlsx,.xls",onChange:D,className:"hidden",id:"file-upload"}),e.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[e.jsx(X,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-sm text-gray-600",children:"CSV, XLSX, or XLS files (max 5MB)"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",onClick:q,className:"flex-1",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Download Template"]}),e.jsxs(h,{variant:"outline",onClick:()=>{var a;return(a=C.current)==null?void 0:a.click()},className:"flex-1",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Choose File"]})]}),g.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Pe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-green-900",children:"Valid Records"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:j.valid})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Me,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"text-sm font-semibold text-red-900",children:"Errors"})]}),e.jsx("p",{className:"text-2xl font-bold text-red-900",children:j.errors})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fe,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-900",children:"Duplicates"})]}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:j.duplicates})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Preview (",g.length," records)"]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-2 font-semibold text-gray-700",children:"Status"}),i!=="email"&&i!=="magicLink"&&e.jsx("th",{className:"text-left px-4 py-2 font-semibold text-gray-700",children:V()}),e.jsx("th",{className:"text-left px-4 py-2 font-semibold text-gray-700",children:"Email"}),e.jsx("th",{className:"text-left px-4 py-2 font-semibold text-gray-700",children:"Name"}),e.jsx("th",{className:"text-left px-4 py-2 font-semibold text-gray-700",children:"Department"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:g.slice(0,100).map((a,o)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-2",children:[a.status==="valid"&&e.jsx(O,{className:"bg-green-100 text-green-800",children:"Valid"}),a.status==="error"&&e.jsx(O,{className:"bg-red-100 text-red-800",children:"Error"}),a.status==="duplicate"&&e.jsx(O,{className:"bg-yellow-100 text-yellow-800",children:"Duplicate"})]}),i==="employeeId"&&e.jsx("td",{className:"px-4 py-2 font-mono text-xs",children:a.employeeId}),i==="serialCard"&&e.jsx("td",{className:"px-4 py-2 font-mono text-xs",children:a.serialCard}),e.jsx("td",{className:"px-4 py-2 font-mono text-xs",children:a.email}),e.jsxs("td",{className:"px-4 py-2",children:[a.firstName," ",a.lastName]}),e.jsx("td",{className:"px-4 py-2",children:a.department})]},o))})]})}),g.length>100&&e.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-t border-gray-200 text-sm text-gray-600",children:["Showing first 100 of ",g.length," records"]})]}),j.errors>0&&e.jsxs(me,{children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsxs(xe,{children:[j.errors," record(s) have validation errors and will not be imported.",j.duplicates>0&&` ${j.duplicates} duplicate(s) detected.`]})]})]})]}),e.jsxs(ge,{value:"instructions",className:"space-y-4",children:[e.jsxs(me,{children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsx(xe,{children:"Follow these guidelines to ensure successful import"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Required Columns"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[i==="email"||i==="magicLink"?e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"Email"})," - Valid email address (required)"]}):null,i==="employeeId"?e.jsxs(e.Fragment,{children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"Employee ID"})," - Unique employee identifier (required)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"Email"})," - Valid email address (required)"]})]}):null,i==="serialCard"?e.jsxs(e.Fragment,{children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"Serial Card"})," - Unique card number (required)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"Email"})," - Valid email address (optional but recommended)"]})]}):null]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Optional Columns"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"First Name"})," - Employee first name"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"Last Name"})," - Employee last name"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:"Department"})," - Department or team name"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"File Format"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[e.jsx("li",{children:"Supported formats: CSV, XLSX, XLS"}),e.jsx("li",{children:"First row must contain column headers"}),e.jsx("li",{children:"Column names are case-insensitive"}),e.jsx("li",{children:"Maximum file size: 5MB"}),e.jsx("li",{children:"Recommended maximum: 10,000 records per file"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Validation Rules"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[e.jsx("li",{children:"Email addresses must be valid format"}),e.jsx("li",{children:"Duplicate entries within the file will be flagged"}),e.jsx("li",{children:"All required fields must have values"}),e.jsx("li",{children:"Empty rows will be skipped"})]})]})]})]})]}),e.jsxs(Ae,{children:[e.jsx(h,{variant:"outline",onClick:p,children:"Cancel"}),g.length>0&&j.valid>0&&e.jsx(h,{onClick:v,className:"bg-[#D91C81] hover:bg-[#B01669] text-white",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Import ",j.valid," Records"]})})]})]})})}function Qe({open:l,onClose:f,config:i,onSave:d}){const[t,A]=x.useState({enabled:!1,host:"",port:22,username:"",password:"",authMethod:"password",remotePath:"/uploads/employee-data",filePattern:"*.csv",schedule:"daily",scheduleTime:"02:00",autoProcess:!0,deleteAfterImport:!1,status:"disconnected"}),[g,T]=x.useState(!1),[j,$]=x.useState(!1),[C,D]=x.useState(!1),[N,v]=x.useState(null);x.useEffect(()=>{i&&A(i)},[i]);const p=(a,o)=>{A(y=>({...y,[a]:o})),v(null)},q=async()=>{D(!0),v(null),setTimeout(()=>{const a=t.host&&t.username&&(t.password||t.privateKey);v({success:!!a,message:a?"Connection successful! SFTP server is reachable.":"Connection failed. Please check your credentials."}),D(!1),a?c.success("SFTP connection test successful"):c.error("SFTP connection test failed")},2e3)},V=()=>{if(!t.host||!t.username){c.error("Please fill in all required fields");return}if(t.authMethod==="password"&&!t.password){c.error("Password is required for password authentication");return}if(t.authMethod==="key"&&!t.privateKey){c.error("Private key is required for key authentication");return}d(t),c.success("SFTP configuration saved successfully"),f()};return e.jsx(Se,{open:l,onOpenChange:f,children:e.jsxs(ke,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ee,{children:[e.jsxs(Fe,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-[#D91C81]"}),"SFTP Automation Configuration"]}),e.jsx(Ie,{children:"Configure automated employee data import via SFTP file transfer"})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(b,{className:"text-base font-semibold",children:"Enable SFTP Automation"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Automatically import employee data from SFTP server"})]}),e.jsx(re,{checked:t.enabled,onCheckedChange:a=>p("enabled",a)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Server Configuration"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs(b,{htmlFor:"host",children:["Host / Server Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(R,{id:"host",type:"text",placeholder:"sftp.example.com",value:t.host,onChange:a=>p("host",a.target.value),disabled:!t.enabled})]}),e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"port",children:["Port ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(R,{id:"port",type:"number",placeholder:"22",value:t.port,onChange:a=>p("port",parseInt(a.target.value)),disabled:!t.enabled})]}),e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"username",children:["Username ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(R,{id:"username",type:"text",placeholder:"your-username",value:t.username,onChange:a=>p("username",a.target.value),disabled:!t.enabled})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4"}),"Authentication"]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"authMethod",children:"Authentication Method"}),e.jsxs(je,{value:t.authMethod,onValueChange:a=>p("authMethod",a),disabled:!t.enabled,children:[e.jsx(ye,{children:e.jsx(be,{})}),e.jsxs(Ne,{children:[e.jsx(U,{value:"password",children:"Password"}),e.jsx(U,{value:"key",children:"SSH Private Key"})]})]})]}),t.authMethod==="password"?e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"password",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{id:"password",type:g?"text":"password",placeholder:"Enter password",value:t.password,onChange:a=>p("password",a.target.value),disabled:!t.enabled,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>T(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:g?e.jsx(Xe,{className:"w-4 h-4"}):e.jsx(We,{className:"w-4 h-4"})})]})]}):e.jsxs("div",{children:[e.jsxs(b,{htmlFor:"privateKey",children:["SSH Private Key ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"relative",children:e.jsx("textarea",{id:"privateKey",placeholder:`-----BEGIN RSA PRIVATE KEY-----
...
-----END RSA PRIVATE KEY-----`,value:t.privateKey||"",onChange:a=>p("privateKey",a.target.value),disabled:!t.enabled,className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-xs resize-y min-h-[120px] focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Paste your SSH private key in PEM format"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ye,{className:"w-4 h-4"}),"File Configuration"]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"remotePath",children:"Remote Path"}),e.jsx(R,{id:"remotePath",type:"text",placeholder:"/uploads/employee-data",value:t.remotePath,onChange:a=>p("remotePath",a.target.value),disabled:!t.enabled}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Directory path on the SFTP server where files will be uploaded"})]}),e.jsxs("div",{children:[e.jsx(b,{htmlFor:"filePattern",children:"File Pattern"}),e.jsx(R,{id:"filePattern",type:"text",placeholder:"*.csv",value:t.filePattern,onChange:a=>p("filePattern",a.target.value),disabled:!t.enabled}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pattern to match files (e.g., *.csv, employees_*.xlsx, data_*.csv)"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(ve,{className:"w-4 h-4"}),"Schedule Configuration"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(b,{htmlFor:"schedule",children:"Import Frequency"}),e.jsxs(je,{value:t.schedule,onValueChange:a=>p("schedule",a),disabled:!t.enabled,children:[e.jsx(ye,{children:e.jsx(be,{})}),e.jsxs(Ne,{children:[e.jsx(U,{value:"hourly",children:"Hourly"}),e.jsx(U,{value:"daily",children:"Daily"}),e.jsx(U,{value:"weekly",children:"Weekly"}),e.jsx(U,{value:"manual",children:"Manual Only"})]})]})]}),t.schedule!=="manual"&&t.schedule!=="hourly"&&e.jsxs("div",{children:[e.jsx(b,{htmlFor:"scheduleTime",children:"Run Time"}),e.jsx(R,{id:"scheduleTime",type:"time",value:t.scheduleTime,onChange:a=>p("scheduleTime",a.target.value),disabled:!t.enabled})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4"}),"Processing Options"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(b,{className:"text-sm font-medium",children:"Auto-process Files"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Automatically import data when new files are detected"})]}),e.jsx(re,{checked:t.autoProcess,onCheckedChange:a=>p("autoProcess",a),disabled:!t.enabled})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx(b,{className:"text-sm font-medium",children:"Delete After Import"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Remove files from SFTP server after successful import"})]}),e.jsx(re,{checked:t.deleteAfterImport,onCheckedChange:a=>p("deleteAfterImport",a),disabled:!t.enabled})]})]})]}),t.enabled&&e.jsxs("div",{children:[e.jsx(h,{onClick:q,disabled:C||!t.host||!t.username,variant:"outline",className:"w-full",children:C?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2 animate-pulse"}),"Testing Connection..."]}):e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4 mr-2"}),"Test Connection"]})}),N&&e.jsxs(me,{className:`mt-3 ${N.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[N.success?e.jsx(Pe,{className:"h-4 w-4 text-green-600"}):e.jsx(Me,{className:"h-4 w-4 text-red-600"}),e.jsx(xe,{className:N.success?"text-green-900":"text-red-900",children:N.message})]})]}),t.lastSync&&e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Last Sync:"}),e.jsx("span",{className:"text-sm text-blue-700",children:new Date(t.lastSync).toLocaleString()})]})})]}),e.jsxs(Ae,{children:[e.jsx(h,{variant:"outline",onClick:f,children:"Cancel"}),e.jsx(h,{onClick:V,className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:"Save Configuration"})]})]})})}async function es(l){return(await(await W.get(`/v2/employees?site_id=${l}`)).json()).data}async function ss(l,f){return(await(await W.post("/v2/employees",{site_id:l,...f})).json()).data}async function as(l,f,i){return(await(await W.put(`/v2/employees/${l}`,{site_id:f,...i})).json()).data}async function ts(l,f){await W.delete(`/v2/employees/${l}`)}async function ls(l,f){const d=await(await W.post("/v2/employees/bulk-import",{site_id:l,employees:f})).json();return{imported:d.imported,errors:d.errors,employees:d.employees}}function Zs(){const{currentSite:l,currentClient:f,updateSite:i}=Te(),[d,t]=x.useState({method:(l==null?void 0:l.settings.validationMethod)||"email",requireApproval:!1,allowSelfRegistration:!0}),[A,g]=x.useState(!1),[T,j]=x.useState(!1),[$,C]=x.useState(!1),[D,N]=x.useState(null),[v,p]=x.useState([]),[q,V]=x.useState([]),[a,o]=x.useState(!1),[y,P]=x.useState(""),[M,L]=x.useState(""),[S,E]=x.useState(void 0),[m,w]=x.useState({email:"",employeeId:"",serialCard:"",name:"",department:""});x.useEffect(()=>{if(l!=null&&l.id){F();const s=l.settings.allowedDomains;L(s?s.join(", "):"")}},[l==null?void 0:l.id]);const F=async()=>{if(l!=null&&l.id){o(!0);try{const s=await es(l.id);V(s)}catch(s){console.error("Failed to load employees:",s),c.error("Failed to load employees")}finally{o(!1)}}},H=async()=>{if(l!=null&&l.id){if(!m.email&&!m.employeeId&&!m.serialCard){c.error("Please provide at least one identifier (email, employee ID, or serial card)");return}o(!0);try{await ss(l.id,m),c.success("Employee added successfully"),C(!1),w({email:"",employeeId:"",serialCard:"",name:"",department:""}),await F()}catch(s){console.error("Failed to add employee:",s),c.error("Failed to add employee")}finally{o(!1)}}},Q=async()=>{if(!(!(l!=null&&l.id)||!D)){o(!0);try{await as(D.id,l.id,m),c.success("Employee updated successfully"),N(null),w({email:"",employeeId:"",serialCard:"",name:"",department:""}),await F()}catch(s){console.error("Failed to update employee:",s),c.error("Failed to update employee")}finally{o(!1)}}},ee=async s=>{if(l!=null&&l.id&&confirm("Are you sure you want to deactivate this employee?")){o(!0);try{await ts(s,l.id),c.success("Employee deactivated successfully"),await F()}catch(n){console.error("Failed to delete employee:",n),c.error("Failed to delete employee")}finally{o(!1)}}},se=async s=>{if(l!=null&&l.id){o(!0);try{const n=await ls(l.id,s);p(s),c.success(`Successfully imported ${n.imported} employees`),n.errors&&n.errors.length>0&&c.warning(`${n.errors.length} records had errors`),await F()}catch(n){console.error("Failed to import employees:",n),c.error("Failed to import employees")}finally{o(!1)}}},r=async()=>{if(l!=null&&l.id){o(!0);try{const s=M.split(",").map(n=>n.trim()).filter(n=>n.length>0);await i(l.id,{settings:{...l.settings,allowedDomains:s}}),c.success("Allowed domains saved successfully")}catch(s){console.error("Failed to save allowed domains:",s),c.error("Failed to save allowed domains")}finally{o(!1)}}},ae=s=>{N(s),w({email:s.email||"",employeeId:s.employeeId||"",serialCard:s.serialCard||"",name:s.name||"",department:s.department||""})},k=q.filter(s=>{var I,J,K,z,B;const n=y.toLowerCase();return((I=s.email)==null?void 0:I.toLowerCase().includes(n))||((J=s.employeeId)==null?void 0:J.toLowerCase().includes(n))||((K=s.serialCard)==null?void 0:K.toLowerCase().includes(n))||((z=s.name)==null?void 0:z.toLowerCase().includes(n))||((B=s.department)==null?void 0:B.toLowerCase().includes(n))}),u=s=>{E(s),c.success("SFTP configuration saved successfully")},te=()=>{const s=d.method;let n=[],I=[];switch(s){case"email":n=["Email Address","First Name","Last Name","Department"],I=[["john.doe@company.com","John","Doe","Engineering"],["jane.smith@company.com","Jane","Smith","Marketing"]];break;case"employeeId":n=["Employee ID","First Name","Last Name","Department"],I=[["EMP-001","John","Doe","Engineering"],["EMP-002","Jane","Smith","Marketing"]];break;case"serialCard":n=["Card Number","Employee Name","Department","Status"],I=[["CARD-ABC123XYZ","John Doe","Engineering","Active"],["CARD-DEF456UVW","Jane Smith","Marketing","Active"]];break;default:n=["Identifier","Name"],I=[["sample@email.com","Sample User"]]}const J=new ce.Workbook,K=J.addWorksheet("Template");K.addRow(n),I.forEach(B=>K.addRow(B));const z=`${s}_import_template.xlsx`;J.xlsx.writeBuffer().then(B=>{const Le=new Blob([new Uint8Array(B)],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),pe=window.URL.createObjectURL(Le),_=document.createElement("a");_.href=pe,_.download=z,document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(pe)}),c.success("Template downloaded successfully")};return!l||!f?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ve,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Please select a site to manage access"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Validation Method"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>t({...d,method:"email"}),className:`p-4 rounded-lg border-2 transition-all ${d.method==="email"?"border-[#D91C81] bg-pink-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(ie,{className:`w-8 h-8 mb-2 ${d.method==="email"?"text-[#D91C81]":"text-gray-400"}`}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Email Address"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Validate using employee email addresses"})]}),e.jsxs("button",{onClick:()=>t({...d,method:"employeeId"}),className:`p-4 rounded-lg border-2 transition-all ${d.method==="employeeId"?"border-[#D91C81] bg-pink-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Ce,{className:`w-8 h-8 mb-2 ${d.method==="employeeId"?"text-[#D91C81]":"text-gray-400"}`}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Employee ID"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Validate using employee ID numbers"})]}),e.jsxs("button",{onClick:()=>t({...d,method:"serialCard"}),className:`p-4 rounded-lg border-2 transition-all ${d.method==="serialCard"?"border-[#D91C81] bg-pink-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(De,{className:`w-8 h-8 mb-2 ${d.method==="serialCard"?"text-[#D91C81]":"text-gray-400"}`}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Serial Card"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Validate using unique card numbers"})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-[#1B2A5E] to-[#D91C81] rounded-xl p-6 text-white",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ze,{className:"w-5 h-5"}),e.jsx("h3",{className:"font-bold text-lg",children:"Automated Employee Data Import"})]}),e.jsx("p",{className:"text-white/90 text-sm mb-4",children:"Configure SFTP automation to automatically import employee data on a schedule"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(h,{onClick:()=>j(!0),variant:"secondary",className:"bg-white text-[#1B2A5E] hover:bg-white/90",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Configure SFTP"]}),(S==null?void 0:S.enabled)&&e.jsx(O,{className:"bg-green-500 text-white",children:"Automation Active"})]})]}),e.jsx(G,{className:"w-16 h-16 text-white/20"})]})}),d.method==="email"&&e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Authorized Email Addresses"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[v.length," employee",v.length!==1?"s":""," imported"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",onClick:te,children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Download Template"]}),e.jsxs(h,{variant:"outline",onClick:()=>g(!0),children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Import CSV"]}),e.jsxs(h,{className:"bg-[#D91C81] hover:bg-[#B01669] text-white",onClick:()=>C(!0),children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Add Email"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Allowed Domains (optional)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"e.g., company.com, business.org",value:M,onChange:s=>L(s.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"}),e.jsx(h,{onClick:()=>void r(),disabled:a,className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:"Save"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Comma-separated list of allowed email domains"})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search email addresses...",value:y,onChange:s=>P(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:a?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(he,{className:"w-8 h-8 text-[#D91C81] animate-spin"})}):k.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ie,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No employees found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Add employees to manage access"})]}):e.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:k.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ie,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-mono text-sm block",children:s.email}),s.name&&e.jsx("span",{className:"text-xs text-gray-500",children:s.name})]}),s.status==="inactive"&&e.jsx(O,{variant:"secondary",className:"text-xs",children:"Inactive"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-all",onClick:()=>ae(s),children:e.jsx(ne,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{className:"p-2 hover:bg-red-50 rounded-lg transition-all",onClick:()=>void ee(s.id),children:e.jsx(de,{className:"w-4 h-4 text-red-600"})})]})]},s.id))})}),e.jsx("div",{className:"mt-4 flex items-center justify-between",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[k.length," employee",k.length!==1?"s":"",y&&` matching "${y}"`]})})]}),d.method==="employeeId"&&e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Authorized Employee IDs"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[v.length," employee",v.length!==1?"s":""," imported"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",onClick:te,children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Download Template"]}),e.jsxs(h,{variant:"outline",onClick:()=>g(!0),children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Import CSV"]}),e.jsxs(h,{className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Add Employee ID"]})]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search employee IDs...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:["EMP-001","EMP-002","EMP-003","EMP-004","EMP-005"].map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ce,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-mono text-sm font-semibold",children:s})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-all",children:e.jsx(ne,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{className:"p-2 hover:bg-red-50 rounded-lg transition-all",children:e.jsx(de,{className:"w-4 h-4 text-red-600"})})]})]},n))})})]}),d.method==="serialCard"&&e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Serial Card Numbers"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[v.length," card",v.length!==1?"s":""," imported"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",onClick:te,children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Download Template"]}),e.jsxs(h,{variant:"outline",onClick:()=>g(!0),children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Import CSV"]}),e.jsxs(h,{className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Generate Cards"]})]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search serial numbers...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:["CARD-ABC123XYZ","CARD-DEF456UVW","CARD-GHI789RST","CARD-JKL012MNO","CARD-PQR345JKL"].map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(De,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-mono text-sm font-semibold",children:s}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full border border-green-200",children:"Active"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-all",children:e.jsx(ne,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{className:"p-2 hover:bg-red-50 rounded-lg transition-all",children:e.jsx(de,{className:"w-4 h-4 text-red-600"})})]})]},n))})})]}),e.jsx(Ge,{open:A,onClose:()=>g(!1),validationType:d.method,onImport:s=>void se(s)}),e.jsx(Qe,{open:T,onClose:()=>j(!1),config:S,onSave:u}),($||D)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:D?"Edit Employee":"Add Employee"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email Address ",d.method==="email"&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:m.email,onChange:s=>w({...m,email:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",placeholder:"john.doe@company.com"})]}),d.method==="employeeId"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Employee ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:m.employeeId,onChange:s=>w({...m,employeeId:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",placeholder:"EMP-001"})]}),d.method==="serialCard"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Serial Card ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:m.serialCard,onChange:s=>w({...m,serialCard:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",placeholder:"CARD-ABC123XYZ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:m.name,onChange:s=>w({...m,name:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),e.jsx("input",{type:"text",value:m.department,onChange:s=>w({...m,department:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",placeholder:"Engineering"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(h,{variant:"outline",onClick:()=>{C(!1),N(null),w({email:"",employeeId:"",serialCard:"",name:"",department:""})},className:"flex-1",children:"Cancel"}),e.jsx(h,{onClick:()=>void(D?Q():H()),disabled:a,className:"flex-1 bg-[#D91C81] hover:bg-[#B01669] text-white",children:a?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):D?"Update":"Add"})]})]})})]})}export{Zs as AccessManagement};
