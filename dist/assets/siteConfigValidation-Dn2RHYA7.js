function c(e){if(!e)return!1;try{const t=new URL(e);return["http:","https:"].includes(t.protocol)}catch{return!1}}function a(e){return e?/^#[0-9A-F]{6}$/i.test(e):!1}function m(e){if(!e)return!1;const t=e.split("T")[0],[i,s,l]=t.split("-").map(Number),n=new Date(i,s-1,l),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate());return n<o}function f(e,t){if(!e||!t)return!0;const i=new Date(e),s=new Date(t);return i<s}const h=["admin","api","auth","dashboard","system","login","logout","register","signup","signin","settings","config","manage","internal","private","test","dev","staging","prod","production"];function p(e){if(!e)return!1;const t=e.toLowerCase();return h.some(i=>t.includes(i))}function g(e){var r,o;const t=[],i={},s=[];(r=e.siteName)!=null&&r.trim()?e.siteName.length<3?(t.push("Site name must be at least 3 characters"),i.siteName="Minimum 3 characters required"):e.siteName.length>100?(t.push("Site name must not exceed 100 characters"),i.siteName="Maximum 100 characters allowed"):/^[a-zA-Z0-9\s\-_&.']+$/.test(e.siteName)||(t.push("Site name contains invalid characters"),i.siteName="Only letters, numbers, spaces, and basic punctuation allowed"):(t.push("Site name is required"),i.siteName="This field is required"),(o=e.siteUrl)!=null&&o.trim()?c(e.siteUrl)?p(e.siteUrl)?s.push("Site URL contains reserved words which may cause conflicts"):e.siteUrl.length>255&&(t.push("Site URL must not exceed 255 characters"),i.siteUrl="URL too long"):(t.push("Site URL must be a valid URL"),i.siteUrl="Invalid URL format (e.g., https://example.com)"):(t.push("Site URL is required"),i.siteUrl="This field is required"),e.availabilityStartDate&&e.availabilityEndDate&&(f(e.availabilityStartDate,e.availabilityEndDate)||(t.push("Start date must be before end date"),i.availabilityStartDate="Must be before end date",i.availabilityEndDate="Must be after start date"),m(e.availabilityEndDate)&&s.push("End date is in the past. Site may appear expired to users.")),a(e.primaryColor)||(t.push("Primary color must be a valid hex color"),i.primaryColor="Invalid format (use #RRGGBB, e.g., #D91C81)"),a(e.secondaryColor)||(t.push("Secondary color must be a valid hex color"),i.secondaryColor="Invalid format (use #RRGGBB)"),a(e.tertiaryColor)||(t.push("Tertiary color must be a valid hex color"),i.tertiaryColor="Invalid format (use #RRGGBB)"),e.primaryColor===e.secondaryColor&&s.push("Primary and secondary colors are the same. This may reduce visual distinction."),e.giftsPerUser<1?(t.push("Gifts per user must be at least 1"),i.giftsPerUser="Minimum value is 1"):e.giftsPerUser>100?(t.push("Gifts per user cannot exceed 100"),i.giftsPerUser="Maximum value is 100"):e.giftsPerUser>10&&s.push(`Gifts per user is set to ${e.giftsPerUser}. This is unusually high.`),e.defaultGiftDaysAfterClose<0?(t.push("Days after close cannot be negative"),i.defaultGiftDaysAfterClose="Must be 0 or greater"):e.defaultGiftDaysAfterClose>365?(t.push("Days after close cannot exceed 365"),i.defaultGiftDaysAfterClose="Maximum is 365 days"):e.defaultGiftDaysAfterClose>90&&s.push(`Days after close is ${e.defaultGiftDaysAfterClose}. Users may forget about their gift.`),[2,3,4,6].includes(e.gridColumns)||(t.push("Grid columns must be 2, 3, 4, or 6"),i.gridColumns="Invalid value"),(!e.sortOptions||e.sortOptions.length===0)&&(t.push("At least one sort option must be enabled"),i.sortOptions="Enable at least one sort option"),e.companyName&&e.companyName.length>100&&(t.push("Company name must not exceed 100 characters"),i.companyName="Maximum 100 characters"),e.footerText&&e.footerText.length>500&&(t.push("Footer text must not exceed 500 characters"),i.footerText="Maximum 500 characters"),e.expiredMessage&&e.expiredMessage.length>1e3&&(t.push("Expired message must not exceed 1000 characters"),i.expiredMessage="Maximum 1000 characters"),e.defaultGiftDaysAfterClose>0&&!e.defaultGiftId&&s.push("Days after close is set but no default gift is selected"),e.siteCode&&e.siteCode.trim()&&(/^[a-zA-Z0-9\-]+$/.test(e.siteCode)?e.siteCode.length>50&&(t.push("Site code must not exceed 50 characters"),i.siteCode="Maximum 50 characters"):(t.push("Site code can only contain letters, numbers, and hyphens"),i.siteCode="Invalid format (alphanumeric and hyphens only)"));const n=["NAJ","Fourgen","Netsuite","GRS","SAP","Oracle","Manual"];return e.siteErpIntegration&&!n.includes(e.siteErpIntegration)&&(t.push("Invalid ERP system selected"),i.siteErpIntegration=`Must be one of: ${n.join(", ")}`),e.siteShipFromCountry&&e.siteShipFromCountry.trim()&&(/^[A-Z]{2}$/.test(e.siteShipFromCountry)||(t.push("Ship from country must be a 2-letter country code"),i.siteShipFromCountry="Use 2-letter ISO code (e.g., US, CA, GB)")),e.siteDropDownName&&e.siteDropDownName.length>100&&(t.push("Site dropdown name must not exceed 100 characters"),i.siteDropDownName="Maximum 100 characters"),e.siteCustomDomainUrl&&e.siteCustomDomainUrl.trim()&&(c(e.siteCustomDomainUrl)||(t.push("Custom domain URL must be a valid URL"),i.siteCustomDomainUrl="Invalid URL format")),e.siteAccountManagerEmail&&e.siteAccountManagerEmail.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.siteAccountManagerEmail)||(t.push("Account manager email is invalid"),i.siteAccountManagerEmail="Invalid email format")),e.regionalClientContactEmail&&e.regionalClientContactEmail.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.regionalClientContactEmail)||(t.push("Regional contact email is invalid"),i.regionalClientContactEmail="Invalid email format")),e.regionalClientContactPhone&&e.regionalClientContactPhone.trim()&&(/^[\d\s\-\+\(\)\.]+$/.test(e.regionalClientContactPhone)||(t.push("Regional contact phone contains invalid characters"),i.regionalClientContactPhone="Use numbers, spaces, and common punctuation only")),e.disableDirectAccessAuth&&!e.ssoProvider&&s.push("Direct access is disabled but no SSO provider is configured. Users may not be able to access the site."),{valid:t.length===0,errors:t,fieldErrors:i,warnings:s}}export{p as hasReservedWords,m as isDateInPast,f as isValidDateRange,a as isValidHexColor,c as isValidUrl,g as validateSiteConfiguration};
