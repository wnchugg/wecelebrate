const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DAep3-17.js","assets/index-D9gI6lVm.css"])))=>i.map(i=>d[i]);
import{r as u,j as a,P as C,a1 as U}from"./index-DAep3-17.js";import{I as B}from"./input-E3LMlGJB.js";import{L as I}from"./label-D7rDMfrx.js";import{S as O,a as R,b as D,c as $,d as M}from"./select-Cs6HLM73.js";import{M as T}from"./map-pin-BnvXFQRp.js";import{L as k}from"./loader-circle-DZ1z-CmB.js";function v(r,n){const m=r.trim();return m.length<3?"Address too short":n==="US"&&/P\.?\s*O\.?\s*Box/i.test(m)?"PO Boxes not allowed for this country":null}function z(r,n){if(!r||r.trim()==="")return"Postal code is required";const d={US:{regex:/^\d{5}(-\d{4})?$/,message:"ZIP code must be 5 digits or 5+4 format (e.g., 12345 or 12345-6789)"},CA:{regex:/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/,message:"Postal code must be in format A1A 1A1"},GB:{regex:/^[A-Z]{1,2}\d{1,2}[A-Z]?\s?\d[A-Z]{2}$/i,message:"Postcode must be in valid UK format (e.g., SW1A 1AA)"},AU:{regex:/^\d{4}$/,message:"Postcode must be 4 digits"},DE:{regex:/^\d{5}$/,message:"Postleitzahl must be 5 digits"},FR:{regex:/^\d{5}$/,message:"Code postal must be 5 digits"},JP:{regex:/^\d{3}-?\d{4}$/,message:"Postal code must be 7 digits (e.g., 123-4567)"},CN:{regex:/^\d{6}$/,message:"Postal code must be 6 digits"},IN:{regex:/^\d{6}$/,message:"PIN code must be 6 digits"},BR:{regex:/^\d{5}-?\d{3}$/,message:"CEP must be 8 digits (e.g., 12345-678)"},MX:{regex:/^\d{5}$/,message:"CÃ³digo postal must be 5 digits"},ES:{regex:/^\d{5}$/,message:"CÃ³digo postal must be 5 digits"},IT:{regex:/^\d{5}$/,message:"CAP must be 5 digits"},NL:{regex:/^\d{4}\s?[A-Z]{2}$/i,message:"Postcode must be in format 1234 AB"},SE:{regex:/^\d{3}\s?\d{2}$/,message:"Postnummer must be 5 digits (e.g., 123 45)"},NO:{regex:/^\d{4}$/,message:"Postnummer must be 4 digits"},SG:{regex:/^\d{6}$/,message:"Postal code must be 6 digits"},KR:{regex:/^\d{5}$/,message:"Postal code must be 5 digits"}}[n];return d&&!d.regex.test(r)?d.message:null}function K({onSelect:r,country:n,placeholder:m="Start typing address...",className:d,disabled:f=!1,minQueryLength:h=3,debounceMs:b=300}){const[g,N]=u.useState(""),[o,s]=u.useState([]),[y,A]=u.useState(!1),[P,S]=u.useState(!1),[x,q]=u.useState(-1),[L,E]=u.useState(null),j=u.useRef(null),w=u.useRef(null),e=u.useRef(null),i=u.useCallback(async t=>{if(t.length<h){s([]),S(!1);return}A(!0),E(null);try{const c=await V(t,n);s(c),S(c.length>0),q(-1)}catch(c){console.error("Address autocomplete failed:",c),E("Unable to fetch address suggestions"),s([]),S(!1)}finally{A(!1)}},[n,h]);u.useEffect(()=>(e.current&&clearTimeout(e.current),g.length>=h?e.current=setTimeout(()=>{i(g)},b):(s([]),S(!1)),()=>{e.current&&clearTimeout(e.current)}),[g,h,b,i]);const l=u.useCallback(t=>{const c=W(t);r(c),N(t.description),s([]),S(!1),q(-1)},[r]),p=u.useCallback(t=>{if(!(!P||o.length===0))switch(t.key){case"ArrowDown":t.preventDefault(),q(c=>c<o.length-1?c+1:c);break;case"ArrowUp":t.preventDefault(),q(c=>c>0?c-1:-1);break;case"Enter":t.preventDefault(),x>=0&&x<o.length&&l(o[x]);break;case"Escape":t.preventDefault(),S(!1),q(-1);break}},[P,o,x,l]);return u.useEffect(()=>{const t=c=>{w.current&&!w.current.contains(c.target)&&j.current&&!j.current.contains(c.target)&&(S(!1),q(-1))};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),a.jsxs("div",{className:C("relative",d),children:[a.jsxs("div",{className:"relative",children:[a.jsx(T,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(B,{ref:j,type:"text",value:g,onChange:t=>N(t.target.value),onKeyDown:p,onFocus:()=>{o.length>0&&S(!0)},placeholder:m,disabled:f,className:C("pl-10 pr-10",L&&"border-red-500")}),y&&a.jsx(k,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 animate-spin"})]}),L&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:L}),P&&o.length>0&&a.jsx("div",{ref:w,className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-auto",children:a.jsx("ul",{className:"py-1",children:o.map((t,c)=>a.jsx("li",{onClick:()=>l(t),className:C("px-4 py-2 cursor-pointer hover:bg-gray-100 transition-colors",x===c&&"bg-gray-100"),onMouseEnter:()=>q(c),children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(T,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.description})})]})},t.id))})})]})}async function V(r,n){var m;try{const d=await U(()=>import("./index-DAep3-17.js").then(o=>o.au),__vite__mapDeps([0,1])).then(o=>o.getCurrentEnvironment()),f=`https://${(m=d.supabaseUrl.match(/https:\/\/([^.]+)/))==null?void 0:m[1]}.supabase.co/functions/v1/make-server-6fcaeea3`,h=new URLSearchParams({q:r});n&&h.append("country",n);const b=await fetch(`${f}/api/address-autocomplete/search?${h.toString()}`,{method:"GET",headers:{"Content-Type":"application/json","X-Environment-ID":d.id,Authorization:`Bearer ${d.supabaseAnonKey}`},signal:AbortSignal.timeout(5e3)});if(!b.ok){if(b.status===503)return console.warn("Address autocomplete service not configured"),[];throw new Error(`Service returned ${b.status}: ${b.statusText}`)}const g=await b.json();return!g.suggestions||!Array.isArray(g.suggestions)?(console.warn("Invalid response format from address service"),[]):await Promise.all(g.suggestions.map(async o=>{try{const s=await fetch(`${f}/api/address-autocomplete/details/${o.placeId}`,{headers:{"Content-Type":"application/json","X-Environment-ID":d.id,Authorization:`Bearer ${d.supabaseAnonKey}`},signal:AbortSignal.timeout(3e3)});if(s.ok){const y=await s.json();return{id:o.placeId,description:o.description,line1:y.address.line1||"",line2:y.address.line2||void 0,city:y.address.city||"",state:y.address.state||"",postalCode:y.address.postalCode||"",country:y.address.country||""}}}catch{console.warn("Failed to fetch details for place:",o.placeId)}return{id:o.placeId,description:o.description,line1:o.mainText||"",line2:void 0,city:"",state:"",postalCode:"",country:n||""}}))}catch(d){return d instanceof Error?d.name==="AbortError"?console.error("Address autocomplete request timed out"):d.message.includes("Failed to fetch")?console.error("Network error: Unable to reach address service"):console.error("Address autocomplete error:",d.message):console.error("Unknown error in address autocomplete:",d),[]}}function W(r){return{line1:r.line1||"",line2:r.line2||void 0,city:r.city||"",state:r.state||"",postalCode:r.postalCode||"",country:r.country||""}}const F=[{country:"United States",countryCode:"US",flag:"ðŸ‡ºðŸ‡¸",postalCodeLabel:"ZIP Code",postalCodeFormat:"12345 or 12345-6789",stateLabel:"State",cityLabel:"City",requiresState:!0,states:["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],fields:[{name:"line1",label:"Street Address",placeholder:"123 Main Street",required:!0,gridSpan:2},{name:"line2",label:"Apt, Suite, Unit (Optional)",placeholder:"Apt 4B",required:!1,gridSpan:2},{name:"city",label:"City",placeholder:"New York",required:!0,gridSpan:1},{name:"state",label:"State",placeholder:"Select state",required:!0,type:"select",gridSpan:1},{name:"postalCode",label:"ZIP Code",placeholder:"10001",required:!0,gridSpan:1}]},{country:"Canada",countryCode:"CA",flag:"ðŸ‡¨ðŸ‡¦",postalCodeLabel:"Postal Code",postalCodeFormat:"A1A 1A1",stateLabel:"Province",cityLabel:"City",requiresState:!0,states:["AB","BC","MB","NB","NL","NS","NT","NU","ON","PE","QC","SK","YT"],fields:[{name:"line1",label:"Street Address",placeholder:"123 Main Street",required:!0,gridSpan:2},{name:"line2",label:"Apt, Suite, Unit (Optional)",placeholder:"Unit 4B",required:!1,gridSpan:2},{name:"city",label:"City",placeholder:"Toronto",required:!0,gridSpan:1},{name:"state",label:"Province",placeholder:"Select province",required:!0,type:"select",gridSpan:1},{name:"postalCode",label:"Postal Code",placeholder:"M5H 2N2",required:!0,gridSpan:1}]},{country:"United Kingdom",countryCode:"GB",flag:"ðŸ‡¬ðŸ‡§",postalCodeLabel:"Postcode",postalCodeFormat:"SW1A 1AA",cityLabel:"Town/City",requiresState:!1,fields:[{name:"line1",label:"Address Line 1",placeholder:"10 Downing Street",required:!0,gridSpan:2},{name:"line2",label:"Address Line 2 (Optional)",placeholder:"Westminster",required:!1,gridSpan:2},{name:"city",label:"Town/City",placeholder:"London",required:!0,gridSpan:1},{name:"postalCode",label:"Postcode",placeholder:"SW1A 1AA",required:!0,gridSpan:1}]},{country:"Australia",countryCode:"AU",flag:"ðŸ‡¦ðŸ‡º",postalCodeLabel:"Postcode",postalCodeFormat:"2000",stateLabel:"State/Territory",cityLabel:"Suburb",requiresState:!0,states:["NSW","VIC","QLD","WA","SA","TAS","ACT","NT"],fields:[{name:"line1",label:"Street Address",placeholder:"123 George Street",required:!0,gridSpan:2},{name:"line2",label:"Address Line 2 (Optional)",placeholder:"Unit 5",required:!1,gridSpan:2},{name:"city",label:"Suburb",placeholder:"Sydney",required:!0,gridSpan:1},{name:"state",label:"State",placeholder:"Select state",required:!0,type:"select",gridSpan:1},{name:"postalCode",label:"Postcode",placeholder:"2000",required:!0,gridSpan:1}]},{country:"Germany",countryCode:"DE",flag:"ðŸ‡©ðŸ‡ª",postalCodeLabel:"Postleitzahl",postalCodeFormat:"12345",cityLabel:"Stadt",requiresState:!1,fields:[{name:"line1",label:"StraÃŸe und Hausnummer",placeholder:"HauptstraÃŸe 123",required:!0,gridSpan:2},{name:"line2",label:"Adresszusatz (Optional)",placeholder:"Wohnung 4B",required:!1,gridSpan:2},{name:"postalCode",label:"Postleitzahl",placeholder:"10115",required:!0,gridSpan:1},{name:"city",label:"Stadt",placeholder:"Berlin",required:!0,gridSpan:1}]},{country:"France",countryCode:"FR",flag:"ðŸ‡«ðŸ‡·",postalCodeLabel:"Code Postal",postalCodeFormat:"75001",cityLabel:"Ville",requiresState:!1,fields:[{name:"line1",label:"Adresse",placeholder:"123 Rue de Rivoli",required:!0,gridSpan:2},{name:"line2",label:"ComplÃ©ment d'adresse (Optionnel)",placeholder:"Appartement 4B",required:!1,gridSpan:2},{name:"postalCode",label:"Code Postal",placeholder:"75001",required:!0,gridSpan:1},{name:"city",label:"Ville",placeholder:"Paris",required:!0,gridSpan:1}]},{country:"Japan",countryCode:"JP",flag:"ðŸ‡¯ðŸ‡µ",postalCodeLabel:"éƒµä¾¿ç•ªå·",postalCodeFormat:"123-4567",cityLabel:"å¸‚åŒºç”ºæ‘",requiresState:!0,stateLabel:"éƒ½é“åºœçœŒ",fields:[{name:"postalCode",label:"éƒµä¾¿ç•ªå·",placeholder:"100-0001",required:!0,gridSpan:1},{name:"state",label:"éƒ½é“åºœçœŒ",placeholder:"æ±äº¬éƒ½",required:!0,gridSpan:1},{name:"city",label:"å¸‚åŒºç”ºæ‘",placeholder:"åƒä»£ç”°åŒº",required:!0,gridSpan:1},{name:"line1",label:"ç”ºåãƒ»ç•ªåœ°",placeholder:"åƒä»£ç”°1-1",required:!0,gridSpan:1},{name:"line2",label:"å»ºç‰©åãƒ»éƒ¨å±‹ç•ªå· (ä»»æ„)",placeholder:"ãƒžãƒ³ã‚·ãƒ§ãƒ³101å·å®¤",required:!1,gridSpan:2}]},{country:"China",countryCode:"CN",flag:"ðŸ‡¨ðŸ‡³",postalCodeLabel:"é‚®æ”¿ç¼–ç ",postalCodeFormat:"100000",cityLabel:"åŸŽå¸‚",requiresState:!0,stateLabel:"çœ/ç›´è¾–å¸‚",fields:[{name:"state",label:"çœ/ç›´è¾–å¸‚",placeholder:"åŒ—äº¬å¸‚",required:!0,gridSpan:1},{name:"city",label:"åŸŽå¸‚/åŒº",placeholder:"æœé˜³åŒº",required:!0,gridSpan:1},{name:"line1",label:"è¡—é“åœ°å€",placeholder:"å»ºå›½è·¯123å·",required:!0,gridSpan:2},{name:"line2",label:"è¯¦ç»†åœ°å€ (å¯é€‰)",placeholder:"5å·æ¥¼101å®¤",required:!1,gridSpan:2},{name:"postalCode",label:"é‚®æ”¿ç¼–ç ",placeholder:"100000",required:!0,gridSpan:1}]},{country:"India",countryCode:"IN",flag:"ðŸ‡®ðŸ‡³",postalCodeLabel:"PIN Code",postalCodeFormat:"110001",cityLabel:"City",requiresState:!0,stateLabel:"State",fields:[{name:"line1",label:"Address Line 1",placeholder:"House No. 123, Street Name",required:!0,gridSpan:2},{name:"line2",label:"Address Line 2 (Optional)",placeholder:"Locality/Area",required:!1,gridSpan:2},{name:"city",label:"City",placeholder:"New Delhi",required:!0,gridSpan:1},{name:"state",label:"State",placeholder:"Delhi",required:!0,gridSpan:1},{name:"postalCode",label:"PIN Code",placeholder:"110001",required:!0,gridSpan:1}]},{country:"Brazil",countryCode:"BR",flag:"ðŸ‡§ðŸ‡·",postalCodeLabel:"CEP",postalCodeFormat:"12345-678",cityLabel:"Cidade",requiresState:!0,stateLabel:"Estado",fields:[{name:"line1",label:"EndereÃ§o",placeholder:"Rua Principal, 123",required:!0,gridSpan:2},{name:"line2",label:"Complemento (Opcional)",placeholder:"Apto 4B",required:!1,gridSpan:2},{name:"city",label:"Cidade",placeholder:"SÃ£o Paulo",required:!0,gridSpan:1},{name:"state",label:"Estado",placeholder:"SP",required:!0,gridSpan:1},{name:"postalCode",label:"CEP",placeholder:"01310-100",required:!0,gridSpan:1}]},{country:"Mexico",countryCode:"MX",flag:"ðŸ‡²ðŸ‡½",postalCodeLabel:"CÃ³digo Postal",postalCodeFormat:"12345",cityLabel:"Ciudad",requiresState:!0,stateLabel:"Estado",fields:[{name:"line1",label:"Calle y NÃºmero",placeholder:"Calle Principal 123",required:!0,gridSpan:2},{name:"line2",label:"Colonia (Opcional)",placeholder:"Colonia Centro",required:!1,gridSpan:2},{name:"city",label:"Ciudad",placeholder:"Ciudad de MÃ©xico",required:!0,gridSpan:1},{name:"state",label:"Estado",placeholder:"CDMX",required:!0,gridSpan:1},{name:"postalCode",label:"CÃ³digo Postal",placeholder:"06000",required:!0,gridSpan:1}]},{country:"Spain",countryCode:"ES",flag:"ðŸ‡ªðŸ‡¸",postalCodeLabel:"CÃ³digo Postal",postalCodeFormat:"28001",cityLabel:"Ciudad",requiresState:!0,stateLabel:"Provincia",fields:[{name:"line1",label:"DirecciÃ³n",placeholder:"Calle Mayor, 123",required:!0,gridSpan:2},{name:"line2",label:"Piso, Puerta (Opcional)",placeholder:"Piso 4, Puerta B",required:!1,gridSpan:2},{name:"postalCode",label:"CÃ³digo Postal",placeholder:"28001",required:!0,gridSpan:1},{name:"city",label:"Ciudad",placeholder:"Madrid",required:!0,gridSpan:1},{name:"state",label:"Provincia",placeholder:"Madrid",required:!0,gridSpan:1}]},{country:"Italy",countryCode:"IT",flag:"ðŸ‡®ðŸ‡¹",postalCodeLabel:"CAP",postalCodeFormat:"00100",cityLabel:"CittÃ ",requiresState:!0,stateLabel:"Provincia",fields:[{name:"line1",label:"Indirizzo",placeholder:"Via Roma, 123",required:!0,gridSpan:2},{name:"line2",label:"Interno (Opzionale)",placeholder:"Interno 4B",required:!1,gridSpan:2},{name:"postalCode",label:"CAP",placeholder:"00100",required:!0,gridSpan:1},{name:"city",label:"CittÃ ",placeholder:"Roma",required:!0,gridSpan:1},{name:"state",label:"Provincia",placeholder:"RM",required:!0,gridSpan:1}]},{country:"Netherlands",countryCode:"NL",flag:"ðŸ‡³ðŸ‡±",postalCodeLabel:"Postcode",postalCodeFormat:"1234 AB",cityLabel:"Plaats",requiresState:!1,fields:[{name:"line1",label:"Straat en Huisnummer",placeholder:"Hoofdstraat 123",required:!0,gridSpan:2},{name:"line2",label:"Toevoeging (Optioneel)",placeholder:"Appartement 4B",required:!1,gridSpan:2},{name:"postalCode",label:"Postcode",placeholder:"1012 AB",required:!0,gridSpan:1},{name:"city",label:"Plaats",placeholder:"Amsterdam",required:!0,gridSpan:1}]},{country:"Singapore",countryCode:"SG",flag:"ðŸ‡¸ðŸ‡¬",postalCodeLabel:"Postal Code",postalCodeFormat:"123456",cityLabel:"City",requiresState:!1,fields:[{name:"line1",label:"Block/House No. and Street Name",placeholder:"123 Orchard Road",required:!0,gridSpan:2},{name:"line2",label:"Unit No. (Optional)",placeholder:"#12-34",required:!1,gridSpan:2},{name:"postalCode",label:"Postal Code",placeholder:"238858",required:!0,gridSpan:1}]},{country:"South Korea",countryCode:"KR",flag:"ðŸ‡°ðŸ‡·",postalCodeLabel:"ìš°íŽ¸ë²ˆí˜¸",postalCodeFormat:"12345",cityLabel:"ì‹œ/êµ°/êµ¬",requiresState:!0,stateLabel:"ì‹œ/ë„",fields:[{name:"postalCode",label:"ìš°íŽ¸ë²ˆí˜¸",placeholder:"06000",required:!0,gridSpan:1},{name:"state",label:"ì‹œ/ë„",placeholder:"ì„œìš¸íŠ¹ë³„ì‹œ",required:!0,gridSpan:1},{name:"city",label:"ì‹œ/êµ°/êµ¬",placeholder:"ê°•ë‚¨êµ¬",required:!0,gridSpan:1},{name:"line1",label:"ë„ë¡œëª… ì£¼ì†Œ",placeholder:"í…Œí—¤ëž€ë¡œ 123",required:!0,gridSpan:1},{name:"line2",label:"ìƒì„¸ ì£¼ì†Œ (ì„ íƒ)",placeholder:"101í˜¸",required:!1,gridSpan:2}]}];function J({value:r,onChange:n,onBlur:m,defaultCountry:d="US",disabled:f=!1,required:h=!1,className:b,error:g=!1,showCountrySelector:N=!0,enableAutocomplete:o=!0}){const[s,y]=u.useState(()=>F.find(e=>e.countryCode===d)||F[0]),[A,P]=u.useState({line1:(r==null?void 0:r.line1)||"",line2:(r==null?void 0:r.line2)||"",line3:(r==null?void 0:r.line3)||"",city:(r==null?void 0:r.city)||"",state:(r==null?void 0:r.state)||"",postalCode:(r==null?void 0:r.postalCode)||"",country:(r==null?void 0:r.country)||s.country}),[S,x]=u.useState({});u.useEffect(()=>{r&&P({line1:r.line1||"",line2:r.line2||"",line3:r.line3||"",city:r.city||"",state:r.state||"",postalCode:r.postalCode||"",country:r.country||s.country})},[r]);const q=e=>{const i=F.find(l=>l.countryCode===e);if(i){y(i);const l={...A,country:i.country};P(l),n==null||n(l)}},L=(e,i)=>{const l={...A,[e]:i};P(l),n==null||n(l),S[e]&&x(p=>{const t={...p};return delete t[e],t})},E=e=>{const i=A[e]||"";let l=null;e==="postalCode"&&i&&(l=z(i,s.countryCode)),(e==="line1"||e==="line2"||e==="line3")&&i&&(l=v(i,s.countryCode)),x(l?p=>({...p,[e]:l}):p=>{const t={...p};return delete t[e],t}),m==null||m()},j=e=>{const i={...A,line1:e.line1,line2:e.line2||"",city:e.city,state:e.state||"",postalCode:e.postalCode,country:e.country};P(i),n==null||n(i)},w=e=>{const i=A[e.name]||"",l=S[e.name];return e.type==="select"&&e.name==="state"&&s.states?a.jsxs("div",{className:C("space-y-2",e.gridSpan===2&&"col-span-2"),children:[a.jsxs(I,{htmlFor:e.name,children:[e.label,e.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs(O,{value:i,onValueChange:p=>L(e.name,p),disabled:f,children:[a.jsx(R,{id:e.name,className:C((g||l)&&"border-red-500"),children:a.jsx(D,{placeholder:e.placeholder})}),a.jsx($,{children:s.states.map(p=>a.jsx(M,{value:p,children:p},p))})]}),l&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:l})]},e.name):e.name==="line1"&&o?a.jsxs("div",{className:C("space-y-2",e.gridSpan===2&&"col-span-2"),children:[a.jsxs(I,{htmlFor:e.name,children:[e.label,e.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx(K,{onSelect:j,country:s.countryCode,placeholder:e.placeholder,disabled:f}),l&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:l})]},e.name):a.jsxs("div",{className:C("space-y-2",e.gridSpan===2&&"col-span-2"),children:[a.jsxs(I,{htmlFor:e.name,children:[e.label,e.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx(B,{id:e.name,type:"text",value:i,onChange:p=>L(e.name,p.target.value),onBlur:()=>E(e.name),disabled:f,required:e.required&&h,placeholder:e.placeholder,className:C((g||l)&&"border-red-500")}),l&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:l})]},e.name)};return a.jsxs("div",{className:C("space-y-4",b),children:[N&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(I,{htmlFor:"country",children:["Country",h&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsxs(O,{value:s.countryCode,onValueChange:q,disabled:f,children:[a.jsx(R,{id:"country",className:C(g&&"border-red-500"),children:a.jsx(D,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:s.flag}),a.jsx("span",{children:s.country})]})})}),a.jsx($,{children:F.map(e=>a.jsx(M,{value:e.countryCode,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:e.flag}),a.jsx("span",{children:e.country})]})},e.countryCode))})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.fields.map(w)}),s.postalCodeFormat&&a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(T,{className:"w-3 h-3"}),s.postalCodeLabel," format: ",s.postalCodeFormat]})]})}export{J as A};
