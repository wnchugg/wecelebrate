import{u as k,K as S,c as q,r as F,j as e,f as i,L,o as P,C as r,A as B,t as l,l as c}from"./index-o4gpx1In.js";import{C as o,d,a as A,b as E}from"./card-DDEBIrtV.js";import{L as R}from"./Logo-DfBqhpvA.js";import{S as T}from"./shopping-cart-CTiWwgHQ.js";import{P as $}from"./package-DfTbr66P.js";import{M as z}from"./minus-Dda0VECv.js";import{P as D}from"./plus-Dfsll2s7.js";import{T as f}from"./trash-2-BSQpo9Z7.js";import{C as M}from"./circle-alert-Bm1NT70L.js";function X(){const m=k(),{items:a,removeFromCart:N,updateQuantity:b,clearCart:y}=S(),{t:Y,currentLanguage:H}=q(),[x,h]=F.useState(!1),n=a.reduce((s,t)=>s+t.price*t.quantity,0),u=n*.08,v=(a.length>0,0),g=n+u+v,j=(s,t)=>{if(t<1){p(s);return}if(t>99){l.error("Maximum quantity is 99");return}b(s,t),c.info("[Cart] Updated quantity",{itemId:s,newQuantity:t})},p=s=>{N(s),l.success("Item removed from cart"),c.info("[Cart] Item removed",{itemId:s})},C=()=>{window.confirm("Are you sure you want to clear your cart?")&&(y(),l.success("Cart cleared"),c.info("[Cart] Cart cleared"))},w=async()=>{if(a.length===0){l.error("Your cart is empty");return}h(!0),c.info("[Cart] Starting checkout",{itemCount:a.length,total:g});try{m("/checkout")}catch(s){c.error("[Cart] Checkout error:",s),l.error("Failed to proceed to checkout"),h(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-blue-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(i,{to:"/",className:"flex items-center gap-3",children:[e.jsx("svg",{className:"h-8 w-auto",dangerouslySetInnerHTML:{__html:R}}),e.jsx("span",{className:"text-xl font-bold text-[#1B2A5E]",children:"RecHUB Gifting"})]}),e.jsx(L,{})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("button",{onClick:()=>m(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Shopping Cart"}),e.jsx("p",{className:"text-gray-600",children:a.length===0?"Your cart is empty":`${a.length} ${a.length===1?"item":"items"} in your cart`})]}),a.length===0?e.jsx(o,{className:"border-2 border-dashed",children:e.jsxs(d,{className:"flex flex-col items-center justify-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(T,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-8 text-center max-w-md",children:"Start adding items to your cart to see them here"}),e.jsx(i,{to:"/products",children:e.jsxs(r,{size:"lg",className:"bg-[#D91C81] hover:bg-[#B71569]",children:[e.jsx($,{className:"h-5 w-5 mr-2"}),"Browse Products"]})})]})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.map(s=>e.jsx(o,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex gap-6",children:[s.image&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-24 h-24 object-cover rounded-lg border border-gray-200"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:()=>j(s.id,s.quantity-1),disabled:s.quantity<=1,className:"h-8 w-8 p-0",children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx("span",{className:"w-12 text-center font-medium",children:s.quantity}),e.jsx(r,{variant:"outline",size:"sm",onClick:()=>j(s.id,s.quantity+1),disabled:s.quantity>=99,className:"h-8 w-8 p-0",children:e.jsx(D,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-lg font-bold text-[#D91C81]",children:["$",(s.price*s.quantity).toFixed(2)]}),e.jsxs(r,{variant:"ghost",size:"sm",onClick:()=>p(s.id),className:"ml-auto text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(f,{className:"h-4 w-4 mr-1"}),"Remove"]})]})]})]})})},s.id)),e.jsx("div",{className:"pt-4",children:e.jsxs(r,{variant:"outline",onClick:C,className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Clear Cart"]})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(o,{className:"sticky top-8",children:[e.jsx(A,{children:e.jsx(E,{className:"text-xl",children:"Order Summary"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsxs("span",{children:["Subtotal (",a.length," items)"]}),e.jsxs("span",{className:"font-medium",children:["$",n.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{className:"font-medium text-green-600",children:"FREE"})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Estimated Tax"}),e.jsxs("span",{className:"font-medium",children:["$",u.toFixed(2)]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-[#D91C81]",children:["$",g.toFixed(2)]})]}),e.jsx(r,{onClick:w,disabled:x||a.length===0,className:"w-full bg-[#D91C81] hover:bg-[#B71569] text-white py-6 text-lg font-semibold",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Proceed to Checkout",e.jsx(B,{className:"h-5 w-5 ml-2"})]})}),e.jsx(i,{to:"/products",children:e.jsx(r,{variant:"outline",className:"w-full mt-3",children:"Continue Shopping"})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(M,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Secure Checkout"}),e.jsx("p",{className:"text-blue-700",children:"Your payment information is encrypted and secure"})]})]})})]})]})})]})]})]})}export{X as Cart,X as default};
