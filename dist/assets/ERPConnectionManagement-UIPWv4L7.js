import{m as Ee,r,j as e,X as ke,D as C,a5 as re,Y as Re,a6 as Te}from"./index-Cwl2suO6.js";import{s as d,a as f}from"./errorHandling-zZ-_R609.js";import{L as Ae}from"./link-DeBie3RI.js";import{S as G}from"./server-DDrEtXX0.js";import{U as ce}from"./upload-BD4ySa9p.js";import{K as B}from"./key-GCz_6h9f.js";import{E as K}from"./eye-off-Xtc09Bzc.js";import{E as H}from"./eye-Bh609TOw.js";import{F as oe}from"./file-text-CLU78OKC.js";import{C as xe}from"./clock-BWW0STCM.js";import{L as q}from"./loader-circle-Cneib8HD.js";import{T as me}from"./test-tube-diagonal-DtiHKYCG.js";import{S as Ie}from"./save-0l9K206b.js";import{P as le}from"./plus-BEp39JcG.js";import{C as Me}from"./circle-check-big-DqFW6Yzj.js";import{A as ie}from"./activity-BudtXiGE.js";import{T as de}from"./trending-up-C_XgO2O1.js";import{S as Ue}from"./square-pen-BWrye9pe.js";import{T as $e}from"./trash-2-CrhnqiEh.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ue=Ee("wifi",Fe),_={updateERPConnection:async(s,c)=>{console.warn("Updating ERP connection:",s,c)},createERPConnection:async s=>{console.warn("Creating ERP connection:",s)},testERPConnection:async s=>({success:!0,responseTime:150,message:"Connection successful"})};function ne({connection:s,onClose:c,onSave:T}){const o=!!s,[j,h]=r.useState((s==null?void 0:s.name)||""),[S,N]=r.useState((s==null?void 0:s.provider)||"SAP"),[i,m]=r.useState((s==null?void 0:s.connectionMethod)||"api"),[P,A]=r.useState((s==null?void 0:s.status)||"inactive"),[u,I]=r.useState((s==null?void 0:s.credentials.apiUrl)||""),[y,M]=r.useState((s==null?void 0:s.credentials.apiKey)||""),[g,U]=r.useState((s==null?void 0:s.credentials.apiSecret)||""),[p,D]=r.useState((s==null?void 0:s.credentials.oauthToken)||""),[v,$]=r.useState((s==null?void 0:s.credentials.doiEndpoint)||""),[E,F]=r.useState((s==null?void 0:s.credentials.doiUsername)||""),[k,L]=r.useState((s==null?void 0:s.credentials.doiPassword)||""),[x,t]=r.useState((s==null?void 0:s.credentials.sftpHost)||""),[l,b]=r.useState((s==null?void 0:s.credentials.sftpPort)||22),[W,ge]=r.useState((s==null?void 0:s.credentials.sftpUsername)||""),[X,pe]=r.useState((s==null?void 0:s.credentials.sftpPassword)||""),[Y,he]=r.useState((s==null?void 0:s.credentials.sftpPath)||"/"),[J,ye]=r.useState((s==null?void 0:s.settings.timeout)||3e4),[Q,be]=r.useState((s==null?void 0:s.settings.retryAttempts)||3),[V,fe]=r.useState((s==null?void 0:s.settings.batchSize)||100),[Z,je]=r.useState((s==null?void 0:s.settings.syncSchedule)||"0 */6 * * *"),[R,Ne]=r.useState((s==null?void 0:s.settings.enabledDataTypes)||[]),[n,O]=r.useState(!1),[ee,se]=r.useState(!1),[te,ae]=r.useState(!1),ve=["SAP","Oracle","NetSuite","Microsoft Dynamics","Odoo","Infor","Epicor","Custom"],we=[{value:"orders",label:"Orders",description:"Sync order data bidirectionally"},{value:"products",label:"Products",description:"Pull product catalog from ERP"},{value:"order_status",label:"Order Status",description:"Get fulfillment & tracking updates"},{value:"inventory",label:"Inventory",description:"Real-time stock levels"},{value:"employees",label:"Employee Data",description:"Sync employee information"},{value:"invoices",label:"Invoices",description:"Pull invoice & billing data"}],Ce=a=>{Ne(z=>z.includes(a)?z.filter(De=>De!==a):[...z,a])},Se=async()=>{if(!j.trim()){d("Please enter a connection name");return}if(i==="api"&&!u){d("Please enter an API URL");return}if(i==="doi"&&!v){d("Please enter a DOI endpoint");return}if(i==="sftp"&&!x){d("Please enter an SFTP host");return}if(R.length===0){d("Please enable at least one data type");return}se(!0);try{const a={name:j,provider:S,connectionMethod:i,status:P,credentials:{...i==="api"&&{apiUrl:u,apiKey:y,apiSecret:g,oauthToken:p},...i==="doi"&&{doiEndpoint:v,doiUsername:E,doiPassword:k},...i==="sftp"&&{sftpHost:x,sftpPort:l,sftpUsername:W,sftpPassword:X,sftpPath:Y}},settings:{timeout:J,retryAttempts:Q,batchSize:V,syncSchedule:Z,enabledDataTypes:R}};o&&s?(await _.updateERPConnection(s.id,a),f("ERP connection updated successfully")):(await _.createERPConnection(a),f("ERP connection created successfully")),T(),c()}catch{d(`Failed to ${o?"update":"create"} ERP connection`)}finally{se(!1)}},Pe=async()=>{if(!s){d("Please save the connection before testing");return}ae(!0);try{const a=await _.testERPConnection(s.id);a.success?f(`Connection successful! Response time: ${a.responseTime}ms`):d(`Connection failed: ${a.message}`)}catch{d("Failed to test connection")}finally{ae(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:o?"Edit ERP Connection":"New ERP Connection"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure your ERP integration settings"})]}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ke,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-[#D91C81]"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Connection Name *"}),e.jsx("input",{type:"text",value:j,onChange:a=>h(a.target.value),placeholder:"e.g., SAP Production",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ERP Provider *"}),e.jsx("select",{value:S,onChange:a=>N(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",children:ve.map(a=>e.jsx("option",{value:a,children:a},a))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ae,{className:"w-5 h-5 text-[#D91C81]"}),"Connection Method *"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>m("api"),className:`p-4 border-2 rounded-lg transition-all ${i==="api"?"border-[#D91C81] bg-pink-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(ue,{className:`w-8 h-8 mx-auto mb-2 ${i==="api"?"text-[#D91C81]":"text-gray-400"}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"API"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"REST/SOAP API"})]})]}),e.jsxs("button",{type:"button",onClick:()=>m("doi"),className:`p-4 border-2 rounded-lg transition-all ${i==="doi"?"border-[#D91C81] bg-pink-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(G,{className:`w-8 h-8 mx-auto mb-2 ${i==="doi"?"text-[#D91C81]":"text-gray-400"}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"DOI"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Direct Order Integration"})]})]}),e.jsxs("button",{type:"button",onClick:()=>m("sftp"),className:`p-4 border-2 rounded-lg transition-all ${i==="sftp"?"border-[#D91C81] bg-pink-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(ce,{className:`w-8 h-8 mx-auto mb-2 ${i==="sftp"?"text-[#D91C81]":"text-gray-400"}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"SFTP"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"File Transfer"})]})]})]})]}),i==="api"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-[#D91C81]"}),"API Credentials"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API URL *"}),e.jsx("input",{type:"url",value:u,onChange:a=>I(a.target.value),placeholder:"https://api.example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",value:y,onChange:a=>M(a.target.value),placeholder:"Enter API key",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"}),e.jsx("button",{type:"button",onClick:()=>O(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(K,{className:"w-4 h-4"}):e.jsx(H,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Secret"}),e.jsx("input",{type:n?"text":"password",value:g,onChange:a=>U(a.target.value),placeholder:"Enter API secret",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OAuth Token (Optional)"}),e.jsx("input",{type:n?"text":"password",value:p,onChange:a=>D(a.target.value),placeholder:"Enter OAuth token",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]})]})]}),i==="doi"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-[#D91C81]"}),"DOI Credentials"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"DOI Endpoint *"}),e.jsx("input",{type:"url",value:v,onChange:a=>$(a.target.value),placeholder:"https://doi.example.com/endpoint",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),e.jsx("input",{type:"text",value:E,onChange:a=>F(a.target.value),placeholder:"Enter username",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",value:k,onChange:a=>L(a.target.value),placeholder:"Enter password",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"}),e.jsx("button",{type:"button",onClick:()=>O(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(K,{className:"w-4 h-4"}):e.jsx(H,{className:"w-4 h-4"})})]})]})]})]})]}),i==="sftp"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-[#D91C81]"}),"SFTP Credentials"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SFTP Host *"}),e.jsx("input",{type:"text",value:x,onChange:a=>t(a.target.value),placeholder:"ftp.example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port *"}),e.jsx("input",{type:"number",value:l,onChange:a=>b(parseInt(a.target.value)),placeholder:"22",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),e.jsx("input",{type:"text",value:W,onChange:a=>ge(a.target.value),placeholder:"Enter username",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",value:X,onChange:a=>pe(a.target.value),placeholder:"Enter password",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"}),e.jsx("button",{type:"button",onClick:()=>O(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(K,{className:"w-4 h-4"}):e.jsx(H,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remote Path"}),e.jsx("input",{type:"text",value:Y,onChange:a=>he(a.target.value),placeholder:"/data/export",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(oe,{className:"w-5 h-5 text-[#D91C81]"}),"Data Sync Configuration *"]}),e.jsx("div",{className:"space-y-3",children:we.map(a=>e.jsxs("label",{className:`flex items-start p-4 border-2 rounded-lg cursor-pointer transition-all ${R.includes(a.value)?"border-[#D91C81] bg-pink-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"checkbox",checked:R.includes(a.value),onChange:()=>Ce(a.value),className:"mt-1 mr-3 h-4 w-4 text-[#D91C81] focus:ring-[#D91C81] border-gray-300 rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.label}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:a.description})]})]},a.value))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-[#D91C81]"}),"Advanced Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timeout (ms)"}),e.jsx("input",{type:"number",value:J,onChange:a=>ye(parseInt(a.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Retry Attempts"}),e.jsx("input",{type:"number",value:Q,onChange:a=>be(parseInt(a.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch Size"}),e.jsx("input",{type:"number",value:V,onChange:a=>fe(parseInt(a.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sync Schedule (Cron Expression)"}),e.jsx("input",{type:"text",value:Z,onChange:a=>je(a.target.value),placeholder:"0 */6 * * * (every 6 hours)",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Example: "0 */6 * * *" = every 6 hours, "0 2 * * *" = daily at 2 AM'})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("button",{onClick:c,className:"px-6 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-white transition-colors",children:"Cancel"}),e.jsxs("div",{className:"flex gap-3",children:[o&&e.jsx("button",{onClick:Pe,disabled:te,className:"px-6 py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors flex items-center gap-2 disabled:opacity-50",children:te?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-4 h-4 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"w-4 h-4"}),"Test Connection"]})}),e.jsx("button",{onClick:Se,disabled:ee,className:"px-6 py-2 bg-[#D91C81] text-white rounded-lg hover:bg-[#B91670] transition-colors flex items-center gap-2 disabled:opacity-50",children:ee?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"w-4 h-4"}),o?"Update":"Create"," Connection"]})})]})]})]})})}const w={getERPConnections:async()=>[],getSyncLogs:async()=>[],testERPConnection:async s=>({success:!0,responseTime:150,message:"Connection successful"}),triggerSync:async(s,c)=>{console.warn("Triggering sync:",s,c)},deleteERPConnection:async s=>{console.warn("Deleting connection:",s)}};function as(){const[s,c]=r.useState([]),[T,o]=r.useState(!0),[j,h]=r.useState(!1),[S,N]=r.useState(!1),[i,m]=r.useState(null),[P,A]=r.useState(null),[u,I]=r.useState(null),[y,M]=r.useState([]),[g,U]=r.useState("connections");r.useEffect(()=>{p(),D()},[]);const p=async()=>{try{o(!0);const t=await w.getERPConnections();c(t)}catch{d("Failed to load ERP connections")}finally{o(!1)}},D=async()=>{try{const t=await w.getSyncLogs();M(t)}catch(t){console.error("Failed to load sync logs:",t)}},v=async t=>{A(t);try{const l=await w.testERPConnection(t);l.success?f(`Connection successful! Response time: ${l.responseTime}ms`):d(`Connection failed: ${l.message}`)}catch{d("Failed to test connection")}finally{A(null)}},$=async(t,l)=>{try{await w.triggerSync(t,l),f(`${l} sync started successfully`),await D()}catch{d(`Failed to trigger ${l} sync`)}},E=async t=>{if(confirm("Are you sure you want to delete this ERP connection?"))try{await w.deleteERPConnection(t),f("ERP connection deleted successfully"),await p()}catch{d("Failed to delete ERP connection")}},F=t=>{switch(t){case"api":return e.jsx(ue,{className:"w-5 h-5"});case"doi":return e.jsx(G,{className:"w-5 h-5"});case"sftp":return e.jsx(ce,{className:"w-5 h-5"});default:return e.jsx(C,{className:"w-5 h-5"})}},k=t=>{switch(t){case"active":return"text-green-600 bg-green-100";case"inactive":return"text-gray-600 bg-gray-100";case"error":return"text-red-600 bg-red-100";case"testing":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},L=t=>{switch(t){case"success":return"text-green-600 bg-green-100";case"error":return"text-red-600 bg-red-100";case"syncing":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}},x={totalConnections:s.length,activeConnections:s.filter(t=>t.status==="active").length,totalSyncs:y.length,recentSyncs:y.filter(t=>{const l=new Date(t.timestamp),b=new Date(Date.now()-1440*60*1e3);return l>b}).length};return T?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-12 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((t,l)=>e.jsx("div",{className:"h-32 bg-gray-200 rounded"},l))})]})}):e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"ERP Integration Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage connections, sync data, and monitor integrations"})]}),e.jsxs("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-[#D91C81] text-white rounded-lg hover:bg-[#B91670] transition-colors flex items-center gap-2 font-medium",children:[e.jsx(le,{className:"w-5 h-5"}),"New ERP Connection"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(C,{className:"w-5 h-5 text-[#D91C81]"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.totalConnections}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total Connections"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(Me,{className:"w-5 h-5 text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.activeConnections}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Active Connections"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(re,{className:"w-5 h-5 text-blue-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.totalSyncs}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Total Syncs"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(ie,{className:"w-5 h-5 text-purple-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.recentSyncs}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Syncs (24h)"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("div",{className:"flex gap-2 p-2",children:[{id:"connections",label:"Connections",icon:C},{id:"sync-logs",label:"Sync Logs",icon:oe},{id:"statistics",label:"Statistics",icon:de}].map(t=>e.jsxs("button",{onClick:()=>U(t.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium transition-colors ${g===t.id?"bg-[#D91C81] text-white":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(t.icon,{className:"w-4 h-4"}),t.label]},t.id))})}),e.jsxs("div",{className:"p-6",children:[g==="connections"&&e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(C,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No ERP Connections"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first ERP connection"}),e.jsxs("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-[#D91C81] text-white rounded-lg hover:bg-[#B91670] transition-colors inline-flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5"}),"Create Connection"]})]}):s.map(t=>e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>I(u===t.id?null:t.id),className:"text-gray-500 hover:text-gray-700",children:u===t.id?e.jsx(Re,{className:"w-5 h-5"}):e.jsx(Te,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${t.status==="active"?"bg-green-100":"bg-gray-100"}`,children:F(t.connectionMethod)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:t.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${k(t.status)}`,children:t.status})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"w-4 h-4"}),t.provider]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"w-4 h-4"}),t.connectionMethod.toUpperCase()]}),t.lastSync&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{className:"w-4 h-4"}),"Last sync: ",new Date(t.lastSync).toLocaleString()]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>v(t.id),disabled:P===t.id,className:"px-3 py-2 text-blue-600 border border-blue-600 rounded-lg hover:bg-blue-50 transition-colors flex items-center gap-2 disabled:opacity-50",children:[P===t.id?e.jsx(q,{className:"w-4 h-4 animate-spin"}):e.jsx(me,{className:"w-4 h-4"}),"Test"]}),e.jsx("button",{onClick:()=>{m(t),N(!0)},className:"px-3 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:e.jsx(Ue,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>E(t.id),className:"px-3 py-2 text-red-600 border border-red-600 rounded-lg hover:bg-red-50 transition-colors",children:e.jsx($e,{className:"w-4 h-4"})})]})]})}),u===t.id&&e.jsx("div",{className:"p-6 border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Connection Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Method:"}),e.jsx("span",{className:"font-medium text-gray-900",children:t.connectionMethod.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Provider:"}),e.jsx("span",{className:"font-medium text-gray-900",children:t.provider})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Created:"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date(t.createdAt).toLocaleDateString()})]}),t.settings.syncSchedule&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Schedule:"}),e.jsx("span",{className:"font-medium text-gray-900",children:t.settings.syncSchedule})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Enabled Data Sync"}),e.jsx("div",{className:"space-y-2",children:t.settings.enabledDataTypes.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:l}),e.jsxs("button",{onClick:()=>$(t.id,l),className:"px-3 py-1 text-xs text-[#D91C81] hover:bg-white rounded transition-colors flex items-center gap-1",children:[e.jsx(re,{className:"w-3 h-3"}),"Sync Now"]})]},l))})]})]})})]},t.id))}),g==="sync-logs"&&e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Connection"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Data Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Started"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Records"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(t=>{const l=s.find(b=>b.id===t.connectionId);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(l==null?void 0:l.name)||t.connectionId}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:t.dataType}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.timestamp).toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.duration?`${t.duration}s`:"-"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[t.recordsProcessed,t.error&&e.jsxs("span",{className:"text-red-600 ml-1",children:["(",t.error,")"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${L(t.status)}`,children:t.status})})]},t.id)})})]})})}),g==="statistics"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(de,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sync Statistics"}),e.jsx("p",{className:"text-gray-600",children:"Detailed analytics coming soon"})]})})]})]}),j&&e.jsx(ne,{onClose:()=>h(!1),onSave:()=>{h(!1),p()}}),S&&i&&e.jsx(ne,{connection:i,onClose:()=>{N(!1),m(null)},onSave:()=>{N(!1),m(null),p()}})]})}export{as as ERPConnectionManagement,as as default};
