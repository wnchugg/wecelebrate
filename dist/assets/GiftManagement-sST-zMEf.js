import{r as n,j as e,X as q,ag as re,C as b,a4 as I,l as O,W as ae,K as le,P as ne,L as ie,S as oe}from"./index-CYlZQa06.js";import{I as D}from"./input-BGLnrYUB.js";import{L as w}from"./label-BhePNVd4.js";import{T as ce}from"./textarea-BjLdUTke.js";import{a as R,s as E}from"./errorHandling-D2BSKzOh.js";import{P as G}from"./package-CPx7D2LU.js";import{P as _}from"./plus-h30B0z77.js";import{C as de}from"./card-BPM0EqmW.js";import{B as K}from"./badge-9JH8fCUp.js";import{b as H,c as xe}from"./index-DFx17Zj6.js";import{u as me}from"./index-Bsi2C2ro.js";import{a as ue,u as he}from"./index-PH4xDfdt.js";import{P as ge}from"./index-DW32q5jf.js";import{P as J}from"./index-BXDtpjth.js";import{p as F}from"./apiErrors-Br52ABxq.js";import{U as fe}from"./upload-CdAUSXem.js";import{C as pe}from"./circle-check-big-CFCg4-e0.js";import{C as be}from"./circle-x-DjoPwhUG.js";import{D as je}from"./dollar-sign-D5mulltA.js";import{G as ye,L as ve}from"./list-D3HKi3_v.js";import{T as B}from"./trash-2-PDg71LeD.js";import{T as Ne}from"./tag-CLbPi_bx.js";import{P as W}from"./pen-DJH1vlEG.js";function M(a){return a instanceof Error?a.message:typeof a=="string"?a:a&&typeof a=="object"&&"message"in a?String(a.message):"An unknown error occurred"}function we({giftId:a,onClose:m}){const[t,o]=n.useState({name:"",description:"",category:"",sku:"",price:"",status:"active",tags:[],brand:""}),[c,u]=n.useState(""),g=r=>{r.preventDefault();const h={name:t.name,description:t.description,category:t.category,sku:t.sku,price:parseFloat(String(t.price)),status:t.status,attributes:{brand:t.brand||void 0},tags:t.tags};a?I(`/gifts/${a}`,{method:"PUT",body:JSON.stringify(h)}).then(()=>{R("Gift updated successfully!"),m()}).catch(i=>{const d=M(i);E("Failed to update gift",d),O.error("Failed to update gift:",i)}):I("/gifts",{method:"POST",body:JSON.stringify(h)}).then(()=>{R("Gift created successfully!"),m()}).catch(i=>{const d=M(i);E("Failed to create gift",d),O.error("Failed to create gift:",i)})},j=()=>{c.trim()&&!t.tags.includes(c.trim())&&(o({...t,tags:[...t.tags,c.trim()]}),u(""))},y=r=>{o({...t,tags:t.tags.filter(h=>h!==r)})},C=async r=>{var i;if((i=r.target.files)==null?void 0:i[0])try{E("Image upload not yet implemented","Please use image URL for now")}catch(d){E("Failed to upload image",M(d))}};return e.jsx("div",{className:"fixed inset-0 bg-gray-900/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Gift":"Add New Gift"})}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-all",children:e.jsx(q,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("form",{onSubmit:g,className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-[#D91C81]"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(w,{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gift Name *"}),e.jsx(D,{type:"text",required:!0,value:t.name,onChange:r=>o({...t,name:r.target.value}),placeholder:"e.g., Wireless Noise-Cancelling Headphones",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{className:"block text-sm font-semibold text-gray-700 mb-2",children:"SKU *"}),e.jsx(D,{type:"text",required:!0,value:t.sku,onChange:r=>o({...t,sku:r.target.value}),placeholder:"e.g., TECH-WH-001",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none font-mono"})]}),e.jsxs("div",{children:[e.jsx(w,{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(D,{type:"number",required:!0,step:"0.01",min:"0",value:t.price,onChange:r=>o({...t,price:r.target.value}),placeholder:"0.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})]})]})]}),e.jsxs("div",{children:[e.jsx(w,{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Short Description *"}),e.jsx(ce,{required:!0,value:t.description,onChange:r=>o({...t,description:r.target.value}),placeholder:"Brief description shown in gift listings...",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(w,{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),e.jsx("select",{required:!0,value:t.category,onChange:r=>o({...t,category:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",children:re.map(r=>e.jsx("option",{value:r,children:r},r))})]}),e.jsxs("div",{children:[e.jsx(w,{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status *"}),e.jsxs("select",{required:!0,value:t.status,onChange:r=>o({...t,status:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"discontinued",children:"Discontinued"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Product Image"}),e.jsxs("div",{children:[e.jsx(w,{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Image URL *"}),e.jsx(D,{type:"url",required:!0,value:t.image,onChange:r=>o({...t,image:r.target.value}),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"}),t.image&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:t.image,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border border-gray-200",onError:r=>{r.currentTarget.src="https://via.placeholder.com/400x300?text=Invalid+Image"}})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(w,{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Upload Image"}),e.jsx(D,{type:"file",accept:"image/*",onChange:C,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Product Attributes (Optional)"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx(w,{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Brand"}),e.jsx(D,{type:"text",value:t.brand,onChange:r=>o({...t,brand:r.target.value}),placeholder:"e.g., AudioTech Pro",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Tags"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx(D,{type:"text",value:c,onChange:r=>u(r.target.value),onKeyPress:r=>{r.key==="Enter"&&(r.preventDefault(),j())},placeholder:"Add a tag...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"}),e.jsx(b,{type:"button",onClick:j,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all font-medium",children:e.jsx(_,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(r=>e.jsxs("span",{className:"inline-flex items-center gap-2 bg-pink-50 text-[#D91C81] px-3 py-1 rounded-full text-sm font-medium",children:[r,e.jsx("button",{type:"button",onClick:()=>y(r),className:"hover:bg-pink-100 rounded-full p-0.5 transition-all",children:e.jsx(q,{className:"w-3 h-3"})})]},r))})]})]})}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-between",children:[e.jsx(b,{type:"button",onClick:m,className:"px-4 py-2 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-all",children:"Cancel"}),e.jsx(b,{onClick:g,className:"px-6 py-2 bg-[#D91C81] text-white rounded-lg font-semibold hover:bg-[#B71569] transition-all",children:a?"Update Gift":"Create Gift"})]})]})})}var z="Checkbox",[ke]=xe(z),[Ce,Se]=ke(z),V=n.forwardRef((a,m)=>{const{__scopeCheckbox:t,name:o,checked:c,defaultChecked:u,required:g,disabled:j,value:y="on",onCheckedChange:C,form:r,...h}=a,[i,d]=n.useState(null),S=ae(m,x=>d(x)),P=n.useRef(!1),v=i?r||!!i.closest("form"):!0,[N=!1,T]=me({prop:c,defaultProp:u,onChange:C}),A=n.useRef(N);return n.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const f=()=>T(A.current);return x.addEventListener("reset",f),()=>x.removeEventListener("reset",f)}},[i,T]),e.jsxs(Ce,{scope:t,state:N,disabled:j,children:[e.jsx(J.button,{type:"button",role:"checkbox","aria-checked":k(N)?"mixed":N,"aria-required":g,"data-state":Z(N),"data-disabled":j?"":void 0,disabled:j,value:y,...h,ref:S,onKeyDown:H(a.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:H(a.onClick,x=>{T(f=>k(f)?!0:!f),v&&(P.current=x.isPropagationStopped(),P.current||x.stopPropagation())})}),v&&e.jsx(De,{control:i,bubbles:!P.current,name:o,value:y,checked:N,required:g,disabled:j,form:r,style:{transform:"translateX(-100%)"},defaultChecked:k(u)?!1:u})]})});V.displayName=z;var Q="CheckboxIndicator",Y=n.forwardRef((a,m)=>{const{__scopeCheckbox:t,forceMount:o,...c}=a,u=Se(Q,t);return e.jsx(ge,{present:o||k(u.state)||u.state===!0,children:e.jsx(J.span,{"data-state":Z(u.state),"data-disabled":u.disabled?"":void 0,...c,ref:m,style:{pointerEvents:"none",...a.style}})})});Y.displayName=Q;var De=a=>{const{control:m,checked:t,bubbles:o=!0,defaultChecked:c,...u}=a,g=n.useRef(null),j=ue(t),y=he(m);n.useEffect(()=>{const r=g.current,h=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(h,"checked").set;if(j!==t&&d){const S=new Event("click",{bubbles:o});r.indeterminate=k(t),d.call(r,k(t)?!1:t),r.dispatchEvent(S)}},[j,t,o]);const C=n.useRef(k(t)?!1:t);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:c??C.current,...u,tabIndex:-1,ref:g,style:{...a.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function k(a){return a==="indeterminate"}function Z(a){return k(a)?"indeterminate":a?"checked":"unchecked"}var Ee=V,Pe=Y;const L=n.forwardRef(({className:a,...m},t)=>e.jsx(Ee,{ref:t,"data-slot":"checkbox",className:ne("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...m,children:e.jsx(Pe,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(le,{className:"size-3.5"})})}));L.displayName="Checkbox";const Te=["Electronics","Home & Living","Fashion & Accessories","Food & Beverage","Health & Wellness","Office Supplies","Gift Cards","Experiences","Other"],X=a=>{switch(a){case"active":return"bg-green-100 text-green-800 border-green-200";case"inactive":return"bg-gray-100 text-gray-800 border-gray-200";case"out_of_stock":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};function es(){const[a,m]=n.useState([]),[t,o]=n.useState(!0),[c,u]=n.useState(""),[g,j]=n.useState(""),[y,C]=n.useState(""),[r,h]=n.useState(!1),[i,d]=n.useState(null),[S,P]=n.useState("grid"),[v,N]=n.useState([]),[T,A]=n.useState(!1);n.useEffect(()=>{x()},[]);const x=async(s=0)=>{o(!0);try{const l=await I("/admin/gifts"),p=l.data||l.gifts||[];m(p)}catch(l){if(typeof l=="object"&&l!==null&&"status"in l&&l.status===401&&s<2){O.log(`[GiftManagement] Got 401, retrying in 1 second (attempt ${s+1}/2)`),setTimeout(()=>x(s+1),1e3);return}E("Failed to load gifts",F(l)),m([])}finally{o(!1)}},f=a.filter(s=>{const l=s.name.toLowerCase().includes(c.toLowerCase())||s.description.toLowerCase().includes(c.toLowerCase())||s.sku.toLowerCase().includes(c.toLowerCase()),p=!g||s.category===g,te=!y||s.status===y;return l&&p&&te}),$=async(s,l)=>{if(confirm(`Are you sure you want to delete "${l}"? This action cannot be undone.`))try{await I(`/gifts/${s}`,{method:"DELETE"}),R(`"${l}" deleted successfully`),x()}catch(p){E("Failed to delete gift",F(p))}},ee=async()=>{if(confirm(`Are you sure you want to delete ${v.length} selected gifts? This action cannot be undone.`)){A(!0);try{await I("/gifts/bulk-delete",{method:"POST",body:JSON.stringify({ids:v})}),R(`${v.length} gifts deleted successfully`),N([]),x()}catch(s){E("Failed to delete gifts",F(s))}finally{A(!1)}}},U=s=>{N(l=>l.includes(s)?l.filter(p=>p!==s):[...l,s])},se=()=>{v.length===f.length?N([]):N(f.map(s=>s.id))};return t?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#D91C81] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading gifts..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gift Catalog Management"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage your product catalog and inventory"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsx(ie,{to:"/admin/product-bulk-import",children:e.jsxs(b,{variant:"outline",className:"border-[#D91C81] text-[#D91C81] hover:bg-pink-50 w-full sm:w-auto",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Bulk Import"]})}),e.jsxs(b,{onClick:()=>{d(null),h(!0)},className:"bg-[#D91C81] hover:bg-[#B01669] text-white w-full sm:w-auto",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Add Gift"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(G,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Gifts"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(pe,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(s=>s.status==="active").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Active"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(be,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(s=>s.status==="out_of_stock").length}),e.jsx("p",{className:"text-sm text-gray-600",children:"Out of Stock"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(je,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",a.reduce((s,l)=>s+l.price,0).toLocaleString()]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-4 w-full",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, description, or SKU...",value:c,onChange:s=>u(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none"})]}),e.jsxs("select",{value:g,onChange:s=>j(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",children:[e.jsx("option",{value:"",children:"All Categories"}),Te.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:y,onChange:s=>C(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-[#D91C81] focus:ring-2 focus:ring-pink-100 outline-none",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:S==="grid"?"default":"outline",size:"sm",onClick:()=>P("grid"),children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx(b,{variant:S==="list"?"default":"outline",size:"sm",onClick:()=>P("list"),children:e.jsx(ve,{className:"w-4 h-4"})})]})]}),v.length>0&&e.jsxs("div",{className:"mt-4 flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("span",{className:"text-sm text-blue-900",children:[v.length," gift(s) selected"]}),e.jsxs(b,{variant:"destructive",size:"sm",onClick:ee,disabled:T,children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),T?"Deleting...":"Delete Selected"]})]})]}),f.length===0?e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[e.jsx(G,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"No gifts found"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:c||g||y?"Try adjusting your filters":"Add your first gift to get started"}),!c&&!g&&!y&&e.jsxs(b,{onClick:()=>{d(null),h(!0)},className:"bg-[#D91C81] hover:bg-[#B01669] text-white",children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Add Gift"]})]}):S==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map(s=>{var l,p;return e.jsxs(de,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx(L,{checked:v.includes(s.id),onCheckedChange:()=>U(s.id),className:"bg-white"})}),e.jsx("div",{className:"h-48 bg-gray-100 flex items-center justify-center",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}):e.jsx(G,{className:"w-12 h-12 text-gray-400"})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(K,{className:X(s.status),children:s.status.replace("_"," ")})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1 truncate",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-lg font-bold text-[#D91C81]",children:["$",s.price.toFixed(2)]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["SKU: ",s.sku]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-3",children:[e.jsxs("span",{children:[e.jsx(Ne,{className:"w-3 h-3 inline mr-1"}),s.category]}),e.jsxs("span",{children:["Stock: ",((l=s.inventory)==null?void 0:l.available)??0,"/",((p=s.inventory)==null?void 0:p.total)??0]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{d(s),h(!0)},children:[e.jsx(W,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsx(b,{variant:"outline",size:"sm",onClick:()=>$(s.id,s.name),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(B,{className:"w-4 h-4"})})]})]})]},s.id)})}):e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:e.jsx(L,{checked:v.length===f.length&&f.length>0,onCheckedChange:se})}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Gift"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"SKU"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Category"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Price"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-900",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map(s=>{var l,p;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx(L,{checked:v.includes(s.id),onCheckedChange:()=>U(s.id)})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center flex-shrink-0",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover rounded"}):e.jsx(G,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:s.description})]})]})}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600 font-mono",children:s.sku}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:s.category}),e.jsxs("td",{className:"px-4 py-4 text-sm font-semibold text-gray-900",children:["$",s.price.toFixed(2)]}),e.jsxs("td",{className:"px-4 py-4 text-sm text-gray-600",children:[((l=s.inventory)==null?void 0:l.available)??0," / ",((p=s.inventory)==null?void 0:p.total)??0]}),e.jsx("td",{className:"px-4 py-4",children:e.jsx(K,{className:X(s.status),children:s.status.replace("_"," ")})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>{d(s),h(!0)},children:e.jsx(W,{className:"w-4 h-4"})}),e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>$(s.id,s.name),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(B,{className:"w-4 h-4"})})]})})]},s.id)})})]})}),r&&e.jsx(we,{giftId:(i==null?void 0:i.id)??null,onClose:()=>{h(!1),d(null)}})]})}export{es as GiftManagement};
