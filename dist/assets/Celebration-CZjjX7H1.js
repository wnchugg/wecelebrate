import{u as b,a as N,r,d as v,c as w,j as e,A as y,M as x,g as C,t as M}from"./index-CYlZQa06.js";import{A}from"./award-B9LyeJSv.js";import{L as S}from"./loader-circle-DOINguM6.js";import{C as k}from"./calendar-7hHGKC7X.js";import{F as $}from"./funnel-DH365YFl.js";import{H as E}from"./heart-C43PWfvX.js";import{S as L}from"./send-BXyaGZqs.js";const D={peer:"bg-blue-100 text-blue-700",manager:"bg-purple-100 text-purple-700",external:"bg-green-100 text-green-700",leadership:"bg-red-100 text-red-700"},F={peer:"Colleague",manager:"Manager",external:"External Partner",leadership:"Leadership"};function T(){const m=b(),{id:R}=N(),[n,h]=r.useState(null),[d,g]=r.useState("all"),[i,f]=r.useState([]),[p,j]=r.useState(!0),{user:a}=v(),{t:B}=w();r.useEffect(()=>{const s=async()=>{try{const o=C(),l=await fetch(`${o.apiBaseUrl}/milestones/${a==null?void 0:a.id}`);if(!l.ok)throw new Error("Failed to fetch milestones");const u=await l.json();f(u)}catch{M.error("Failed to load milestones")}finally{j(!1)}};a!=null&&a.id&&s()},[a==null?void 0:a.id]);const t=n?i.find(s=>s.id===n):i[0],c=(t==null?void 0:t.messages.filter(s=>d==="all"||s.senderRole===d))||[];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"text-white py-16 px-6",style:{background:"linear-gradient(135deg, #D91C81 0%, #1B2A5E 100%)"},children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("button",{onClick:()=>m("/"),className:"flex items-center gap-2 text-white/90 hover:text-white mb-6 transition-colors",children:[e.jsx(y,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Back to Home"})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(A,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"My Celebrations"}),e.jsx("p",{className:"text-white/90 text-lg mt-2",children:"View all the wonderful messages from your milestones"})]})]}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:i.map(s=>e.jsx("button",{onClick:()=>h(s.id),className:`flex-shrink-0 px-6 py-3 rounded-xl font-semibold transition-all ${n===s.id||!n&&s.id===i[0].id?"bg-white text-[#D91C81] shadow-lg":"bg-white/20 text-white hover:bg-white/30"}`,children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold",children:s.title}),e.jsxs("div",{className:"text-sm opacity-90",children:[s.messages.length," ",s.messages.length===1?"message":"messages"]})]})},s.id))})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-12",children:p?e.jsx("div",{className:"flex justify-center items-center h-96",children:e.jsx(S,{className:"w-10 h-10 animate-spin text-gray-500"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:t.date}),t.yearsOfService&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:"â€¢"}),e.jsxs("span",{className:"text-sm font-semibold",children:[t.yearsOfService," Years of Service"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"w-5 h-5 text-gray-500"}),e.jsxs("select",{value:d,onChange:s=>g(s.target.value),className:"px-4 py-2 border-2 border-gray-200 rounded-xl focus:border-[#D91C81] focus:ring focus:ring-pink-100 transition-colors",children:[e.jsx("option",{value:"all",children:"All Messages"}),e.jsx("option",{value:"peer",children:"Colleagues"}),e.jsx("option",{value:"manager",children:"Managers"}),e.jsx("option",{value:"leadership",children:"Leadership"}),e.jsx("option",{value:"external",children:"External"})]})]})]})}),e.jsx("div",{className:"space-y-6",children:c.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(x,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No messages found for this filter"})]}):c.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"h-48 flex flex-col items-center justify-center text-white font-bold text-2xl relative overflow-hidden",style:{background:s.eCardGradient},children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[s.eCardIcon==="ðŸŽŠ"&&e.jsx("div",{className:"absolute inset-0",children:Array.from({length:30}).map((o,l)=>e.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,transform:`rotate(${Math.random()*360}deg)`}},l))}),s.eCardIcon==="ðŸŒŸ"&&e.jsx("div",{className:"absolute inset-0",children:Array.from({length:20}).map((o,l)=>e.jsx("div",{className:"absolute text-white text-xl",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},children:"â˜…"},l))})]}),e.jsx("span",{className:"text-6xl mb-3 relative z-10",children:s.eCardIcon}),e.jsx("span",{className:"text-xl relative z-10",children:s.eCardText})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0",style:{backgroundColor:"#D91C81"},children:s.senderName.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.senderName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${D[s.senderRole]}`,children:F[s.senderRole]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),e.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed mb-4 italic",children:['"',s.message,'"']}),s.photoUrl&&e.jsx("img",{src:s.photoUrl,alt:"Celebration",className:"rounded-xl w-full max-h-96 object-cover mb-4"}),e.jsxs("button",{className:"flex items-center gap-2 text-gray-600 hover:text-red-500 transition-colors",children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Thank"})]})]})]},s.id))}),t.messages.length===0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(x,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Messages Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to leave a celebration message!"}),e.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-3 bg-[#D91C81] text-white rounded-xl font-semibold hover:bg-[#C01872] transition-colors",children:[e.jsx(L,{className:"w-5 h-5"}),"Add Your Message"]})]})]})})]})}export{T as Celebration,T as default};
