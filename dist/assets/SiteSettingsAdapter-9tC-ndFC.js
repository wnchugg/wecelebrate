class o{constructor(t,e,r){this.siteId=t,this.updateSite=e,this.getCurrentSite=r}async load(t){var e;try{const r=this.getCurrentSite();if(!r)throw new Error("No current site available");const i=(e=r.settings)==null?void 0:e[t];return i?typeof i=="string"?JSON.parse(i):i:null}catch(r){return console.error(`Failed to load configuration from site settings (key: ${t}):`,r),null}}async save(t,e){try{await this.updateSite(this.siteId,{settings:{[t]:e}})}catch(r){throw console.error(`Failed to save configuration to site settings (key: ${t}):`,r),new Error("Failed to save page configuration")}}async delete(t){try{await this.updateSite(this.siteId,{settings:{[t]:null}})}catch(e){throw console.error(`Failed to delete configuration from site settings (key: ${t}):`,e),new Error("Failed to delete page configuration")}}async exists(t){var e,r;try{const i=this.getCurrentSite();return i?((e=i.settings)==null?void 0:e[t])!==void 0&&((r=i.settings)==null?void 0:r[t])!==null:!1}catch(i){return console.error(`Failed to check configuration existence (key: ${t}):`,i),!1}}}export{o as S};
