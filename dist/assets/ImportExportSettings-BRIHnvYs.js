import{m as V,r as C,j as e,P as ge,q as fe,G as xe,x as he,C as b,a7 as je,B as be,t as u}from"./index-DAep3-17.js";import{C as A,a as D,b as E,d as O,c as L}from"./card-D7HVS59i.js";import{T as ve,a as Ne,b as R,c as q}from"./tabs-0I4LxGB_.js";import{A as B,a as $,b as X}from"./alert-CNc3tQv-.js";import{B as F}from"./badge-CKAfVDe6.js";import{P as ye}from"./index-GxwXKa5n.js";import{L as p}from"./label-D7rDMfrx.js";import{T as Ce}from"./textarea-vcSPiHlY.js";import{S as Ie}from"./switch-B0fN3YBd.js";import{A as Se,L as we}from"./layout-dashboard-KUU2SxhY.js";import{D as z}from"./download-C6Tum4sE.js";import{F as H}from"./file-spreadsheet-C72d3up4.js";import{U as Ae}from"./upload-CPOO72Jy.js";import{C as De}from"./circle-check-big-Dewj6UrC.js";import{C as Ee}from"./circle-alert-BJpcJige.js";import{L as W}from"./loader-circle-DZ1z-CmB.js";import{E as Oe}from"./eye-BXXJW7Ry.js";import{I as ke}from"./info-D0hbmUsI.js";import"./index-BBIAgE77.js";import"./index-b2qZ5oZ4.js";import"./index-Dxauqy8w.js";import"./index-CH-6Jnw9.js";import"./index-D_kBqr1b.js";import"./index-7D9TSwIG.js";import"./index-C8gtVD-n.js";import"./index-CcwUd-PA.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],Le=V("arrow-up-from-line",Te);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Je=V("file-down",Fe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Ge=V("file-json",Me);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Ve=V("file-up",Pe);var Re="Separator",_="horizontal",qe=["horizontal","vertical"],K=C.forwardRef((s,t)=>{const{decorative:a,orientation:o=_,...l}=s,m=ze(o)?o:_,g=a?{role:"none"}:{"aria-orientation":m==="vertical"?m:void 0,role:"separator"};return e.jsx(ye.div,{"data-orientation":m,...g,...l,ref:t})});K.displayName=Re;function ze(s){return qe.includes(s)}var Ue=K;function y({className:s,orientation:t="horizontal",decorative:a=!0,...o}){return e.jsx(Ue,{"data-slot":"separator-root",decorative:a,orientation:t,className:ge("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...o})}const f={version:"2.0.0",applicationName:"JALA 2",supportEmail:"support@jala.com",supportPhone:"1-800-JALA-GIFT",branding:{defaultPrimaryColor:"#D91C81",defaultSecondaryColor:"#1B2A5E",defaultTertiaryColor:"#00B4CC"},defaults:{language:"en",currency:"USD",country:"US",timezone:"America/New_York"},security:{passwordMinLength:12,passwordRequireUppercase:!0,passwordRequireLowercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!0,sessionTimeout:60,maxLoginAttempts:5,lockoutDuration:30,requireMFA:!1,allowedFileTypes:[".jpg",".jpeg",".png",".gif",".pdf",".xlsx",".csv"],maxFileSize:10},email:{fromName:"JALA Gifting Platform",fromEmail:"noreply@jala.com",replyToEmail:"support@jala.com",footerText:"© 2026 JALA. All rights reserved.",enableEmailNotifications:!0},features:{enableMultiLanguage:!0,enableMultiCurrency:!0,enableGiftWrap:!0,enableGiftMessage:!0,enableStorePickup:!0,enableExpressShipping:!0,enableInternationalShipping:!0,enableProductReviews:!1,enableWishlist:!1,enableGiftRegistry:!1},compliance:{enableGDPR:!0,enableCCPA:!0,enableCookieConsent:!0,dataRetentionDays:2555,requirePrivacyPolicyAcceptance:!0,requireTermsAcceptance:!0},integrations:{enableShippingProviders:!0,enablePaymentGateways:!0,enableAnalytics:!0,enableCRM:!1,enableInventoryManagement:!1},operational:{maintenanceMode:!1,maintenanceMessage:"We are currently performing scheduled maintenance. Please check back soon.",allowNewClientRegistration:!0,allowNewSiteCreation:!0,maxClientsPerAccount:100,maxSitesPerClient:50,defaultOrderProcessingDays:3},metadata:{createdAt:"2026-01-01T00:00:00Z",updatedAt:new Date().toISOString()}};class Ze{constructor(){this.storageKey="jala_global_config",this.config=this.loadConfig()}loadConfig(){try{const t=localStorage.getItem(this.storageKey);if(t){const a=JSON.parse(t);return this.mergeWithDefaults(a)}}catch(t){console.error("Error loading global config:",t)}return{...f}}mergeWithDefaults(t){return{...f,...t,branding:{...f.branding,...t.branding},defaults:{...f.defaults,...t.defaults},security:{...f.security,...t.security},email:{...f.email,...t.email},features:{...f.features,...t.features},compliance:{...f.compliance,...t.compliance},integrations:{...f.integrations,...t.integrations},operational:{...f.operational,...t.operational},metadata:{...f.metadata,...t.metadata}}}saveConfig(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.config))}catch(t){console.error("Error saving global config:",t)}}getConfig(){return{...this.config}}updateConfig(t){return this.config={...this.config,...t,metadata:{...this.config.metadata,updatedAt:new Date().toISOString()}},this.saveConfig(),this.getConfig()}resetConfig(){return this.config={...f},this.saveConfig(),this.getConfig()}exportConfig(){return JSON.stringify(this.config,null,2)}importConfig(t){try{const a=JSON.parse(t);return!a.version||!a.applicationName?{success:!1,error:"Invalid configuration: missing required fields"}:(this.config=this.mergeWithDefaults(a),this.saveConfig(),{success:!0})}catch(a){return{success:!1,error:a instanceof Error?a.message:"Invalid JSON format"}}}}const U=new Ze;function Be(){return U.getConfig()}function $e(){return U.resetConfig()}function Xe(s){return U.importConfig(s)}function He(s,t){const a={type:"global",version:"2.0.0",exportedAt:new Date().toISOString(),exportedBy:t,data:{global:s}};return JSON.stringify(a,null,2)}function We(s,t,a){const o=t.filter(m=>m.clientId===s.id),l={type:"client",version:"2.0.0",exportedAt:new Date().toISOString(),exportedBy:a,data:{clients:[s],sites:o}};return JSON.stringify(l,null,2)}function _e(s,t){const a={type:"site",version:"2.0.0",exportedAt:new Date().toISOString(),exportedBy:t,data:{sites:[s]}};return JSON.stringify(a,null,2)}function Ye(s,t,a,o){const l={type:"full",version:"2.0.0",exportedAt:new Date().toISOString(),exportedBy:o,data:{global:s,clients:t,sites:a}};return JSON.stringify(l,null,2)}function M(s,t){const a=new Blob([s],{type:"application/json"}),o=URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}function ee(s){var o,l,m;const t=[];if(!s||typeof s!="object")return t.push("Invalid data format"),{isValid:!1,errors:t};const a=s;return a.type||t.push("Missing export type"),a.version||t.push("Missing export version"),a.exportedAt||t.push("Missing export timestamp"),a.data||t.push("Missing export data"),a.type==="global"&&!((o=a.data)!=null&&o.global)&&t.push("Global configuration data is missing"),a.type==="client"&&(!((l=a.data)!=null&&l.clients)||a.data.clients.length===0)&&t.push("Client configuration data is missing"),a.type==="site"&&(!((m=a.data)!=null&&m.sites)||a.data.sites.length===0)&&t.push("Site configuration data is missing"),{isValid:t.length===0,errors:t}}function Qe(s){if(!s||typeof s!="object")return!1;const t=s;return!!(t.id&&t.name&&typeof t.isActive=="boolean")}function Ke(s){if(!s||typeof s!="object")return!1;const t=s;return!!(t.id&&t.name&&t.clientId&&t.domain&&t.status&&t.branding&&t.settings)}function et(s,t={}){var m,c;const{overwriteExisting:a=!1,generateNewIds:o=!1,validateOnly:l=!1}=t;try{const g=JSON.parse(s),I=ee(g);if(!I.isValid)return{success:!1,message:"Invalid configuration format",errors:I.errors};const r=g,h=[],k=[];return r.data.global&&(!r.data.global.version||!r.data.global.applicationName)&&h.push("Invalid global configuration: missing required fields"),r.data.clients&&r.data.clients.forEach((S,w)=>{Qe(S)||h.push(`Invalid client data at index ${w}`)}),r.data.sites&&r.data.sites.forEach((S,w)=>{Ke(S)||h.push(`Invalid site data at index ${w}`)}),h.length>0?{success:!1,message:"Validation failed",errors:h}:l?{success:!0,message:"Configuration is valid",warnings:k}:{success:!0,message:"Configuration ready to import",warnings:k,imported:{global:!!r.data.global,clientsCount:((m=r.data.clients)==null?void 0:m.length)||0,sitesCount:((c=r.data.sites)==null?void 0:c.length)||0}}}catch(g){return{success:!1,message:"Failed to parse configuration",errors:[g instanceof Error?g.message:"Unknown error"]}}}function tt(s){try{const t=JSON.parse(s);return ee(t).isValid?t:null}catch{return null}}function te(s){const t=Date.now(),a=Math.random().toString(36).substring(2,9);return`${s}-${t}-${a}`}function st(s,t){return t?{...s,id:te("client"),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:s}function at(s,t,a){const o={...s};return a&&(o.id=te("site"),o.createdAt=new Date().toISOString(),o.updatedAt=new Date().toISOString()),t&&(o.clientId=t),o}function Y(s,t){if(s.length===0)return"";const a=t==="client"?["ID","Name","Description","Contact Email","Contact Phone","Active","Created At"]:["ID","Name","Client ID","Domain","Status","Type","Primary Color","Created At"],o=s.map(m=>{if(t==="client"){const c=m;return[c.id,c.name,c.description||"",c.contactEmail||"",c.contactPhone||"",c.isActive?"Yes":"No",c.createdAt]}else{const c=m;return[c.id,c.name,c.clientId,c.domain,c.status,c.type||"",c.branding.primaryColor,c.createdAt]}});return[a.join(","),...o.map(m=>m.map(c=>`"${c}"`).join(","))].join(`
`)}function Q(s,t){const a=new Blob([s],{type:"text/csv"}),o=URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}function P(){const s="development";return["development","staging","production"].includes(s)?s:"production"}function nt(){const s=P(),t={environment:s,apiTimeout:3e4,maxUploadSize:10};switch(s){case"production":return{...t,apiBaseUrl:"https://api.jala.com",enableDebugLogging:!1,enableAnalytics:!0,enableErrorReporting:!0,sessionTimeout:60,features:{enableImportExport:!0,enableAdvancedAdmin:!0,enableBetaFeatures:!1,enableAuditLogs:!0,enableSSOConfig:!0},integrations:{supabase:{url:"https://wjfcqqrlhwdvvjmefxky.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqZmNxcXJsaHdkdnZqbWVmeGt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzNTQ4NjgsImV4cCI6MjA4NTkzMDg2OH0.utZqFFSYWNkpiHsvU8qQbu4-abPZ41hAZhNL1XDv6ec"},analytics:{googleAnalyticsId:void 0,segmentKey:void 0},monitoring:{sentryDsn:void 0}}};case"staging":return{...t,apiBaseUrl:"https://staging-api.jala.com",enableDebugLogging:!0,enableAnalytics:!0,enableErrorReporting:!0,sessionTimeout:120,features:{enableImportExport:!0,enableAdvancedAdmin:!0,enableBetaFeatures:!0,enableAuditLogs:!0,enableSSOConfig:!0},integrations:{supabase:{url:"https://wjfcqqrlhwdvvjmefxky.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqZmNxcXJsaHdkdnZqbWVmeGt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzNTQ4NjgsImV4cCI6MjA4NTkzMDg2OH0.utZqFFSYWNkpiHsvU8qQbu4-abPZ41hAZhNL1XDv6ec"},analytics:{googleAnalyticsId:void 0},monitoring:{sentryDsn:void 0}}};case"development":default:return{...t,apiBaseUrl:"http://localhost:3001",enableDebugLogging:!0,enableAnalytics:!1,enableErrorReporting:!1,sessionTimeout:480,features:{enableImportExport:!0,enableAdvancedAdmin:!0,enableBetaFeatures:!0,enableAuditLogs:!0,enableSSOConfig:!0},integrations:{supabase:{url:"https://wjfcqqrlhwdvvjmefxky.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndqZmNxcXJsaHdkdnZqbWVmeGt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAzNTQ4NjgsImV4cCI6MjA4NTkzMDg2OH0.utZqFFSYWNkpiHsvU8qQbu4-abPZ41hAZhNL1XDv6ec"}}}}}const G={get current(){return P()},get config(){return nt()},get isStaging(){return P()==="staging"},get isProduction(){return P()==="production"}};function kt(){const{clients:s,sites:t,addClient:a,addSite:o,currentClient:l}=fe(),[m,c]=C.useState("global"),[g,I]=C.useState(""),[r,h]=C.useState(null),[k,S]=C.useState(!1),[w,J]=C.useState(!1),[T,se]=C.useState(!0),j=Be(),v=G.config,ae=n=>{var x;const i=(x=n.target.files)==null?void 0:x[0];if(!i)return;const d=new FileReader;d.onload=N=>{var Z;const pe=(Z=N.target)==null?void 0:Z.result;I(pe),h(null)},d.readAsText(i)},ne=()=>{if(!g.trim()){u.error("Please provide configuration data to validate");return}S(!0),setTimeout(()=>{const n=et(g,{validateOnly:!0});h(n),S(!1),n.success?u.success("Configuration is valid and ready to import"):u.error("Configuration validation failed")},500)},ie=()=>{if(!g.trim()){u.error("Please provide configuration data to import");return}if(!(r!=null&&r.success)){u.error("Please validate the configuration first");return}J(!0),setTimeout(()=>{try{const n=tt(g);if(!n){u.error("Failed to parse configuration data"),J(!1);return}if(n.data.global){const d=Xe(JSON.stringify(n.data.global));if(!d.success){u.error(`Global config import failed: ${d.error}`),J(!1);return}}const i=new Map;n.data.clients&&n.data.clients.forEach(d=>{const x=st(d,T);T&&i.set(d.id,x.id),a(x)}),n.data.sites&&n.data.sites.forEach(d=>{const x=T&&i.has(d.clientId)?i.get(d.clientId):d.clientId,N=at(d,x,T);o(N)}),u.success("Configuration imported successfully!"),I(""),h(null)}catch(n){u.error("Import failed: "+(n instanceof Error?n.message:"Unknown error"))}finally{J(!1)}},1e3)},re=()=>{const n=He(j),i=`jala-global-config-${new Date().toISOString().split("T")[0]}.json`;M(n,i),u.success("Global configuration exported")},oe=n=>{const i=s.find(N=>N.id===n);if(!i)return;const d=We(i,t),x=`jala-client-${i.name.toLowerCase().replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.json`;M(d,x),u.success(`Client "${i.name}" configuration exported`)},le=n=>{const i=t.find(N=>N.id===n);if(!i)return;const d=_e(i),x=`jala-site-${i.name.toLowerCase().replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.json`;M(d,x),u.success(`Site "${i.name}" configuration exported`)},ce=()=>{const n=Ye(j,s,t),i=`jala-full-config-${new Date().toISOString().split("T")[0]}.json`;M(n,i),u.success("Full configuration exported")},de=()=>{const n=Y(s,"client"),i=`jala-clients-${new Date().toISOString().split("T")[0]}.csv`;Q(n,i),u.success("Clients exported to CSV")},me=()=>{const n=Y(t,"site"),i=`jala-sites-${new Date().toISOString().split("T")[0]}.csv`;Q(n,i),u.success("Sites exported to CSV")},ue=()=>{confirm("Are you sure you want to reset the global configuration to defaults? This cannot be undone.")&&($e(),u.success("Global configuration reset to defaults"))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Import/Export Settings"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Import and export configurations for global settings, clients, and sites"})]}),e.jsxs(A,{children:[e.jsx(D,{children:e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Environment Information"]})}),e.jsxs(O,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Environment"}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(F,{variant:G.isProduction?"destructive":G.isStaging?"default":"secondary",children:G.current.toUpperCase()})})]}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"API Base URL"}),e.jsx("p",{className:"text-sm font-mono mt-1",children:v.apiBaseUrl})]}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Version"}),e.jsx("p",{className:"text-sm mt-1",children:j.version})]})]}),e.jsx(y,{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Debug Logging"}),e.jsx(F,{variant:v.enableDebugLogging?"default":"secondary",children:v.enableDebugLogging?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Analytics"}),e.jsx(F,{variant:v.enableAnalytics?"default":"secondary",children:v.enableAnalytics?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Error Reporting"}),e.jsx(F,{variant:v.enableErrorReporting?"default":"secondary",children:v.enableErrorReporting?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Session Timeout"}),e.jsxs("p",{className:"text-sm",children:[v.sessionTimeout,"m"]})]})]})]})]}),e.jsxs(ve,{value:m,onValueChange:c,children:[e.jsxs(Ne,{className:"grid w-full grid-cols-3",children:[e.jsxs(R,{value:"global",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Global Config"]}),e.jsxs(R,{value:"export",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(R,{value:"import",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Import"]})]}),e.jsx(q,{value:"global",className:"space-y-4",children:e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsx(E,{children:"Global Configuration"}),e.jsx(L,{children:"Application-wide settings that apply across all clients and sites"})]}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Application Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Application Name"}),e.jsx("p",{className:"text-sm mt-1",children:j.applicationName})]}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Support Email"}),e.jsx("p",{className:"text-sm mt-1",children:j.supportEmail})]})]})]}),e.jsx(y,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Features"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(j.features).map(([n,i])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{className:"text-xs capitalize",children:n.replace(/^enable/,"").replace(/([A-Z])/g," $1").trim()}),e.jsx(F,{variant:i?"default":"secondary",children:i?"On":"Off"})]},n))})]}),e.jsx(y,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Security Settings"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Password Min Length"}),e.jsx("p",{className:"text-sm mt-1",children:j.security.passwordMinLength})]}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Session Timeout"}),e.jsxs("p",{className:"text-sm mt-1",children:[j.security.sessionTimeout,"m"]})]}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Max Login Attempts"}),e.jsx("p",{className:"text-sm mt-1",children:j.security.maxLoginAttempts})]})]})]}),e.jsx(y,{}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(b,{onClick:re,children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Export Global Config"]}),e.jsxs(b,{variant:"outline",onClick:ue,children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Reset to Defaults"]})]})]})]})}),e.jsxs(q,{value:"export",className:"space-y-4",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Full Configuration Export"]}),e.jsx(L,{children:"Export all configurations (global, clients, and sites) in one file"})]}),e.jsx(O,{children:e.jsxs(b,{onClick:ce,size:"lg",className:"w-full",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Export Full Configuration"]})})]}),e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Client Configurations"]}),e.jsx(L,{children:"Export individual client configurations (includes associated sites)"})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(b,{onClick:de,variant:"outline",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Export All Clients (CSV)"]})}),e.jsx(y,{}),e.jsx("div",{className:"space-y-2",children:s.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.filter(i=>i.clientId===n.id).length," sites"]})]}),e.jsxs(b,{onClick:()=>oe(n.id),size:"sm",children:[e.jsx(z,{className:"h-3 w-3 mr-2"}),"Export"]})]},n.id))})]})]}),e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"Site Configurations"]}),e.jsx(L,{children:"Export individual site configurations"})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(b,{onClick:me,variant:"outline",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Export All Sites (CSV)"]})}),e.jsx(y,{}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:t.map(n=>{const i=s.find(d=>d.id===n.clientId);return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i==null?void 0:i.name," • ",n.domain]})]}),e.jsxs(b,{onClick:()=>le(n.id),size:"sm",children:[e.jsx(z,{className:"h-3 w-3 mr-2"}),"Export"]})]},n.id)})})]})]})]}),e.jsx(q,{value:"import",className:"space-y-4",children:e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"Import Configuration"]}),e.jsx(L,{children:"Import configurations from JSON files"})]}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{htmlFor:"config-file",children:"Upload Configuration File"}),e.jsx("input",{id:"config-file",type:"file",accept:".json",onChange:ae,className:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"})]}),e.jsx(y,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{htmlFor:"config-json",children:"Or Paste Configuration JSON"}),e.jsx(Ce,{id:"config-json",value:g,onChange:n=>I(n.target.value),placeholder:"Paste your configuration JSON here...",className:"font-mono text-xs h-48"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{id:"generate-ids",checked:T,onCheckedChange:se}),e.jsx(p,{htmlFor:"generate-ids",className:"text-sm",children:"Generate new IDs (recommended to avoid conflicts)"})]}),r&&e.jsxs(B,{variant:r.success?"default":"destructive",children:[r.success?e.jsx(De,{className:"h-4 w-4"}):e.jsx(Ee,{className:"h-4 w-4"}),e.jsx($,{children:r.success?"Validation Successful":"Validation Failed"}),e.jsxs(X,{className:"space-y-2",children:[e.jsx("p",{children:r.message}),r.imported&&e.jsxs("div",{className:"text-xs space-y-1",children:[r.imported.global&&e.jsx("p",{children:"✓ Global configuration found"}),!!r.imported.clientsCount&&e.jsxs("p",{children:["✓ ",r.imported.clientsCount," client(s) found"]}),!!r.imported.sitesCount&&e.jsxs("p",{children:["✓ ",r.imported.sitesCount," site(s) found"]})]}),r.errors&&r.errors.length>0&&e.jsx("ul",{className:"text-xs space-y-1 mt-2",children:r.errors.map((n,i)=>e.jsxs("li",{children:["• ",n]},i))}),r.warnings&&r.warnings.length>0&&e.jsx("div",{className:"text-xs space-y-1 mt-2 text-yellow-600",children:r.warnings.map((n,i)=>e.jsxs("p",{children:["⚠ ",n]},i))})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(b,{onClick:ne,variant:"outline",disabled:!g.trim()||k,children:k?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-4 w-4 mr-2 animate-spin"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Validate"]})}),e.jsx(b,{onClick:ie,disabled:!(r!=null&&r.success)||w,children:w?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-4 w-4 mr-2 animate-spin"}),"Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Import Configuration"]})})]}),e.jsxs(B,{children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx($,{children:"Import Guidelines"}),e.jsxs(X,{className:"text-xs space-y-1",children:[e.jsx("p",{children:"• Always validate before importing"}),e.jsx("p",{children:"• Generate new IDs to avoid conflicts with existing data"}),e.jsx("p",{children:"• Back up existing configuration before importing"}),e.jsx("p",{children:"• Global config will overwrite current global settings"})]})]})]})]})})]})]})}export{kt as ImportExportSettings};
