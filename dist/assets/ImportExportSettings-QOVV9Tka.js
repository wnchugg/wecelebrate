import{m as U,r as C,j as e,P as ge,q as fe,G as xe,x as he,C as b,a5 as je,B as be,t as m}from"./index-Cwl2suO6.js";import{C as A,a as E,b as D,d as O,c as L}from"./card-C0rUAEdB.js";import{T as ve,a as ye,b as V,c as $}from"./tabs-CDWU_APU.js";import{A as z,a as _,b as K}from"./alert-BNf5-jqb.js";import{B as M}from"./badge-CVvH5yJO.js";import{P as Ne}from"./index-CW1p-fle.js";import{L as p}from"./label-DUKx7TRE.js";import{T as Ce}from"./textarea-Dy-9vXu1.js";import{S as Se}from"./switch-DyyYmFst.js";import{A as we,L as Ie}from"./layout-dashboard-BGCUVXma.js";import{D as B}from"./download-BLrmjuRA.js";import{F as W}from"./file-spreadsheet-Ci41K4yN.js";import{U as Ae}from"./upload-BD4ySa9p.js";import{C as Ee}from"./circle-check-big-DqFW6Yzj.js";import{C as De}from"./circle-alert-GQfJtxRP.js";import{L as Z}from"./loader-circle-Cneib8HD.js";import{E as Oe}from"./eye-Bh609TOw.js";import{I as Te}from"./info-CtBSPjLx.js";import"./index-BxnLrgNs.js";import"./index-8AlWhSN2.js";import"./index-DpDF7sJH.js";import"./index-nyi8sqE4.js";import"./index-fvr49HQo.js";import"./index-boiny7SK.js";import"./index-68TPYAPy.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],Le=U("arrow-up-from-line",ke);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Fe=U("file-down",Me);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Re=U("file-json",Pe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Ue=U("file-up",Ge);var Ve="Separator",H="horizontal",$e=["horizontal","vertical"],X=C.forwardRef((s,t)=>{const{decorative:a,orientation:o=H,...l}=s,u=Be(o)?o:H,g=a?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return e.jsx(Ne.div,{"data-orientation":u,...g,...l,ref:t})});X.displayName=Ve;function Be(s){return $e.includes(s)}var Je=X;function N({className:s,orientation:t="horizontal",decorative:a=!0,...o}){return e.jsx(Je,{"data-slot":"separator-root",decorative:a,orientation:t,className:ge("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...o})}const f={version:"2.0.0",applicationName:"JALA 2",supportEmail:"support@jala.com",supportPhone:"1-800-JALA-GIFT",branding:{defaultPrimaryColor:"#D91C81",defaultSecondaryColor:"#1B2A5E",defaultTertiaryColor:"#00B4CC"},defaults:{language:"en",currency:"USD",country:"US",timezone:"America/New_York"},security:{passwordMinLength:12,passwordRequireUppercase:!0,passwordRequireLowercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!0,sessionTimeout:60,maxLoginAttempts:5,lockoutDuration:30,requireMFA:!1,allowedFileTypes:[".jpg",".jpeg",".png",".gif",".pdf",".xlsx",".csv"],maxFileSize:10},email:{fromName:"JALA Gifting Platform",fromEmail:"noreply@jala.com",replyToEmail:"support@jala.com",footerText:"© 2026 JALA. All rights reserved.",enableEmailNotifications:!0},features:{enableMultiLanguage:!0,enableMultiCurrency:!0,enableGiftWrap:!0,enableGiftMessage:!0,enableStorePickup:!0,enableExpressShipping:!0,enableInternationalShipping:!0,enableProductReviews:!1,enableWishlist:!1,enableGiftRegistry:!1},compliance:{enableGDPR:!0,enableCCPA:!0,enableCookieConsent:!0,dataRetentionDays:2555,requirePrivacyPolicyAcceptance:!0,requireTermsAcceptance:!0},integrations:{enableShippingProviders:!0,enablePaymentGateways:!0,enableAnalytics:!0,enableCRM:!1,enableInventoryManagement:!1},operational:{maintenanceMode:!1,maintenanceMessage:"We are currently performing scheduled maintenance. Please check back soon.",allowNewClientRegistration:!0,allowNewSiteCreation:!0,maxClientsPerAccount:100,maxSitesPerClient:50,defaultOrderProcessingDays:3},metadata:{createdAt:"2026-01-01T00:00:00Z",updatedAt:new Date().toISOString()}};class qe{constructor(){this.storageKey="jala_global_config",this.config=this.loadConfig()}loadConfig(){try{const t=localStorage.getItem(this.storageKey);if(t){const a=JSON.parse(t);return this.mergeWithDefaults(a)}}catch(t){console.error("Error loading global config:",t)}return{...f}}mergeWithDefaults(t){return{...f,...t,branding:{...f.branding,...t.branding},defaults:{...f.defaults,...t.defaults},security:{...f.security,...t.security},email:{...f.email,...t.email},features:{...f.features,...t.features},compliance:{...f.compliance,...t.compliance},integrations:{...f.integrations,...t.integrations},operational:{...f.operational,...t.operational},metadata:{...f.metadata,...t.metadata}}}saveConfig(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.config))}catch(t){console.error("Error saving global config:",t)}}getConfig(){return{...this.config}}updateConfig(t){return this.config={...this.config,...t,metadata:{...this.config.metadata,updatedAt:new Date().toISOString()}},this.saveConfig(),this.getConfig()}resetConfig(){return this.config={...f},this.saveConfig(),this.getConfig()}exportConfig(){return JSON.stringify(this.config,null,2)}importConfig(t){try{const a=JSON.parse(t);return!a.version||!a.applicationName?{success:!1,error:"Invalid configuration: missing required fields"}:(this.config=this.mergeWithDefaults(a),this.saveConfig(),{success:!0})}catch(a){return{success:!1,error:a instanceof Error?a.message:"Invalid JSON format"}}}}const J=new qe;function ze(){return J.getConfig()}function _e(){return J.resetConfig()}function Ke(s){return J.importConfig(s)}function We(s,t){const a={type:"global",version:"2.0.0",exportedAt:new Date().toISOString(),exportedBy:t,data:{global:s}};return JSON.stringify(a,null,2)}function Ze(s,t,a){const o=t.filter(u=>u.clientId===s.id),l={type:"client",version:"2.0.0",exportedAt:new Date().toISOString(),exportedBy:a,data:{clients:[s],sites:o}};return JSON.stringify(l,null,2)}function He(s,t){const a={type:"site",version:"2.0.0",exportedAt:new Date().toISOString(),exportedBy:t,data:{sites:[s]}};return JSON.stringify(a,null,2)}function Ye(s,t,a,o){const l={type:"full",version:"2.0.0",exportedAt:new Date().toISOString(),exportedBy:o,data:{global:s,clients:t,sites:a}};return JSON.stringify(l,null,2)}function P(s,t){const a=new Blob([s],{type:"application/json"}),o=URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}function ee(s){var o,l,u;const t=[];if(!s||typeof s!="object")return t.push("Invalid data format"),{isValid:!1,errors:t};const a=s;return a.type||t.push("Missing export type"),a.version||t.push("Missing export version"),a.exportedAt||t.push("Missing export timestamp"),a.data||t.push("Missing export data"),a.type==="global"&&!((o=a.data)!=null&&o.global)&&t.push("Global configuration data is missing"),a.type==="client"&&(!((l=a.data)!=null&&l.clients)||a.data.clients.length===0)&&t.push("Client configuration data is missing"),a.type==="site"&&(!((u=a.data)!=null&&u.sites)||a.data.sites.length===0)&&t.push("Site configuration data is missing"),{isValid:t.length===0,errors:t}}function Qe(s){if(!s||typeof s!="object")return!1;const t=s;return!!(t.id&&t.name&&typeof t.isActive=="boolean")}function Xe(s){if(!s||typeof s!="object")return!1;const t=s;return!!(t.id&&t.name&&t.clientId&&t.domain&&t.status&&t.branding&&t.settings)}function et(s,t={}){var u,c;const{overwriteExisting:a=!1,generateNewIds:o=!1,validateOnly:l=!1}=t;try{const g=JSON.parse(s),S=ee(g);if(!S.isValid)return{success:!1,message:"Invalid configuration format",errors:S.errors};const r=g,h=[],T=[];return r.data.global&&(!r.data.global.version||!r.data.global.applicationName)&&h.push("Invalid global configuration: missing required fields"),r.data.clients&&r.data.clients.forEach((w,I)=>{Qe(w)||h.push(`Invalid client data at index ${I}`)}),r.data.sites&&r.data.sites.forEach((w,I)=>{Xe(w)||h.push(`Invalid site data at index ${I}`)}),h.length>0?{success:!1,message:"Validation failed",errors:h}:l?{success:!0,message:"Configuration is valid",warnings:T}:{success:!0,message:"Configuration ready to import",warnings:T,imported:{global:!!r.data.global,clientsCount:((u=r.data.clients)==null?void 0:u.length)||0,sitesCount:((c=r.data.sites)==null?void 0:c.length)||0}}}catch(g){return{success:!1,message:"Failed to parse configuration",errors:[g instanceof Error?g.message:"Unknown error"]}}}function tt(s){try{const t=JSON.parse(s);return ee(t).isValid?t:null}catch{return null}}function te(s){const t=Date.now(),a=Math.random().toString(36).substring(2,9);return`${s}-${t}-${a}`}function st(s,t){return t?{...s,id:te("client"),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:s}function at(s,t,a){const o={...s};return a&&(o.id=te("site"),o.createdAt=new Date().toISOString(),o.updatedAt=new Date().toISOString()),t&&(o.clientId=t),o}function Y(s,t){if(s.length===0)return"";const a=t==="client"?["ID","Name","Description","Contact Email","Contact Phone","Active","Created At"]:["ID","Name","Client ID","Domain","Status","Type","Primary Color","Created At"],o=s.map(u=>{if(t==="client"){const c=u;return[c.id,c.name,c.description||"",c.contactEmail||"",c.contactPhone||"",c.isActive?"Yes":"No",c.createdAt]}else{const c=u;return[c.id,c.name,c.clientId,c.domain,c.status,c.type||"",c.branding.primaryColor,c.createdAt]}});return[a.join(","),...o.map(u=>u.map(c=>`"${c}"`).join(","))].join(`
`)}function Q(s,t){const a=new Blob([s],{type:"text/csv"}),o=URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}function G(){return"production"}function nt(){const s=G(),t={environment:s,apiTimeout:3e4,maxUploadSize:10};switch(s){case"production":return{...t,apiBaseUrl:"https://api.jala.com",enableDebugLogging:!1,enableAnalytics:!0,enableErrorReporting:!0,sessionTimeout:60,features:{enableImportExport:!0,enableAdvancedAdmin:!0,enableBetaFeatures:!1,enableAuditLogs:!0,enableSSOConfig:!0},integrations:{supabase:{url:"",anonKey:""},analytics:{googleAnalyticsId:void 0,segmentKey:void 0},monitoring:{sentryDsn:void 0}}};case"staging":return{...t,apiBaseUrl:"https://staging-api.jala.com",enableDebugLogging:!0,enableAnalytics:!0,enableErrorReporting:!0,sessionTimeout:120,features:{enableImportExport:!0,enableAdvancedAdmin:!0,enableBetaFeatures:!0,enableAuditLogs:!0,enableSSOConfig:!0},integrations:{supabase:{url:"",anonKey:""},analytics:{googleAnalyticsId:void 0},monitoring:{sentryDsn:void 0}}};case"development":default:return{...t,apiBaseUrl:"http://localhost:3001",enableDebugLogging:!0,enableAnalytics:!1,enableErrorReporting:!1,sessionTimeout:480,features:{enableImportExport:!0,enableAdvancedAdmin:!0,enableBetaFeatures:!0,enableAuditLogs:!0,enableSSOConfig:!0},integrations:{supabase:{url:"",anonKey:""}}}}}const R={get current(){return G()},get config(){return nt()},get isStaging(){return G()==="staging"},get isProduction(){return G()==="production"}};function Ot(){const{clients:s,sites:t,addClient:a,addSite:o,currentClient:l}=fe(),[u,c]=C.useState("global"),[g,S]=C.useState(""),[r,h]=C.useState(null),[T,w]=C.useState(!1),[I,F]=C.useState(!1),[k,se]=C.useState(!0),j=ze(),v=R.config,ae=n=>{var x;const i=(x=n.target.files)==null?void 0:x[0];if(!i)return;const d=new FileReader;d.onload=y=>{var q;const pe=(q=y.target)==null?void 0:q.result;S(pe),h(null)},d.readAsText(i)},ne=()=>{if(!g.trim()){m.error("Please provide configuration data to validate");return}w(!0),setTimeout(()=>{const n=et(g,{validateOnly:!0});h(n),w(!1),n.success?m.success("Configuration is valid and ready to import"):m.error("Configuration validation failed")},500)},ie=()=>{if(!g.trim()){m.error("Please provide configuration data to import");return}if(!(r!=null&&r.success)){m.error("Please validate the configuration first");return}F(!0),setTimeout(()=>{try{const n=tt(g);if(!n){m.error("Failed to parse configuration data"),F(!1);return}if(n.data.global){const d=Ke(JSON.stringify(n.data.global));if(!d.success){m.error(`Global config import failed: ${d.error}`),F(!1);return}}const i=new Map;n.data.clients&&n.data.clients.forEach(d=>{const x=st(d,k);k&&i.set(d.id,x.id),a(x)}),n.data.sites&&n.data.sites.forEach(d=>{const x=k&&i.has(d.clientId)?i.get(d.clientId):d.clientId,y=at(d,x,k);o(y)}),m.success("Configuration imported successfully!"),S(""),h(null)}catch(n){m.error("Import failed: "+(n instanceof Error?n.message:"Unknown error"))}finally{F(!1)}},1e3)},re=()=>{const n=We(j),i=`jala-global-config-${new Date().toISOString().split("T")[0]}.json`;P(n,i),m.success("Global configuration exported")},oe=n=>{const i=s.find(y=>y.id===n);if(!i)return;const d=Ze(i,t),x=`jala-client-${i.name.toLowerCase().replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.json`;P(d,x),m.success(`Client "${i.name}" configuration exported`)},le=n=>{const i=t.find(y=>y.id===n);if(!i)return;const d=He(i),x=`jala-site-${i.name.toLowerCase().replace(/\s+/g,"-")}-${new Date().toISOString().split("T")[0]}.json`;P(d,x),m.success(`Site "${i.name}" configuration exported`)},ce=()=>{const n=Ye(j,s,t),i=`jala-full-config-${new Date().toISOString().split("T")[0]}.json`;P(n,i),m.success("Full configuration exported")},de=()=>{const n=Y(s,"client"),i=`jala-clients-${new Date().toISOString().split("T")[0]}.csv`;Q(n,i),m.success("Clients exported to CSV")},ue=()=>{const n=Y(t,"site"),i=`jala-sites-${new Date().toISOString().split("T")[0]}.csv`;Q(n,i),m.success("Sites exported to CSV")},me=()=>{confirm("Are you sure you want to reset the global configuration to defaults? This cannot be undone.")&&(_e(),m.success("Global configuration reset to defaults"))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Import/Export Settings"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Import and export configurations for global settings, clients, and sites"})]}),e.jsxs(A,{children:[e.jsx(E,{children:e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Environment Information"]})}),e.jsxs(O,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Environment"}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(M,{variant:R.isProduction?"destructive":R.isStaging?"default":"secondary",children:R.current.toUpperCase()})})]}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"API Base URL"}),e.jsx("p",{className:"text-sm font-mono mt-1",children:v.apiBaseUrl})]}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Version"}),e.jsx("p",{className:"text-sm mt-1",children:j.version})]})]}),e.jsx(N,{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Debug Logging"}),e.jsx(M,{variant:v.enableDebugLogging?"default":"secondary",children:v.enableDebugLogging?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Analytics"}),e.jsx(M,{variant:v.enableAnalytics?"default":"secondary",children:v.enableAnalytics?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Error Reporting"}),e.jsx(M,{variant:v.enableErrorReporting?"default":"secondary",children:v.enableErrorReporting?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Session Timeout"}),e.jsxs("p",{className:"text-sm",children:[v.sessionTimeout,"m"]})]})]})]})]}),e.jsxs(ve,{value:u,onValueChange:c,children:[e.jsxs(ye,{className:"grid w-full grid-cols-3",children:[e.jsxs(V,{value:"global",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Global Config"]}),e.jsxs(V,{value:"export",children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(V,{value:"import",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Import"]})]}),e.jsx($,{value:"global",className:"space-y-4",children:e.jsxs(A,{children:[e.jsxs(E,{children:[e.jsx(D,{children:"Global Configuration"}),e.jsx(L,{children:"Application-wide settings that apply across all clients and sites"})]}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Application Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Application Name"}),e.jsx("p",{className:"text-sm mt-1",children:j.applicationName})]}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Support Email"}),e.jsx("p",{className:"text-sm mt-1",children:j.supportEmail})]})]})]}),e.jsx(N,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Features"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(j.features).map(([n,i])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{className:"text-xs capitalize",children:n.replace(/^enable/,"").replace(/([A-Z])/g," $1").trim()}),e.jsx(M,{variant:i?"default":"secondary",children:i?"On":"Off"})]},n))})]}),e.jsx(N,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Security Settings"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Password Min Length"}),e.jsx("p",{className:"text-sm mt-1",children:j.security.passwordMinLength})]}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Session Timeout"}),e.jsxs("p",{className:"text-sm mt-1",children:[j.security.sessionTimeout,"m"]})]}),e.jsxs("div",{children:[e.jsx(p,{className:"text-xs text-muted-foreground",children:"Max Login Attempts"}),e.jsx("p",{className:"text-sm mt-1",children:j.security.maxLoginAttempts})]})]})]}),e.jsx(N,{}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(b,{onClick:re,children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Export Global Config"]}),e.jsxs(b,{variant:"outline",onClick:me,children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Reset to Defaults"]})]})]})]})}),e.jsxs($,{value:"export",className:"space-y-4",children:[e.jsxs(A,{children:[e.jsxs(E,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-5 w-5"}),"Full Configuration Export"]}),e.jsx(L,{children:"Export all configurations (global, clients, and sites) in one file"})]}),e.jsx(O,{children:e.jsxs(b,{onClick:ce,size:"lg",className:"w-full",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Export Full Configuration"]})})]}),e.jsxs(A,{children:[e.jsxs(E,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Client Configurations"]}),e.jsx(L,{children:"Export individual client configurations (includes associated sites)"})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(b,{onClick:de,variant:"outline",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Export All Clients (CSV)"]})}),e.jsx(N,{}),e.jsx("div",{className:"space-y-2",children:s.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.filter(i=>i.clientId===n.id).length," sites"]})]}),e.jsxs(b,{onClick:()=>oe(n.id),size:"sm",children:[e.jsx(B,{className:"h-3 w-3 mr-2"}),"Export"]})]},n.id))})]})]}),e.jsxs(A,{children:[e.jsxs(E,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5"}),"Site Configurations"]}),e.jsx(L,{children:"Export individual site configurations"})]}),e.jsxs(O,{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(b,{onClick:ue,variant:"outline",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Export All Sites (CSV)"]})}),e.jsx(N,{}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:t.map(n=>{const i=s.find(d=>d.id===n.clientId);return e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i==null?void 0:i.name," • ",n.domain]})]}),e.jsxs(b,{onClick:()=>le(n.id),size:"sm",children:[e.jsx(B,{className:"h-3 w-3 mr-2"}),"Export"]})]},n.id)})})]})]})]}),e.jsx($,{value:"import",className:"space-y-4",children:e.jsxs(A,{children:[e.jsxs(E,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"Import Configuration"]}),e.jsx(L,{children:"Import configurations from JSON files"})]}),e.jsxs(O,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{htmlFor:"config-file",children:"Upload Configuration File"}),e.jsx("input",{id:"config-file",type:"file",accept:".json",onChange:ae,className:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90"})]}),e.jsx(N,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{htmlFor:"config-json",children:"Or Paste Configuration JSON"}),e.jsx(Ce,{id:"config-json",value:g,onChange:n=>S(n.target.value),placeholder:"Paste your configuration JSON here...",className:"font-mono text-xs h-48"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{id:"generate-ids",checked:k,onCheckedChange:se}),e.jsx(p,{htmlFor:"generate-ids",className:"text-sm",children:"Generate new IDs (recommended to avoid conflicts)"})]}),r&&e.jsxs(z,{variant:r.success?"default":"destructive",children:[r.success?e.jsx(Ee,{className:"h-4 w-4"}):e.jsx(De,{className:"h-4 w-4"}),e.jsx(_,{children:r.success?"Validation Successful":"Validation Failed"}),e.jsxs(K,{className:"space-y-2",children:[e.jsx("p",{children:r.message}),r.imported&&e.jsxs("div",{className:"text-xs space-y-1",children:[r.imported.global&&e.jsx("p",{children:"✓ Global configuration found"}),!!r.imported.clientsCount&&e.jsxs("p",{children:["✓ ",r.imported.clientsCount," client(s) found"]}),!!r.imported.sitesCount&&e.jsxs("p",{children:["✓ ",r.imported.sitesCount," site(s) found"]})]}),r.errors&&r.errors.length>0&&e.jsx("ul",{className:"text-xs space-y-1 mt-2",children:r.errors.map((n,i)=>e.jsxs("li",{children:["• ",n]},i))}),r.warnings&&r.warnings.length>0&&e.jsx("div",{className:"text-xs space-y-1 mt-2 text-yellow-600",children:r.warnings.map((n,i)=>e.jsxs("p",{children:["⚠ ",n]},i))})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(b,{onClick:ne,variant:"outline",disabled:!g.trim()||T,children:T?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Validating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Validate"]})}),e.jsx(b,{onClick:ie,disabled:!(r!=null&&r.success)||I,children:I?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Import Configuration"]})})]}),e.jsxs(z,{children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsx(_,{children:"Import Guidelines"}),e.jsxs(K,{className:"text-xs space-y-1",children:[e.jsx("p",{children:"• Always validate before importing"}),e.jsx("p",{children:"• Generate new IDs to avoid conflicts with existing data"}),e.jsx("p",{children:"• Back up existing configuration before importing"}),e.jsx("p",{children:"• Global config will overwrite current global settings"})]})]})]})]})})]})]})}export{Ot as ImportExportSettings};
