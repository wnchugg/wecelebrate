import{r as d,w as T,p as k,l as D,j as e,K as I,B as E,U as F,A as B}from"./index-DHDOl0g2.js";import{C as u,a as g,b as h,d as b}from"./card-DAEfl5-S.js";import{T as L,a as K,b as N,c as w}from"./tabs-DOrarGfR.js";import{A as U,b as V}from"./alert-BBS-OmT7.js";import{a as Y,s as J}from"./errorHandling-cB_D8Kf8.js";import{E as W}from"./external-link-BXKPgQkd.js";import{R as _}from"./rotate-ccw-D42TkvDG.js";import{S as q}from"./save-Boa8-IjG.js";import{C as Q}from"./circle-alert-HchCeVzY.js";import{T as X}from"./type-BIh2gLcP.js";import{T as Z}from"./truck-BkSqPgtz.js";import{G as C}from"./gift-BJG2t0OD.js";import{E as ee}from"./eye-11lXgXQ8.js";import{M as se,S as te}from"./smartphone-Z8ztVhiF.js";import{T as re}from"./tablet-9vQiB8ys.js";import"./index-0KHVUZMN.js";import"./index-BeutWgun.js";import"./index-lgbBQNXr.js";import"./index-2uzMacW4.js";import"./index-BkT7IzDf.js";import"./index-aDCT5v17.js";import"./index-fna-u0r9.js";const P={hero:{badgeIcon:"Gift",badgeText:"Premium Event Gifting Platform",title:"Celebrate Every Milestone",subtitle:"Choose from our curated selection of premium gifts for your employees or corporate events",gradientColors:"from-blue-600 via-blue-700 to-indigo-800"},deliverySection:{sectionTitle:"Choose Your Delivery Option",sectionSubtitle:"Select how you'd like to receive your gifts - shipped directly to your company or to individual employees",companyShipping:{title:"Ship to Company",description:"Have all gifts delivered to your company address for bulk distribution. Ideal for corporate events and team celebrations.",ctaText:"Browse Catalog"},employeeShipping:{title:"Ship to Employee",description:"Send gifts directly to individual employee addresses. Perfect for remote teams and personalized recognition.",ctaText:"Browse Catalog"}},features:{show:!0,items:[{id:"1",icon:"Gift",title:"Premium Selection",description:"Curated gifts from top brands to celebrate your team"},{id:"2",icon:"Building2",title:"Flexible Delivery",description:"Choose company or individual shipping options"},{id:"3",icon:"ArrowRight",title:"Easy Process",description:"Simple checkout and tracking for all orders"}]}};function Te(){const[t,l]=d.useState(P),[S,n]=d.useState(!1),[x,m]=d.useState("idle"),[p,f]=d.useState("desktop"),[A,H]=d.useState("hero");d.useEffect(()=>{R()},[]);const R=async()=>{try{const s=await fetch(`https://${T}.supabase.co/functions/v1/make-server-6fcaeea3/global-settings/home-page`,{headers:{Authorization:`Bearer ${k}`}});if(s.ok){const r=await s.json();r.config&&l(r.config)}}catch(s){D.error("[HomePageEditor] Failed to load config:",s)}},$=async()=>{m("saving");try{if((await fetch(`https://${T}.supabase.co/functions/v1/make-server-6fcaeea3/global-settings/home-page`,{method:"POST",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({config:t})})).ok)m("saved"),n(!1),Y("Home page settings saved successfully"),setTimeout(()=>m("idle"),2e3);else throw new Error("Failed to save settings")}catch(s){D.error("[HomePageEditor] Failed to save config:",s),m("error"),J("Failed to save home page settings"),setTimeout(()=>m("idle"),2e3)}},G=()=>{confirm("Are you sure you want to reset to default settings? This cannot be undone.")&&(l(P),n(!0))},a=(s,r)=>{l(i=>{const c={...i},o=s.split(".");let j=c;for(let v=0;v<o.length-1;v++)j=j[o[v]];return j[o[o.length-1]]=r,c}),n(!0)},M=()=>{const s={id:Date.now().toString(),icon:"Star",title:"New Feature",description:"Feature description"};l(r=>({...r,features:{...r.features,items:[...r.features.items,s]}})),n(!0)},O=s=>{l(r=>({...r,features:{...r.features,items:r.features.items.filter(i=>i.id!==s)}})),n(!0)},y=(s,r,i)=>{l(c=>({...c,features:{...c.features,items:c.features.items.map(o=>o.id===s?{...o,[r]:i}:o)}})),n(!0)},z={desktop:"max-w-full",tablet:"max-w-3xl",mobile:"max-w-sm"}[p];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Home Page Editor"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Customize the /home page content and styling"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("a",{href:"/home",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 text-[#D91C81] border border-[#D91C81] rounded-lg hover:bg-pink-50 transition-colors",children:[e.jsx(W,{className:"w-4 h-4"}),"View Live"]}),e.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(_,{className:"w-4 h-4"}),"Reset"]}),e.jsx("button",{onClick:$,disabled:!S||x==="saving",className:"flex items-center gap-2 px-6 py-2 bg-[#D91C81] text-white rounded-lg hover:bg-[#B01669] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x==="saving"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):x==="saved"?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4"}),"Saved!"]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-4 h-4"}),"Save Changes"]})})]})]}),S&&x==="idle"&&e.jsxs(U,{className:"border-amber-200 bg-amber-50",children:[e.jsx(Q,{className:"w-4 h-4 text-amber-600"}),e.jsx(V,{className:"text-amber-800",children:"You have unsaved changes. Remember to save before leaving this page."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs(L,{value:A,onValueChange:H,children:[e.jsxs(K,{className:"grid grid-cols-3 w-full",children:[e.jsx(N,{value:"hero",children:"Hero"}),e.jsx(N,{value:"delivery",children:"Delivery"}),e.jsx(N,{value:"features",children:"Features"})]}),e.jsx(w,{value:"hero",className:"space-y-4 mt-4",children:e.jsxs(u,{children:[e.jsx(g,{children:e.jsxs(h,{className:"flex items-center gap-2 text-lg",children:[e.jsx(X,{className:"w-5 h-5 text-[#00B4CC]"}),"Hero Section"]})}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Badge Text"}),e.jsx("input",{type:"text",value:t.hero.badgeText,onChange:s=>a("hero.badgeText",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",placeholder:"Premium Event Gifting Platform"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Title"}),e.jsx("input",{type:"text",value:t.hero.title,onChange:s=>a("hero.title",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",placeholder:"Celebrate Every Milestone"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Subtitle"}),e.jsx("textarea",{value:t.hero.subtitle,onChange:s=>a("hero.subtitle",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",rows:3,placeholder:"Choose from our curated selection..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gradient Colors (Tailwind classes)"}),e.jsx("input",{type:"text",value:t.hero.gradientColors,onChange:s=>a("hero.gradientColors",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent font-mono text-sm",placeholder:"from-blue-600 via-blue-700 to-indigo-800"})]})]})]})}),e.jsx(w,{value:"delivery",className:"space-y-4 mt-4",children:e.jsxs(u,{children:[e.jsx(g,{children:e.jsxs(h,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Z,{className:"w-5 h-5 text-[#D91C81]"}),"Delivery Options Section"]})}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Title"}),e.jsx("input",{type:"text",value:t.deliverySection.sectionTitle,onChange:s=>a("deliverySection.sectionTitle",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Section Subtitle"}),e.jsx("textarea",{value:t.deliverySection.sectionSubtitle,onChange:s=>a("deliverySection.sectionSubtitle",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",rows:2})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Company Shipping Option"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:t.deliverySection.companyShipping.title,onChange:s=>a("deliverySection.companyShipping.title",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:t.deliverySection.companyShipping.description,onChange:s=>a("deliverySection.companyShipping.description",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text"}),e.jsx("input",{type:"text",value:t.deliverySection.companyShipping.ctaText,onChange:s=>a("deliverySection.companyShipping.ctaText",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),"Employee Shipping Option"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:t.deliverySection.employeeShipping.title,onChange:s=>a("deliverySection.employeeShipping.title",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:t.deliverySection.employeeShipping.description,onChange:s=>a("deliverySection.employeeShipping.description",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text"}),e.jsx("input",{type:"text",value:t.deliverySection.employeeShipping.ctaText,onChange:s=>a("deliverySection.employeeShipping.ctaText",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]})]})]})]})]})}),e.jsx(w,{value:"features",className:"space-y-4 mt-4",children:e.jsxs(u,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(h,{className:"flex items-center gap-2 text-lg",children:[e.jsx(C,{className:"w-5 h-5 text-[#00B4CC]"}),"Feature Cards"]}),e.jsx("button",{onClick:M,className:"px-3 py-1 text-sm bg-[#00B4CC] text-white rounded-lg hover:bg-[#0099B3] transition-colors",children:"Add Feature"})]})}),e.jsxs(b,{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.features.show,onChange:s=>a("features.show",s.target.checked),className:"w-5 h-5 text-[#D91C81] border-gray-300 rounded focus:ring-[#D91C81]"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Features Section"})]}),t.features.items.map((s,r)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Feature ",r+1]}),e.jsx("button",{onClick:()=>O(s.id),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Icon (Lucide icon name)"}),e.jsx("input",{type:"text",value:s.icon,onChange:i=>y(s.id,"icon",i.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",placeholder:"Gift"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title"}),e.jsx("input",{type:"text",value:s.title,onChange:i=>y(s.id,"title",i.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:s.description,onChange:i=>y(s.id,"description",i.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D91C81] focus:border-transparent",rows:2})]})]},s.id))]})]})})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs(u,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-[#D91C81]"}),"Preview"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f("desktop"),className:`p-2 rounded ${p==="desktop"?"bg-[#D91C81] text-white":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(se,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f("tablet"),className:`p-2 rounded ${p==="tablet"?"bg-[#D91C81] text-white":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(re,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f("mobile"),className:`p-2 rounded ${p==="mobile"?"bg-[#D91C81] text-white":"text-gray-600 hover:bg-gray-100"}`,children:e.jsx(te,{className:"w-4 h-4"})})]})]})}),e.jsx(b,{children:e.jsx("div",{className:`mx-auto transition-all ${z}`,children:e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm",children:[e.jsx("div",{className:`bg-gradient-to-br ${t.hero.gradientColors} text-white py-12 px-6`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full mb-4",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:t.hero.badgeText})]}),e.jsx("h1",{className:"text-3xl font-bold mb-3",children:t.hero.title}),e.jsx("p",{className:"text-sm text-blue-100",children:t.hero.subtitle})]})}),e.jsxs("div",{className:"py-8 px-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:t.deliverySection.sectionTitle}),e.jsx("p",{className:"text-sm text-gray-600",children:t.deliverySection.sectionSubtitle})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(E,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-2",children:t.deliverySection.companyShipping.title}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:t.deliverySection.companyShipping.description}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-blue-600 text-xs font-semibold",children:[t.deliverySection.companyShipping.ctaText,e.jsx(B,{className:"w-3 h-3"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(F,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-2",children:t.deliverySection.employeeShipping.title}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:t.deliverySection.employeeShipping.description}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-blue-600 text-xs font-semibold",children:[t.deliverySection.employeeShipping.ctaText,e.jsx(B,{className:"w-3 h-3"})]})]})]})]}),t.features.show&&e.jsx("div",{className:"bg-white py-8 px-6 border-t border-gray-200",children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:t.features.items.map(s=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx(C,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h3",{className:"font-bold text-xs mb-1",children:s.title}),e.jsx("p",{className:"text-xs text-gray-600",children:s.description})]},s.id))})})]})})})]})})]})]})}export{Te as default};
