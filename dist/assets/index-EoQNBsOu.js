import{Y as r,V as I,j as u,P as S}from"./index-o4gpx1In.js";import{c as _}from"./index-B-P3gkn_.js";function P(s){const a=s+"CollectionProvider",[A,E]=_(a),[N,f]=A(a,{collectionRef:{current:null},itemMap:new Map}),d=c=>{const{scope:e,children:l}=c,t=r.useRef(null),o=r.useRef(new Map).current;return u.jsx(N,{scope:e,itemMap:o,collectionRef:t,children:l})};d.displayName=a;const m=s+"CollectionSlot",p=r.forwardRef((c,e)=>{const{scope:l,children:t}=c,o=f(m,l),n=I(e,o.collectionRef);return u.jsx(S,{ref:n,children:t})});p.displayName=m;const C=s+"CollectionItemSlot",R="data-radix-collection-item",x=r.forwardRef((c,e)=>{const{scope:l,children:t,...o}=c,n=r.useRef(null),M=I(e,n),i=f(C,l);return r.useEffect(()=>(i.itemMap.set(n,{ref:n,...o}),()=>void i.itemMap.delete(n))),u.jsx(S,{[R]:"",ref:M,children:t})});x.displayName=C;function T(c){const e=f(s+"CollectionConsumer",c);return r.useCallback(()=>{const t=e.collectionRef.current;if(!t)return[];const o=Array.from(t.querySelectorAll(`[${R}]`));return Array.from(e.itemMap.values()).sort((i,O)=>o.indexOf(i.ref.current)-o.indexOf(O.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:d,Slot:p,ItemSlot:x},T,E]}export{P as c};
